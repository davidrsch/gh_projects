"use strict";(()=>{var U=class{constructor(e,t){this.menuElement=null;this.backdropElement=null;this.field=e,this.options=t}getIconSvg(e){return typeof window.getIconSvg=="function"?window.getIconSvg(e):""}show(e){this.hide(),this.backdropElement=document.createElement("div"),this.backdropElement.style.position="fixed",this.backdropElement.style.top="0",this.backdropElement.style.left="0",this.backdropElement.style.right="0",this.backdropElement.style.bottom="0",this.backdropElement.style.zIndex="999",this.backdropElement.addEventListener("click",()=>this.hide()),document.body.appendChild(this.backdropElement),this.menuElement=document.createElement("div"),this.menuElement.className="column-header-menu",this.menuElement.style.position="absolute",this.menuElement.style.background="var(--vscode-menu-background)",this.menuElement.style.border="1px solid var(--vscode-menu-border)",this.menuElement.style.borderRadius="4px",this.menuElement.style.boxShadow="0 2px 8px rgba(0, 0, 0, 0.15)",this.menuElement.style.minWidth="180px",this.menuElement.style.padding="4px 0",this.menuElement.style.zIndex="1000",this.menuElement.style.fontSize="13px";let t=e.getBoundingClientRect();this.menuElement.style.top=`${t.bottom+4}px`,this.menuElement.style.left=`${t.left}px`,this.buildMenuItems(),document.body.appendChild(this.menuElement)}hide(){this.menuElement&&(this.menuElement.remove(),this.menuElement=null),this.backdropElement&&(this.backdropElement.remove(),this.backdropElement=null)}buildMenuItems(){if(!this.menuElement)return;this.addMenuItem("Select column",null,{isHeader:!0}),this.addSeparator(),this.addMenuItem("Sort ascending",()=>{this.options.onSort?.("ASC"),this.hide()},{icon:this.getIconSvg("sort-asc"),showClear:this.options.currentSort==="ASC",clearAction:this.options.onClearSort}),this.addMenuItem("Sort descending",()=>{this.options.onSort?.("DESC"),this.hide()},{icon:this.getIconSvg("sort-desc"),showClear:this.options.currentSort==="DESC",clearAction:this.options.onClearSort}),this.addSeparator(),this.options.canGroup&&this.addMenuItem("Group by values",()=>{this.options.onGroup?.(),this.hide()},{icon:this.getIconSvg("rows"),showClear:!!this.options.isGrouped,clearAction:this.options.onClearGroup}),this.options.canSlice&&this.addMenuItem("Slice by values",()=>{this.options.onSlice?.(),this.hide()},{icon:this.getIconSvg("sliceby"),showClear:!!this.options.isSliced,clearAction:this.options.onClearSlice}),this.options.canFilter&&this.addMenuItem("Filter by values...",()=>{this.options.onFilter?.(),this.hide()}),(this.options.canGroup||this.options.canSlice||this.options.canFilter)&&this.addSeparator(),!!(this.field&&(this.field.type==="title"||String(this.field.name||"").toLowerCase()==="title"||String(this.field.id||"").toLowerCase()==="title"))||this.addMenuItem("Hide field",()=>{this.options.onHide?.(),this.hide()},{icon:this.getIconSvg("eye-closed")}),this.addSeparator();let t=!!this.options.isFirst,i=!!this.options.isLast;this.addMenuItem("Move left",()=>{t||(this.options.onMove?.("left"),this.hide())},{icon:this.getIconSvg("arrow-left"),disabled:t}),this.addMenuItem("Move right",()=>{i||(this.options.onMove?.("right"),this.hide())},{icon:this.getIconSvg("arrow-right"),disabled:i})}addMenuItem(e,t,i){if(!this.menuElement)return;let n=document.createElement("div");if(n.className="menu-item",i?.isHeader){n.textContent=e,n.style.padding="6px 12px",n.style.fontWeight="600",n.style.color="var(--vscode-descriptionForeground)",n.style.fontSize="11px",n.style.textTransform="uppercase",n.style.cursor="default",this.menuElement.appendChild(n);return}if(n.style.display="flex",n.style.alignItems="center",n.style.justifyContent="space-between",n.style.padding="6px 12px",n.style.cursor="pointer",n.style.color="var(--vscode-menu-foreground)",i?.icon){let r=document.createElement("span");r.className="menu-item-icon",r.style.display="inline-block",r.style.width="14px",r.style.marginRight="8px",r.style.flex="0 0 auto",r.innerHTML=i.icon,n.appendChild(r)}let s=document.createElement("span");if(s.textContent=e,s.style.flex="1",s.style.whiteSpace="nowrap",s.style.overflow="hidden",s.style.textOverflow="ellipsis",n.appendChild(s),i?.showClear&&i?.clearAction){let r=document.createElement("button");r.type="button",r.textContent="\u2715",r.title="Clear",r.style.border="none",r.style.background="transparent",r.style.cursor="pointer",r.style.padding="2px 6px",r.style.marginLeft="8px",r.style.color="var(--vscode-menu-foreground)",r.addEventListener("mouseenter",()=>{r.style.color="var(--vscode-menu-selectionForeground)",r.style.background="var(--vscode-menu-selectionBackground)"}),r.addEventListener("mouseleave",()=>{r.style.color="var(--vscode-menu-foreground)",r.style.background="transparent"}),r.addEventListener("click",o=>{o.stopPropagation(),i.clearAction&&i.clearAction(),this.hide()}),n.appendChild(r)}i?.disabled&&(n.style.opacity="0.5",n.style.cursor="default"),t&&(n.addEventListener("mouseenter",()=>{n.style.background="var(--vscode-menu-selectionBackground)",n.style.color="var(--vscode-menu-selectionForeground)"}),n.addEventListener("mouseleave",()=>{n.style.background="transparent",n.style.color="var(--vscode-menu-foreground)"}),n.addEventListener("click",()=>{i?.disabled||t()})),this.menuElement.appendChild(n)}addSeparator(){if(!this.menuElement)return;let e=document.createElement("div");e.style.height="1px",e.style.background="var(--vscode-menu-separatorBackground)",e.style.margin="4px 0",this.menuElement.appendChild(e)}};var q=class{constructor(e){this.options=e}getIconSvg(e){return typeof window.getIconSvg=="function"?window.getIconSvg(e):""}render(e){let t=document.createElement("thead");t.style.background="var(--vscode-sideBar-background)",t.style.position="sticky",t.style.top="0",t.style.zIndex="10";let i=document.createElement("tr"),n=document.createElement("th");n.textContent="#",this.styleHeaderCell(n),i.appendChild(n);for(let o of this.options.fields){let l=document.createElement("th"),a=document.createElement("div");a.style.display="flex",a.style.alignItems="center",a.style.justifyContent="space-between",a.style.width="100%",a.style.gap="4px";let d=document.createElement("span"),m=o.name||o.id||"";d.textContent=m,d.style.flex="1",d.style.overflow="hidden",d.style.textOverflow="ellipsis",d.style.whiteSpace="nowrap";let p=o.name?.toLowerCase()===this.options.groupingFieldName?.toLowerCase(),b=this.options.activeSlice&&this.options.activeSlice.fieldId===o.id||this.options.activeSlicePanelFieldId&&String(this.options.activeSlicePanelFieldId)===String(o.id),w=this.options.sortConfig?.fieldId===o.id,C=document.createElement("span");if(C.style.display="flex",C.style.alignItems="center",C.style.gap="6px",w){let h=document.createElement("span");h.className="column-sort-icon";let x=this.options.sortConfig?.direction==="ASC"?"sort-asc":"sort-desc";h.innerHTML=this.getIconSvg(x),h.style.display="inline-flex",h.style.alignItems="center",h.style.color="var(--vscode-foreground)",h.style.opacity="0.85",h.title=this.options.sortConfig?.direction==="ASC"?"Sorted ascending":"Sorted descending",C.appendChild(h)}if(p){let h=document.createElement("span");h.className="column-group-icon",h.innerHTML=this.getIconSvg("rows"),h.style.display="inline-flex",h.style.alignItems="center",h.style.color="var(--vscode-foreground)",h.style.opacity="0.85",h.title="Grouped by this field (click to clear)",h.style.cursor="pointer",h.addEventListener("click",x=>{x.stopPropagation(),this.options.onClearGroup(o)}),C.appendChild(h)}if(b){let h=document.createElement("span");h.className="column-slice-icon",h.innerHTML=this.getIconSvg("sliceby"),h.style.display="inline-flex",h.style.alignItems="center",h.style.color="var(--vscode-foreground)",h.style.opacity="0.85",h.title="Sliced by this field (click to clear)",h.style.cursor="pointer",h.addEventListener("click",x=>{x.stopPropagation(),this.options.onClearSlice(o)}),C.appendChild(h)}let I=document.createElement("button");I.textContent="\u22EE",I.style.background="transparent",I.style.border="none",I.style.cursor="pointer",I.style.fontSize="16px",I.style.padding="2px 4px",I.style.color="var(--vscode-foreground)",I.style.opacity="0.6",I.style.borderRadius="3px",I.title=`${o.name} options`,I.addEventListener("mouseenter",()=>{I.style.opacity="1",I.style.background="var(--vscode-toolbar-hoverBackground)"}),I.addEventListener("mouseleave",()=>{I.style.opacity="0.6",I.style.background="transparent"}),I.addEventListener("click",h=>{h.stopPropagation(),l.style.background="var(--vscode-sideBar-background)",this.options.onHeaderMenu(h,o,l)}),a.appendChild(d),(w||p||b)&&a.appendChild(C),a.appendChild(I),l.appendChild(a),l.addEventListener("pointerenter",()=>{l.style.background="var(--vscode-list-hoverBackground)"}),l.addEventListener("pointerleave",()=>{l.style.background="var(--vscode-sideBar-background)"}),this.styleHeaderCell(l),i.appendChild(l)}let s=document.createElement("th"),r=document.createElement("button");r.textContent="+",r.style.background="transparent",r.style.border="none",r.style.cursor="pointer",r.style.fontSize="18px",r.style.fontWeight="bold",r.style.color="var(--vscode-foreground)",r.style.width="100%",r.style.height="100%",r.title="Show hidden fields",r.addEventListener("click",()=>this.options.onShowFieldsMenu(r)),s.appendChild(r),this.styleHeaderCell(s),s.style.textAlign="center",s.style.width="50px",i.appendChild(s),t.appendChild(i),e.appendChild(t)}styleHeaderCell(e){e.style.padding="8px",e.style.textAlign="left",e.style.whiteSpace="nowrap",e.style.overflow="hidden",e.style.textOverflow="ellipsis",e.style.borderRight="1px solid var(--vscode-panel-border)",e.style.borderBottom="1px solid var(--vscode-panel-border)",e.style.position="sticky",e.style.top="0",e.style.zIndex="11",e.style.background="var(--vscode-sideBar-background)",e.style.height="32px",e.style.boxSizing="border-box"}};var he=class{constructor(e){this.menuElement=null;this.backdropElement=null;this.options=e}show(e){this.hide(),this.backdropElement=document.createElement("div"),this.backdropElement.style.position="fixed",this.backdropElement.style.top="0",this.backdropElement.style.left="0",this.backdropElement.style.right="0",this.backdropElement.style.bottom="0",this.backdropElement.style.zIndex="998",this.backdropElement.addEventListener("click",()=>this.hide()),document.body.appendChild(this.backdropElement),this.menuElement=document.createElement("div"),this.menuElement.className="fields-menu",this.menuElement.style.position="absolute",this.menuElement.style.visibility="hidden",this.menuElement.style.left="0px",this.menuElement.style.top="0px",this.menuElement.style.background="var(--vscode-menu-background)",this.menuElement.style.border="1px solid var(--vscode-menu-border)",this.menuElement.style.borderRadius="4px",this.menuElement.style.boxShadow="0 2px 8px rgba(0,0,0,0.15)",this.menuElement.style.minWidth="220px",this.menuElement.style.padding="6px 0",this.menuElement.style.maxHeight="60vh",this.menuElement.style.overflowY="auto",this.menuElement.style.boxSizing="border-box",this.menuElement.style.zIndex="1000",this.menuElement.style.fontSize="13px",document.body.appendChild(this.menuElement),this.buildMenu();let t=e.getBoundingClientRect(),i=this.menuElement.getBoundingClientRect(),n=8,s=window.innerWidth||document.documentElement.clientWidth,r=window.innerHeight||document.documentElement.clientHeight,o=t.bottom+n;t.bottom+i.height+n>r&&(t.top-i.height-n>=0?o=t.top-i.height-n:o=Math.max(n,Math.min(r-i.height-n,t.bottom+n)));let l=t.left;t.left+i.width+n>s&&(l=Math.max(n,t.right-i.width)),l=Math.max(n,Math.min(l,s-i.width-n)),this.menuElement.style.top=`${Math.round(o)}px`,this.menuElement.style.left=`${Math.round(l)}px`,this.menuElement.style.visibility="visible"}hide(){this.menuElement&&(this.menuElement.remove(),this.menuElement=null),this.backdropElement&&(this.backdropElement.remove(),this.backdropElement=null)}buildMenu(){if(!this.menuElement)return;let e=document.createElement("div");e.style.display="flex",e.style.alignItems="center",e.style.padding="6px 12px",e.style.fontWeight="600",e.style.color="var(--vscode-descriptionForeground)",e.style.fontSize="12px",e.style.textTransform="uppercase";let t=document.createElement("i");t.className="octicon octicon-note",t.style.marginRight="8px",e.appendChild(t);let i=document.createElement("span");i.textContent="Fields",e.appendChild(i),this.menuElement.appendChild(e),this.addSeparator();let n=document.createElement("div");n.style.display="flex",n.style.alignItems="center",n.style.padding="6px 12px",n.style.cursor="pointer",n.style.color="var(--vscode-menu-foreground)",n.innerHTML='<span style="margin-right:8px;font-weight:700">+</span><span>New field</span>',n.addEventListener("mouseenter",()=>{n.style.background="var(--vscode-menu-selectionBackground)",n.style.color="var(--vscode-menu-selectionForeground)"}),n.addEventListener("mouseleave",()=>{n.style.background="transparent",n.style.color="var(--vscode-menu-foreground)"}),n.addEventListener("click",()=>{this.options.onCreateField?.(),this.hide()}),this.menuElement.appendChild(n),this.addSeparator();let s=this.options.fields.filter(o=>this.options.visibleFieldIds.has(o.id)),r=this.options.fields.filter(o=>!this.options.visibleFieldIds.has(o.id));this.addSectionHeader("Visible fields"),s.length===0?this.addEmptyRow("No visible fields"):s.forEach(o=>this.addFieldRow(o,!0)),this.addSeparator(),this.addSectionHeader("Hidden fields"),r.length===0?this.addEmptyRow("No hidden fields"):r.forEach(o=>this.addFieldRow(o,!1))}addSectionHeader(e){if(!this.menuElement)return;let t=document.createElement("div");t.textContent=e,t.style.padding="6px 12px",t.style.fontSize="11px",t.style.fontWeight="600",t.style.color="var(--vscode-descriptionForeground)",t.style.textTransform="uppercase",this.menuElement.appendChild(t)}addEmptyRow(e){if(!this.menuElement)return;let t=document.createElement("div");t.textContent=e,t.style.padding="6px 12px",t.style.color="var(--vscode-menu-foreground)",t.style.opacity="0.8",this.menuElement.appendChild(t)}addFieldRow(e,t){if(!this.menuElement)return;let i=document.createElement("div");if(i.style.display="flex",i.style.alignItems="center",i.style.padding="6px 12px",i.style.cursor="pointer",i.style.color="var(--vscode-menu-foreground)",t){let o=document.createElement("span");o.textContent="\u2713",o.style.marginRight="8px",o.style.color="var(--vscode-menu-selectionForeground)",i.appendChild(o)}else{let o=document.createElement("span");o.style.display="inline-block",o.style.width="14px",o.style.marginRight="8px",i.appendChild(o)}let n=this.getIconForField(e),s=document.createElement("span");s.innerHTML=n,s.style.marginRight="8px",s.style.display="inline-flex",s.style.alignItems="center",i.appendChild(s);let r=document.createElement("span");r.textContent=e.name,r.style.flex="1",r.style.whiteSpace="nowrap",r.style.overflow="hidden",r.style.textOverflow="ellipsis",i.appendChild(r),i.addEventListener("mouseenter",()=>{i.style.background="var(--vscode-menu-selectionBackground)",i.style.color="var(--vscode-menu-selectionForeground)"}),i.addEventListener("mouseleave",()=>{i.style.background="transparent",i.style.color="var(--vscode-menu-foreground)"}),i.addEventListener("click",()=>{let o=!t;this.options.onToggleVisibility?.(e.id,o),o?this.options.visibleFieldIds.add(e.id):this.options.visibleFieldIds.delete(e.id),this.menuElement&&(this.menuElement.innerHTML="",this.buildMenu())}),this.menuElement.appendChild(i)}addSeparator(){if(!this.menuElement)return;let e=document.createElement("div");e.style.height="1px",e.style.background="var(--vscode-menu-separatorBackground)",e.style.margin="6px 0",this.menuElement.appendChild(e)}getIconForField(e){let t=(e.dataType||"").toString().toLowerCase();if(typeof window.getIconNameForDataType=="function"&&typeof window.getIconSvg=="function"){let i=window.getIconNameForDataType(t);return window.getIconSvg(i)}return e.iconClass?`<i class="${e.iconClass}"></i>`:"<span></span>"}},be=he;function E(u){return u?String(u).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):""}function P(u){if(!u)return null;let e=String(u).trim();if(/^#?[0-9a-f]{3}$/i.test(e)||/^#?[0-9a-f]{6}$/i.test(e)||/^#?[0-9a-f]{8}$/i.test(e)){let n=e[0]==="#"?e.slice(1):e;return"#"+(n.length===8?n.substring(0,6):n)}let t={GRAY:"#848d97",RED:"#f85149",ORANGE:"#db6d28",YELLOW:"#d29922",GREEN:"#3fb950",BLUE:"#2f81f7",PURPLE:"#a371f7",PINK:"#db61a2",BLACK:"#000000",WHITE:"#ffffff"},i=e.toUpperCase();return t[i]||null}function J(u,e){if(!u)return null;let t=u.replace("#",""),i=n=>parseInt(n,16);if(t.length===3){let n=i(t[0]+t[0]),s=i(t[1]+t[1]),r=i(t[2]+t[2]);return"rgba("+n+","+s+","+r+","+e+")"}if(t.length===6||t.length===8){let n=t.length===8?t.substring(0,6):t,s=i(t.substring(0,2)),r=i(n.substring(2,4)),o=i(n.substring(4,6));return"rgba("+s+","+r+","+o+","+e+")"}return null}function X(u){if(!u)return"#333333";let e=u.replace("#",""),t=r=>parseInt(r,16),i,n,s;if(e.length===3)i=t(e[0]+e[0]),n=t(e[1]+e[1]),s=t(e[2]+e[2]);else if(e.length===6||e.length===8){let r=e.length===8?e.substring(0,6):e;i=t(r.substring(0,2)),n=t(r.substring(2,4)),s=t(r.substring(4,6))}else return"#333333";return .2126*(i/255)+.7152*(n/255)+.0722*(s/255)>.6?"#111111":"#ffffff"}var Y=class{constructor(e,t,i,n){this.panelElement=null;this.container=e,this.field=t,this.items=i,this.allFields=n||[]}render(){this.close(),this.panelElement=document.createElement("div"),this.panelElement.className="slice-panel",this.panelElement.style.position="relative",this.panelElement.style.float="left";try{let b=localStorage.getItem("ghProjects.slicePanel.width");b?this.panelElement.style.width=b:this.panelElement.style.width="280px"}catch{this.panelElement.style.width="280px"}this.panelElement.style.marginRight="12px",this.panelElement.style.background="var(--vscode-sideBar-background)",this.panelElement.style.border="1px solid var(--vscode-sideBar-border)",this.panelElement.style.borderRadius="6px",this.panelElement.style.display="flex",this.panelElement.style.flexDirection="column",this.panelElement.style.overflow="hidden",this.panelElement.style.maxHeight="600px";let e=document.createElement("pre");e.className="slice-panel-debug-overlay",e.style.position="absolute",e.style.left="8px",e.style.bottom="8px",e.style.right="8px",e.style.maxHeight="120px",e.style.overflow="auto",e.style.background="rgba(0,0,0,0.6)",e.style.color="white",e.style.fontSize="11px",e.style.padding="8px",e.style.borderRadius="6px",e.style.zIndex="200",e.style.display="none",e.title="SlicePanel debug (click to show/hide)",e.addEventListener("click",()=>{e.style.display=e.style.display==="none"?"block":"none"}),this.panelElement.appendChild(e);let t=document.createElement("div");t.className="slice-panel-resizer",t.style.position="absolute",t.style.top="0",t.style.right="0",t.style.bottom="0",t.style.width="6px",t.style.cursor="col-resize",t.style.zIndex="100",this.panelElement.appendChild(t);let i=null,n=null,s=b=>{if(i==null||n==null)return;let w=b.pageX-i,C=Math.max(160,n+w);this.panelElement.style.width=C+"px"},r=()=>{if(i!=null){document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",r);try{localStorage.setItem("ghProjects.slicePanel.width",this.panelElement.style.width)}catch{}i=null,n=null}};t.addEventListener("mousedown",b=>{b.preventDefault(),i=b.pageX,n=this.panelElement?this.panelElement.offsetWidth:280,document.addEventListener("mousemove",s),document.addEventListener("mouseup",r)});let o=document.createElement("div");o.style.padding="12px",o.style.borderBottom="1px solid var(--vscode-sideBar-border)",o.style.display="flex",o.style.flexDirection="column",o.style.gap="8px";let l=document.createElement("div");l.style.display="flex",l.style.alignItems="center",l.style.gap="8px";let a=document.createElement("span");a.textContent="Slice by",a.style.fontSize="11px",a.style.fontWeight="600",a.style.color="var(--vscode-descriptionForeground)",a.style.textTransform="uppercase",a.style.letterSpacing="0.5px",l.appendChild(a);let d=document.createElement("button");d.textContent=this.field.name,d.style.flex="1",d.style.padding="6px 12px",d.style.background="var(--vscode-button-secondaryBackground)",d.style.color="var(--vscode-button-secondaryForeground)",d.style.border="1px solid var(--vscode-button-border)",d.style.borderRadius="4px",d.style.cursor="pointer",d.style.fontSize="13px",d.style.fontWeight="500",d.style.textAlign="left",d.style.display="flex",d.style.justifyContent="space-between",d.style.alignItems="center";let m=document.createElement("span");m.textContent="\u25BC",m.style.fontSize="10px",m.style.marginLeft="auto",d.appendChild(m),d.addEventListener("click",b=>{b.stopPropagation(),this.showFieldDropdown(d)}),l.appendChild(d),o.appendChild(l),this.panelElement.appendChild(o);let p=document.createElement("div");p.style.flex="1",p.style.overflow="auto",p.style.padding="8px",this.renderValues(p),this.panelElement.appendChild(p),this.container.appendChild(this.panelElement)}showFieldDropdown(e){let t=new Set(["assignees","single_select","parent_issue","iteration","number","date","milestone","repository","labels"]),i=this.allFields.filter(r=>{let o=(r.dataType||"").toLowerCase();return t.has(o)});if(i.length===0)return;let n=document.createElement("div");n.style.position="absolute",n.style.top=`${e.getBoundingClientRect().bottom+4}px`,n.style.left=`${e.getBoundingClientRect().left}px`,n.style.minWidth=`${e.offsetWidth}px`,n.style.background="var(--vscode-dropdown-background)",n.style.border="1px solid var(--vscode-dropdown-border)",n.style.borderRadius="4px",n.style.boxShadow="0 4px 8px rgba(0,0,0,0.2)",n.style.zIndex="1000",n.style.maxHeight="300px",n.style.overflowY="auto",i.forEach(r=>{let o=document.createElement("div");o.style.display="flex",o.style.alignItems="center";let l=document.createElement("span");l.style.display="inline-flex",l.style.alignItems="center",l.style.justifyContent="center",l.style.width="18px",l.style.marginRight="8px",l.innerHTML=this.getIconForDataType((r.dataType||"").toString().toLowerCase()),o.appendChild(l);let a=document.createElement("span");a.textContent=r.name,o.appendChild(a),o.style.padding="8px 12px",o.style.cursor="pointer",o.style.fontSize="13px",o.style.color="var(--vscode-dropdown-foreground)",r.id===this.field.id&&(o.style.background="var(--vscode-list-activeSelectionBackground)",o.style.color="var(--vscode-list-activeSelectionForeground)"),o.addEventListener("mouseenter",()=>{r.id!==this.field.id&&(o.style.background="var(--vscode-list-hoverBackground)")}),o.addEventListener("mouseleave",()=>{r.id!==this.field.id&&(o.style.background="transparent")}),o.addEventListener("click",()=>{this.field=r,n.remove(),s.remove(),this.render(),this.onFieldChangeCallback&&this.onFieldChangeCallback(r)}),n.appendChild(o)});let s=document.createElement("div");s.style.position="fixed",s.style.top="0",s.style.left="0",s.style.right="0",s.style.bottom="0",s.style.zIndex="999",s.addEventListener("click",()=>{n.remove(),s.remove()}),document.body.appendChild(s),document.body.appendChild(n)}getIconForDataType(e){if(typeof window.getIconNameForDataType=="function"&&typeof window.getIconSvg=="function"){let t=window.getIconNameForDataType(e);return window.getIconSvg(t)}return"<span></span>"}renderValues(e){let t=this.getValueCounts();if(t.size===0){let s=document.createElement("div");s.textContent="No values",s.style.padding="8px",s.style.color="var(--vscode-descriptionForeground)",e.appendChild(s);return}let i=Array.from(t.entries()).sort((s,r)=>r[1].count-s[1].count),n=s=>{let r={resolved:null,statusColor:null,number:null,title:null,done:0,total:0,pct:0};if(!s)return r;let o=[];s.number&&o.push(String(s.number)),s.id&&o.push(String(s.id)),s.url&&o.push(String(s.url)),s.title&&o.push(String(s.title));let l=this.items.find(d=>{let m=d&&(d.content||d.raw&&d.raw.itemContent)||null;if(!m)return!1;let p=[];m.number&&p.push(String(m.number)),m.id&&p.push(String(m.id)),m.url&&p.push(String(m.url)),m.title&&p.push(String(m.title)),m.name&&p.push(String(m.name)),m.raw&&m.raw.number&&p.push(String(m.raw.number)),m.raw&&m.raw.id&&p.push(String(m.raw.id)),m.raw&&m.raw.url&&p.push(String(m.raw.url));for(let b of o)for(let w of p)if(b&&w&&String(b)===String(w))return!0;return!1});if(!l)return r;r.resolved=l;let a=l.content||l.raw&&l.raw.itemContent||null;if(r.title=a&&(a.title||a.name)?a.title||a.name:l.title||l.name||null,r.number=a&&a.number?String(a.number):l.number||l.id||null,Array.isArray(l.fieldValues)){let d=l.fieldValues.find(p=>p&&p.type==="single_select"&&p.option&&p.option.name);if(d&&d.option)try{let p=d.option.color||d.option.id||d.option.name||null;r.statusColor=P(p)||null}catch{}let m=l.fieldValues.find(p=>p&&(p.type==="sub_issues_progress"||p.total!=null&&p.done!=null));m&&m.total!=null&&(r.total=Number(m.total||0),r.done=Number(m.done||0),r.pct=r.total>0?Math.round(r.done/r.total*100):0)}return r};i.forEach(([s,{value:r,count:o,rawValue:l}])=>{let a=document.createElement("div");a.className="slice-value-item",a.style.padding="10px 12px",a.style.cursor="pointer",a.style.borderRadius="4px",a.style.marginBottom="4px",a.style.display="flex",a.style.alignItems="center",a.style.gap="8px",a.style.transition="background-color 0.15s ease";let d=(this.field.dataType||"").toLowerCase(),m=null;d==="parent_issue"&&l&&(m=l.parent||l.parentIssue||l.issue||l.item||l.value||l);let p=document.createElement("div");p.style.display="flex",p.style.alignItems="center",p.style.gap="8px",p.style.flex="0 0 auto";let b=x=>{let v=document.createElement("span");return v.style.display="inline-block",v.style.width="12px",v.style.height="12px",v.style.borderRadius="50%",v.style.flexShrink="0",v.style.backgroundColor=x||"var(--vscode-descriptionForeground)",v},w=!1;if(d==="assignees"&&l){let x=l,v=x&&(x.avatarUrl||x.avatar||x.imageUrl||x.avatar_url);if(v){let y=document.createElement("span");y.innerHTML='<span title="'+E(x.login||x.name||x.id||"")+'" style="display:inline-block;width:20px;height:20px;border-radius:50%;overflow:hidden;background-size:cover;background-position:center;background-image:url('+E(v)+');border:2px solid var(--vscode-editor-background)"></span>',p.appendChild(y),w=!0}else p.appendChild(b(null)),w=!0}if(!w&&d==="repository"){let x=document.createElement("span");x.innerHTML='<svg width="14" height="14" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" style="flex-shrink:0;color:var(--vscode-icon-foreground)"><path fill="currentColor" d="M2 2.5A1.5 1.5 0 0 1 3.5 1h9A1.5 1.5 0 0 1 14 2.5v11A1.5 1.5 0 0 1 12.5 15h-9A1.5 1.5 0 0 1 2 13.5v-11zM3.5 2A.5.5 0 0 0 3 2.5V4h10V2.5a.5.5 0 0 0-.5-.5h-9z"/></svg>',p.appendChild(x),w=!0}if(!w&&d==="parent_issue"){let x=m?n(m):null,v=x&&x.statusColor?x.statusColor:null;if(!v&&m&&(v=P(m.color||m.option&&m.option.color||m.statusColor||m.status?.color)||null),m&&(m.title||m.name||m.number||x&&(x.title||x.number))){let y=b(v);p.appendChild(y),w=!0}}if(!w&&d==="labels"&&l){let x=l,v=x&&(x.color||x.colorName||x.hex||x.name),y=P(v);p.appendChild(b(y)),w=!0}if(!w){let x=null;if(d==="single_select"&&l&&l.option&&(x=l.option.color||l.option.name||l.option.id),!x&&l&&(l.color||l.colorName)&&(x=l.color||l.colorName),!x&&Array.isArray(this.field.options))try{let y=(this.field.options||[]).find(F=>String(F.name)===String(s)||String(F.id)===String(l&&(l.optionId||l.option&&l.option.id)));y&&(x=y.color||y.name||y.id)}catch{}if(!x&&this.field&&this.field.configuration&&Array.isArray(this.field.configuration.iterations))try{let y=(this.field.configuration.iterations||[]).find(F=>String(F.title)===String(s)||String(F.id)===String(l&&(l.iterationId||l.iteration&&l.iteration.id)));y&&(x=y.color||y.name||y.title||y.id)}catch{}let v=P(x);p.appendChild(b(v))}a.appendChild(p);let C=document.createElement("div");C.style.flex="1",C.style.display="flex",C.style.flexDirection="column",C.style.minWidth="0";let I=null;if(d!=="parent_issue"&&(I=document.createElement("span"),I.textContent=s,I.style.fontSize="13px",I.style.fontWeight="500",I.style.whiteSpace="normal",I.style.wordBreak="break-word",I.style.overflow="hidden",C.appendChild(I)),d==="single_select"){let x=null;try{if(l&&l.option&&l.option.description)x=l.option.description;else if(Array.isArray(this.field.options)){let v=(this.field.options||[]).find(y=>String(y.name)===String(s)||String(y.id)===String(l&&(l.optionId||l.option&&l.option.id)));v&&v.description&&(x=v.description)}}catch{}if(x){let v=document.createElement("span");v.textContent=x,v.style.fontSize="11px",v.style.color="var(--vscode-descriptionForeground)",v.style.whiteSpace="normal",v.style.wordBreak="break-word",v.style.overflow="hidden",v.style.maxHeight="3.6em",C.appendChild(v)}}if(d==="parent_issue"&&l){let x=m||l.parent||l.parentIssue||l.issue||l.item||l.value||null,v=n(x),y=v.title||x&&(x.title||x.name)||s,F=document.createElement("div");F.style.display="flex",F.style.gap="8px",F.style.alignItems="baseline";let A=document.createElement("span"),T=String(y).slice(0,120);if(A.textContent=v.number?`${T} #${String(v.number)}`:T,A.style.fontSize="13px",A.style.fontWeight="600",A.style.whiteSpace="normal",A.style.wordBreak="break-word",F.appendChild(A),C.appendChild(F),v.total&&v.total>0){let _=document.createElement("div");_.style.display="flex",_.style.alignItems="center",_.style.gap="8px",_.style.marginTop="6px";let c=document.createElement("div");c.textContent=`${v.done}/${v.total}`,c.style.color="var(--vscode-descriptionForeground)",c.style.fontSize="12px",c.style.fontVariantNumeric="tabular-nums",_.appendChild(c);let f=document.createElement("div");f.style.display="inline-block",f.style.width="120px",f.style.height="10px",f.style.background="transparent",f.style.border="1px solid var(--vscode-focusBorder)",f.style.borderRadius="6px",f.style.overflow="hidden";let k=document.createElement("div");k.style.height="100%",k.style.width=String(v.pct)+"%",k.style.background="var(--vscode-focusBorder)",f.appendChild(k),_.appendChild(f),C.appendChild(_)}}if(d==="iteration")try{let x=l&&(l.iteration||l.configuration||l)||null,v=null;if(x&&x.startDate&&(x.duration||x.length))v=x;else if(this.field&&this.field.configuration&&Array.isArray(this.field.configuration.iterations)){let y=(this.field.configuration.iterations||[]).find(F=>String(F.title||F.name)===String(s)||String(F.id)===String(l&&(l.iterationId||l.iteration&&l.iteration.id)));y&&(v=y)}if(v){let y=v.startDate||v.start,F=v.duration||v.length||v.days;if(y&&F){let A=new Date(y),T=new Date(A.getTime()+Number(F||0)*24*60*60*1e3),_=A.toLocaleDateString("en-US",{month:"short",day:"numeric"}),c=T.toLocaleDateString("en-US",{month:"short",day:"numeric"}),f=document.createElement("div");f.textContent=`${_} \u2014 ${c}`,f.style.fontSize="11px",f.style.color="var(--vscode-descriptionForeground)",f.style.marginTop="4px",C.appendChild(f)}}}catch{}a.appendChild(C);let h=document.createElement("span");h.style.display="inline-flex",h.style.alignItems="center",h.style.justifyContent="center",h.style.minWidth="24px",h.style.height="24px",h.style.borderRadius="50%",h.style.background="var(--vscode-input-background)",h.style.border="1px solid var(--vscode-panel-border)",h.style.color="var(--vscode-foreground)",h.style.fontSize="12px",h.style.fontWeight="600",h.style.padding="0 6px",h.style.boxSizing="border-box",h.textContent=String(o),a.appendChild(h),a.addEventListener("mouseenter",()=>{a.style.background="var(--vscode-list-hoverBackground)"}),a.addEventListener("mouseleave",()=>{a.style.background="transparent"}),a.addEventListener("click",()=>{this.onValueSelectCallback&&this.onValueSelectCallback(r)}),e.appendChild(a)})}getValueCounts(){let e=new Map,t=(this.field.dataType||"").toLowerCase();return this.items.forEach(i=>{let n=i.fieldValues?.find(a=>a.fieldId===this.field.id||a.fieldName===this.field.name);if(!n){let a="(empty)",d=e.get(a);d?d.count++:e.set(a,{value:null,count:1,rawValue:null});return}if(t==="labels"){let a=n.labels&&Array.isArray(n.labels.nodes)?n.labels.nodes:Array.isArray(n.labels)?n.labels:null;if(Array.isArray(a)&&a.length>0){a.forEach(d=>{let m=d&&(d.name||d.title)?String(d.name||d.title):"(empty)",p=this.formatValue(m),b=e.get(p);b?b.count++:e.set(p,{value:m,count:1,rawValue:d})});return}}if(t==="assignees"){let a=n.assignees||(n.assignee?[n.assignee]:null);if(Array.isArray(a)&&a.length>0){a.forEach(d=>{let m=String(d.login||d.name||d.id||"(unknown)"),p=this.formatValue(m),b=e.get(p);b?b.count++:e.set(p,{value:d,count:1,rawValue:d})});return}}let s=null,r=null;try{if(t==="single_select")s=n.option?.name||n.name||n.value,r=n;else if(t==="iteration")s=n.iteration?.title||n.title||n.value,r=n;else if(t==="parent_issue"){let a=n.parent||n.parentIssue||n.issue||n.item||n.value||null;a&&(s=a.title||a.name||a.number||a.id||a.url||null),r=a||n}else t==="milestone"?(s=n.milestone?.title||n.milestone?.name||n.value||null,r=n.milestone||n):t==="repository"?(s=n.repository?.nameWithOwner||n.repository?.full_name||n.repository?.name||n.value||null,r=n.repository||n):t==="number"?(s=n.number!=null?n.number:n.value,r=n):t==="date"?(s=n.date||n.value||null,r=n):(s=n.text||n.title||n.value||null,r=n)}catch{s=n.text||n.title||n.value||null,r=n}let o=s==null||s===""?"(empty)":this.formatValue(s),l=e.get(o);l?l.count++:e.set(o,{value:s,count:1,rawValue:r})}),e}extractValue(e){let t=(this.field.dataType||"").toLowerCase();return e?t==="single_select"?e.option?.name||e.name||e.value:t==="iteration"?e.iteration?.title||e.title||e.value:t==="assignees"?e.assignees||e.assignee||null:t==="labels"?e.labels||null:t==="parent_issue"?e.parent||e.parentIssue||e.issue||e.item||e.value||null:t==="milestone"?e.milestone||e.value||null:t==="repository"?e.repository||e.value||null:t==="number"?e.number!=null?e.number:e.value:t==="date"?e.date||e.value||null:e.text||e.title||e.value||null:null}formatValue(e){return e==null?"(empty)":String(e)}onValueSelect(e){this.onValueSelectCallback=e}onFieldChange(e){this.onFieldChangeCallback=e}close(){this.panelElement&&(this.panelElement.remove(),this.panelElement=null)}};function Ee(u){if(!u||!u.nodes||u.nodes.length===0)return null;let e=u.nodes[0];if(!e||!e.field)return null;let t={fieldId:e.field.id||e.field.name,direction:e.direction||"ASC"};if(u.nodes.length>1){let i=u.nodes[1];i&&i.field&&(t.secondary={fieldId:i.field.id||i.field.name,direction:i.direction||"ASC"})}return t}function K(u,e,t){if(!t||u.length===0)return u;let i=e.find(s=>s.id===t.fieldId||s.name===t.fieldId);if(!i)return u;let n=[...u];return n.sort((s,r)=>{let o=Se(s,r,i,t.direction);if(o===0&&t.secondary){let l=e.find(a=>a.id===t.secondary.fieldId||a.name===t.secondary.fieldId);if(l)return Se(s,r,l,t.secondary.direction)}return o}),n}function Se(u,e,t,i){let n=xe(u,t),s=xe(e,t);if(n===null&&s===null)return 0;if(n===null)return i==="ASC"?1:-1;if(s===null)return i==="ASC"?-1:1;let r=0;switch((t.dataType||"").toLowerCase()){case"text":case"title":r=D(n,s);break;case"number":r=Ce(n,s);break;case"date":r=Ie(n,s);break;case"single_select":r=_e(n,s,t);break;case"iteration":r=Me(n,s);break;case"labels":r=Le(n,s);break;case"assignees":case"repository":case"milestone":case"issue_type":case"parent_issue":case"tracked_by":case"tracks":case"reviewers":r=D(n,s);break;case"linked_pull_requests":case"sub_issues_progress":r=Ce(n,s);break;default:r=0}return i==="ASC"?r:-r}function xe(u,e){let t=u.fieldValues?.find(n=>n.fieldId===e.id||n.fieldName===e.name);if(!t)return null;switch((e.dataType||"").toLowerCase()){case"text":return t.text!=null?t.text:we(t,u);case"title":return we(t,u);case"number":return t.number!==void 0?t.number:null;case"date":return t.date||t.startDate||t.dueOn||null;case"single_select":return t.option||t;case"iteration":return t;case"labels":return t.labels||[];case"assignees":{let n=t.assignees;if(Array.isArray(n)&&n.length>0){let s=n[0];return s.login||s.name||null}return null}case"repository":{let n=t.repository;return n&&(n.nameWithOwner||n.name||n.full_name||n.id)||null}case"milestone":{let n=t.milestone;return n&&(n.dueOn||n.title||n.name)||null}case"issue_type":return t.text?t.text:t.option&&(t.option.name||t.option.title)||null;case"parent_issue":{let n=t.parent;return n?n.title?n.title:typeof n.number=="number"?String(n.number):n.id||null:null}case"linked_pull_requests":{let n=t.pullRequests;if(Array.isArray(n)&&n.length>0){let s=n[0];return typeof s.number=="number"?s.number:s.title||null}return null}case"reviewers":{let n=t.reviewers;if(Array.isArray(n)&&n.length>0){let s=n[0];return s.login||s.name||s.id||null}return null}case"sub_issues_progress":return typeof t.percent=="number"?t.percent:typeof t.done=="number"&&typeof t.total=="number"&&t.total>0?t.done/t.total*100:null;case"tracked_by":case"tracks":{let n=t.issues;if(Array.isArray(n)&&n.length>0){let s=n[0];return s.title?s.title:typeof s.number=="number"?String(s.number):s.id||null}return null}default:return t}}function we(u,e){if(!u)return null;let t=u.title&&u.title.raw||u.raw||null;if(t&&typeof t.text=="string"&&t.text.trim())return t.text;let i=u.title&&u.title.content||u.content||t&&t.itemContent||e&&e.content||null;if(i){if(typeof i.title=="string"&&i.title.trim())return i.title;if(typeof i.name=="string"&&i.name.trim())return i.name}return typeof u.text=="string"&&u.text.trim()?u.text:t&&typeof t.title=="string"&&t.title.trim()?t.title:null}function D(u,e){let t=String(u||"").toLowerCase(),i=String(e||"").toLowerCase();return t.localeCompare(i)}function Ce(u,e){let t=typeof u=="number"?u:parseFloat(u),i=typeof e=="number"?e:parseFloat(e);return isNaN(t)&&isNaN(i)?0:isNaN(t)?1:isNaN(i)?-1:t-i}function Ie(u,e){let t=new Date(u),i=new Date(e);return isNaN(t.getTime())&&isNaN(i.getTime())?0:isNaN(t.getTime())?1:isNaN(i.getTime())?-1:t.getTime()-i.getTime()}function _e(u,e,t){let i=u.option||u,n=e.option||e;if(!i||!n)return D(i?.name||"",n?.name||"");if(t.options&&Array.isArray(t.options)){let s=t.options.findIndex(o=>o.id===i.id||o.name===i.name),r=t.options.findIndex(o=>o.id===n.id||o.name===n.name);if(s!==-1&&r!==-1)return s-r}return D(i.name,n.name)}function Me(u,e){let t=u.startDate||u.iteration?.startDate,i=e.startDate||e.iteration?.startDate;return!t&&!i?D(u.title||u.iteration?.title,e.title||e.iteration?.title):Ie(t,i)}function Le(u,e){let t=Array.isArray(u)?u:[],i=Array.isArray(e)?e:[];return t.length===0&&i.length===0?0:t.length===0?1:i.length===0?-1:D(t[0].name,i[0].name)}var Q=class{static groupItems(e,t){let i=[],n=(t.dataType||"").toLowerCase();if(n==="single_select"?i=t.options||[]:n==="iteration"&&(i=t.configuration&&t.configuration.iterations||[]),i&&i.length>0){let l=i.map(d=>({option:d,items:[]})),a=[];return e.forEach((d,m)=>{let p=d.fieldValues.find(w=>String(w.fieldId)===String(t.id)||w.fieldName===t.name),b=!1;if(p){let w=null,C=null;if(n==="single_select"?(w=p.optionId||p.option&&p.option.id,C=p.name||p.option&&p.option.name):n==="iteration"&&(w=p.iterationId||p.iteration&&p.iteration.id||p.id,C=p.title||p.iteration&&p.iteration.title),w||C){let I=l.find(h=>w&&String(h.option.id)===String(w)||C&&(String(h.option.name)===String(C)||String(h.option.title)===String(C)));I&&(I.items.push({item:d,index:m}),b=!0)}}b||a.push({item:d,index:m})}),a.length>0&&l.push({option:{name:"Unassigned",title:"Unassigned",color:"GRAY"},items:a}),l.filter(d=>d.items.length>0)}let s=new Map,r=[];e.forEach((l,a)=>{let d=l.fieldValues.find(b=>String(b.fieldId)===String(t.id)||b.fieldName===t.name),m=null;if(d)if(d.text!==void 0)m=d.text;else if(d.title!==void 0)m=d.title;else if(d.number!==void 0)m=d.number;else if(d.date!==void 0)m=d.date;else if(d.option)m=d.option.name||d.option.title||d.option.id;else if(d.iteration)m=d.iteration.title||d.iteration.id;else if(d.parent||d.parentIssue||d.issue||d.item||d.value){let b=d.parent||d.parentIssue||d.issue||d.item||d.value;b&&(m=b.number||b.id||b.raw&&(b.raw.number||b.raw.id)||b.url||b.title||b.name||null)}else d.assignees?m=Array.isArray(d.assignees)?d.assignees.map(b=>b.login||b.name).join(", "):d.assignees:d.repository?m=d.repository.nameWithOwner||d.repository.name||d.repository.full_name||d.repository.id:d.milestone?m=d.milestone.title||d.milestone.id||d.milestone.name:m=d.value!==void 0?d.value:null;if(m==null||m===""){r.push({item:l,index:a});return}let p=String(m);s.has(p)||s.set(p,{option:{id:p,name:p,title:p},items:[]}),s.get(p).items.push({item:l,index:a})});let o=Array.from(s.values());return r.length>0&&o.push({option:{name:"Unassigned",title:"Unassigned",color:"GRAY"},items:r}),o}};var Z=class{render(e,t,i,n){let s=e&&e.title&&(e.title.raw&&e.title.raw.text||e.title.content&&(e.title.content.title||e.title.content.name)||typeof e.title=="string"&&e.title)||e&&e.content&&(e.content.title||e.content.name)||e&&e.raw&&e.raw.text||"",r=e&&e.title&&e.title.content&&e.title.content.number||e&&e.raw&&e.raw.itemContent&&e.raw.itemContent.number||i&&i.content&&i.content.number||"",o=e&&e.title&&e.title.content&&e.title.content.url||e&&e.raw&&e.raw.itemContent&&e.raw.itemContent.url||i&&i.content&&i.content.url||"",l=null;if(i&&Array.isArray(i.fieldValues)){let b=i.fieldValues.find(w=>w&&w.type==="single_select"&&(w.raw&&w.raw.field&&String(w.raw.field.name||"").toLowerCase()==="status"||w.fieldName&&String(w.fieldName||"").toLowerCase()==="status"||w.field&&w.field.name&&String(w.field.name||"").toLowerCase()==="status"));b&&(l=b.option&&(b.option.color||b.option.id||b.option.name)||b.raw&&b.raw.color||null)}let a=P(l)||null,d=a&&/^#([0-9a-f]{3}|[0-9a-f]{6})$/i.test(a)?a:"#666666",m=E(String(s||"")),p=r?E(String(r)):"";return'<a href="'+E(String(o||""))+'" target="_blank" rel="noopener noreferrer" style="text-decoration:none;color:inherit;display:inline-flex;align-items:center;gap:8px;width:100%;"><svg width="14" height="14" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" style="flex-shrink:0;color:'+E(d)+'"><circle cx="8" cy="8" r="6" fill="currentColor" /></svg><span style="flex:1;min-width:0;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;display:block">'+m+"</span>"+(p?'<span style="flex:none;margin-left:6px;color:var(--vscode-descriptionForeground);white-space:nowrap">#'+p+"</span>":"")+"</a>"}},V=class{render(e){return"<div>"+E((e&&e.text)!=null?e.text:"")+"</div>"}},ee=class{render(e){let t=e.number!==void 0&&e.number!==null?String(e.number):"";return'<div style="text-align:right;font-variant-numeric:tabular-nums">'+E(t)+"</div>"}},te=class{render(e){let t=e.date||e.startDate||e.dueOn||null;if(!t)return"<div></div>";try{let i=new Date(t);if(isNaN(i.getTime()))return"<div>"+E(String(t))+"</div>";let n=i.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});return"<div>"+E(n)+"</div>"}catch{return"<div>"+E(String(t))+"</div>"}}},ne=class{render(e){let t=e&&e.option&&e.option.name||e&&e.name||"";if(!t)return"<div></div>";let i=e&&e.option&&(e.option.color||e.option.id)||e&&e.color||null,n=P(i)||"var(--vscode-badge-background)",s=X(n);return'<span style="display:inline-block;padding:2px 8px;border-radius:10px;font-size:12px;line-height:18px;background-color:'+E(n)+";color:"+E(s)+'">'+E(t)+"</span>"}},ie=class{render(e){let t=e.iteration||e;return!t||!t.title?"<div></div>":'<div style="display:flex;align-items:center;gap:6px"><span style="display:inline-block;width:14px;height:14px;border-radius:50%;border:2px solid var(--vscode-charts-blue);box-sizing:border-box"></span><span>'+E(t.title)+"</span></div>"}},se=class{render(e){let t=e.repository||e;return!t||!t.name?"<div></div>":'<div style="display:flex;align-items:center;gap:6px"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-repo" style="color:var(--vscode-textLink-foreground)"><path d="M2 2.5A1.5 1.5 0 0 1 3.5 1h9A1.5 1.5 0 0 1 14 2.5v11A1.5 1.5 0 0 1 12.5 15h-9A1.5 1.5 0 0 1 2 13.5v-11zM3.5 2A.5.5 0 0 0 3 2.5V4h10V2.5a.5.5 0 0 0-.5-.5h-9z"></path></svg><span>'+E(t.name)+"</span></div>"}},re=class{render(e,t,i,n){return"<div>"+(e.labels||[]).map(s=>{let r=E(s.name||""),o=i&&(i.content&&i.content.repository&&i.content.repository.nameWithOwner||i.repository&&i.repository.nameWithOwner)||e.raw&&e.raw.itemContent&&e.raw.itemContent.repository&&e.raw.itemContent.repository.nameWithOwner||null,l=s.color||s.colour||null;if(t&&t.repoOptions&&o&&t.repoOptions[o]){let w=t.repoOptions[o].find(C=>C&&C.name===s.name);w&&(l=w.color||w.colour||l)}let a=P(l)||null,d=!!(a&&/^#([0-9a-f]{3}|[0-9a-f]{6})$/i.test(a)),m=a||"#999999",p=d&&J(a,.12)||"rgba(0,0,0,0.06)",b=a||"#333333";return"<span style='display:inline-block;padding:2px 8px;margin-right:6px;border-radius:999px;border:1px solid "+E(m)+";background:"+E(p)+";color:"+E(b)+";font-size:12px;line-height:18px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis'>"+r+"</span>"}).join("")+"</div>"}},W=class{render(e){let t=e.pullRequests||[];if(!t||t.length===0)return"";let i="<div style='display:flex;flex-wrap:wrap;gap:6px;align-items:center'>";for(let n=0;n<t.length;n++){let s=t[n],r=E(String(s&&s.number||"")),o=E(s&&s.title||""),l=E(s&&s.url||""),a=s&&(s.state_color||s.color||s.colour||s.state)||null,d=P(a)||null,m=!!(d&&/^#([0-9a-f]{3}|[0-9a-f]{6})$/i.test(d)),p=d||"#999999",b=m&&J(d,.12)||"rgba(0,0,0,0.06)",w=X(d)||"#333333";i+="<a href='"+l+"' target='_blank' rel='noopener noreferrer' style='text-decoration:none;color:inherit'><span title='"+o+"' style='display:inline-flex;align-items:center;gap:6px;padding:4px 8px;border-radius:999px;border:1px solid "+E(p)+";background:"+E(b)+";color:"+E(w)+";font-size:12px;line-height:18px;overflow:hidden;box-sizing:border-box;max-width:160px'><svg width='12' height='12' viewBox='0 0 16 16' xmlns='http://www.w3.org/2000/svg' style='flex-shrink:0;color:"+E(d||"#666")+"'><circle cx='8' cy='8' r='6' fill='currentColor' /></svg><span style='flex:1 1 auto;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap'>#"+r+"</span></span></a>"}return i+="</div>",i}},$=class{render(e){return(e.issues||[]).map(t=>"<a href='"+E(t.url||"")+"' target='_blank' rel='noopener noreferrer'>#"+E(String(t.number||""))+" "+E(t.title||"")+"</a>").join("<br/>")}},oe=class{render(e){let t=e.assignees||[];if(t.length===0)return"<div></div>";let i=t.slice(0,3).map((r,o)=>{let l=E(r.avatarUrl||r.avatar||""),a=o===0?"0px":o===1?"-8px":"-14px",d=Math.max(1,3-o);if(l)return"<span title='"+E(r.login||r.name||"")+"' style='display:inline-block;width:20px;height:20px;border-radius:50%;overflow:hidden;background-size:cover;background-position:center;background-image:url("+l+");border:2px solid var(--vscode-editor-background);margin-left:"+a+";vertical-align:middle;position:relative;z-index:"+d+"'></span>";let m=E((r.name||r.login||"").split(" ").map(p=>p[0]||"").join("").toUpperCase().slice(0,2));return"<span title='"+E(r.login||r.name||"")+"' style='display:inline-flex;align-items:center;justify-content:center;width:20px;height:20px;border-radius:50%;background:#777;color:#fff;font-size:11px;border:2px solid var(--vscode-editor-background);margin-left:"+a+";vertical-align:middle;position:relative;z-index:"+d+"'>"+m+"</span>"}).join(""),n=t.map(r=>r.login||r.name||""),s="";return n.length===1?s=n[0]:n.length===2?s=n[0]+" and "+n[1]:s=n.slice(0,-1).join(", ")+" and "+n.slice(-1)[0],"<div style='display:flex;align-items:center;gap:8px'><span style='display:flex;align-items:center'>"+("<span style='display:inline-block;vertical-align:middle;height:20px;line-height:20px;margin-right:8px;'>"+i+"</span>")+"</span><span style='white-space:nowrap;overflow:hidden;text-overflow:ellipsis'>"+E(s)+"</span></div>"}},le=class{render(e){return"<div>"+E((e.reviewers||[]).map(t=>t.login||t.name||t.kind||"").join(", "))+"</div>"}},ae=class{render(e){return"<div>"+E(e.milestone&&e.milestone.title||"")+"</div>"}},de=class{render(e){try{if(!e||e.total==null||Number(e.total)<=0)return"";let t=Math.max(0,Math.floor(Number(e.total)||0)),i=Math.max(0,Math.floor(Number(e.done||0)));if(t===0)return"";let n=null;return e.percent!==void 0&&e.percent!==null?n=Number(e.percent):n=Math.round(i/t*100),n==null||!isFinite(n)?"":(n=Math.max(0,Math.min(100,n)),"<div class='sub-issues-progress' style='display:flex;align-items:center;gap:8px;width:100%;'><div class='sub-issues-progress-bar' style='flex:1;min-width:0'><div style='width:100%;height:12px;border-radius:6px;border:1px solid var(--vscode-focusBorder);overflow:hidden;background:transparent;box-sizing:border-box'><div style='height:100%;width:"+String(n)+"%;background:var(--vscode-focusBorder)'></div></div></div><div class='sub-issues-progress-pct' style='min-width:44px;text-align:right;font-variant-numeric:tabular-nums;color:var(--vscode-descriptionForeground)'>"+E(String(n)+"%")+"</div></div>")}catch{return""}}},ce=class{render(e,t,i,n){let s=e&&(e.parent||e.parentIssue||e.issue||e.option||e.item||e.value)||e&&e.raw&&(e.raw.parent||e.raw.itemContent||e.raw.item)||null,r=s&&(s.number||s.id||s.raw&&s.raw.number)&&(s.number||s.raw&&s.raw.number)||"",o=s&&(s.title||s.name||s.raw&&s.raw.title)&&(s.title||s.name||s.raw&&s.raw.title)||"",l=s&&(s.url||s.html_url||s.raw&&s.raw.url)&&(s.url||s.html_url||s.raw&&s.raw.url)||"",a=E(String(o||"")),d=r?E(String(r)):"",m=E(String(l||"")),p=null;try{var b=Array.isArray(n)?n:n||[];if(Array.isArray(b)&&b.length>0&&(r||s)){let F=s&&s.repository&&(s.repository.nameWithOwner||s.repository.name)||s&&s.content&&s.content.repository&&s.content.repository.nameWithOwner||null,A=[];r&&A.push(String(r)),s&&(s.id||s.raw&&s.raw.id)&&A.push(String(s.id||s.raw&&s.raw.id)),s&&(s.url||s.raw&&s.raw.url)&&A.push(String(s.url||s.raw&&s.raw.url)),s&&(s.title||s.name)&&A.push(String(s.title||s.name));let T=b.find(_=>{let c=_&&(_.content||_.raw&&_.raw.itemContent)||null;if(!c)return!1;let f=[];if(c.number&&f.push(String(c.number)),c.id&&f.push(String(c.id)),c.url&&f.push(String(c.url)),c.title&&f.push(String(c.title)),c.name&&f.push(String(c.name)),c.raw&&c.raw.number&&f.push(String(c.raw.number)),c.raw&&c.raw.id&&f.push(String(c.raw.id)),c.raw&&c.raw.url&&f.push(String(c.raw.url)),F){let k=c.repository&&(c.repository.nameWithOwner||c.repository.name)||null;if(k&&String(k)!==String(F))return!1}for(let k=0;k<A.length;k++)for(let L=0;L<f.length;L++)if(A[k]&&f[L]&&String(A[k])===String(f[L]))return!0;return!1});if(T&&Array.isArray(T.fieldValues)){let _=T.fieldValues.find(c=>c&&c.type==="single_select"&&(c.raw&&c.raw.field&&String(c.raw.field.name||"").toLowerCase()==="status"||c.fieldName&&String(c.fieldName||"").toLowerCase()==="status"||c.field&&c.field.name&&String(c.field.name||"").toLowerCase()==="status"));_&&(p=_.option&&(_.option.color||_.option.id||_.option.name)||_.raw&&_.raw.color||null)}}}catch{}p||(p=s&&(s.option&&(s.option.color||s.option.id||s.option.name)||s.color||s.colour)||null);let w=P(p)||null,C=!!(w&&/^#([0-9a-f]{3}|[0-9a-f]{6})$/i.test(w)),I=w||"#999999",h=C&&J(w,.12)||"rgba(0,0,0,0.06)",x=X(w)||"#333333",v="<span style='display:block;width:100%;box-sizing:border-box'><div style='display:inline-flex;align-items:center;gap:8px;padding:4px 10px;border:1px solid "+E(I)+";border-radius:999px;color:"+E(x)+";background:"+E(h)+";font-size:12px;line-height:18px;overflow:hidden;box-sizing:border-box;width:100%'><svg width='14' height='14' viewBox='0 0 16 16' xmlns='http://www.w3.org/2000/svg' style='flex-shrink:0;color:"+E(w||"#666")+"'><circle cx='8' cy='8' r='6' fill='currentColor' /></svg><span class='parent-issue-title' style='flex:1;min-width:0;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;display:block'>"+a+"</span>"+(d?"<span style='margin-left:6px;color:var(--vscode-descriptionForeground);white-space:nowrap'>#"+d+"</span>":"")+"</div></span>",y="<span data-gh-open='"+(m||"")+"' class='parent-issue-wrapper' style='display:block;width:100%;cursor:"+(m?"pointer":"default")+"'>";return m?y+v+"</span>":v}};var Ae={title:new Z,text:new V,number:new ee,date:new te,single_select:new ne,iteration:new ie,repository:new se,labels:new re,pull_request:new W,issue:new $,assignees:new oe,reviewers:new le,milestone:new ae,sub_issues_progress:new de,parent_issue:new ce,linked_pull_requests:new W,tracks:new $};function Fe(u,e,t,i){if(!u)return"";try{let n=Ae[u.type];return n?n.render(u,e,t,i):""}catch(n){return console.error("Error rendering cell",n),""}}var pe=class{constructor(e,t,i){this.fields=e;this.allItems=t;this.onResizeStart=i}createRow(e,t){let i=document.createElement("tr");i.classList.add("table-row"),i.setAttribute("data-gh-item-id",e.id),i.style.transition="background-color 0.15s ease",i.addEventListener("mouseenter",()=>{i.style.backgroundColor="var(--vscode-list-hoverBackground)"}),i.addEventListener("mouseleave",()=>{i.style.backgroundColor="transparent"});let n=document.createElement("td");n.textContent=String(t+1),this.styleCell(n),i.appendChild(n);for(let s=0;s<this.fields.length;s++){let r=this.fields[s],o=document.createElement("td");this.styleCell(o);let l=e.fieldValues.find(d=>String(d.fieldId)===String(r.id)||d.fieldName===r.name);l&&(o.innerHTML=Fe(l,r,e,this.allItems)),o.style.position="relative";let a=document.createElement("div");a.className="column-resizer",a.style.position="absolute",a.style.top="0",a.style.right="0",a.style.width="6px",a.style.height="100%",a.style.cursor="col-resize",a.style.userSelect="none",a.style.zIndex="50",a.addEventListener("mouseenter",()=>a.style.background="var(--vscode-focusBorder)"),a.addEventListener("mouseleave",()=>a.style.background="transparent"),a.addEventListener("mousedown",d=>{d.preventDefault(),d.stopPropagation();let m=i.closest("table");if(!m)return;let b=m.querySelectorAll("col")[s+1],w=b?parseInt(b.style.width)||b.offsetWidth:o.offsetWidth;this.onResizeStart(s+1,d.pageX,w)}),o.appendChild(a),i.appendChild(o)}return i}styleCell(e){e.style.padding="8px",e.style.borderRight="1px solid var(--vscode-panel-border)",e.style.borderBottom="1px solid var(--vscode-panel-border)",e.style.whiteSpace="nowrap",e.style.overflow="hidden",e.style.textOverflow="ellipsis"}};var ue=class{constructor(e,t){this.fields=e;this.allItems=t}getIconSvg(e,t=14){return typeof window.getIconSvg=="function"?window.getIconSvg(e,{size:t}):""}renderGroup(e,t,i,n){let s=document.createElement("tr"),r=document.createElement("td");r.colSpan=this.fields.length+1,r.style.padding="8px",r.style.background="var(--vscode-editor-background)",r.style.fontWeight="600",r.style.borderTop="1px solid var(--vscode-editorGroup-border)",r.style.borderBottom="1px solid var(--vscode-editorGroup-border)",r.style.position="sticky",r.style.top="32px",r.style.zIndex="9",r.style.boxShadow="0 1px 2px rgba(0,0,0,0.1)";let o=document.createElement("div");o.style.display="flex",o.style.alignItems="center",o.style.gap="8px";let l=this.fields.find(c=>c.dataType&&String(c.dataType).toLowerCase()==="number"&&String(c.name||"").toLowerCase().includes("estimate"))||this.fields.find(c=>c.dataType&&String(c.dataType).toLowerCase()==="number"),a=l?l.id:null,d=c=>{if(!a)return 0;let f=0;for(let k of c){let L=k.item||k;if(!L||!Array.isArray(L.fieldValues))continue;let g=L.fieldValues.find(S=>S.fieldId&&String(S.fieldId)===String(a)||S.fieldName&&String(S.fieldName).toLowerCase().includes("estimate")||S.type==="number");if(g){let S=Number(g.number!=null?g.number:g.value!=null?g.value:NaN);isNaN(S)||(f+=S)}}return f},m=c=>isFinite(c)?String(c):"",p=document.createElement("span"),b=this.getIconSvg("triangle-down",16),w=this.getIconSvg("triangle-right",16);p.innerHTML=b,p.style.cursor="pointer",p.style.userSelect="none",p.style.display="inline-flex",p.style.alignItems="center",p.style.justifyContent="center",p.style.width="16px",p.style.height="16px",p.style.fill="var(--vscode-foreground)",p.style.opacity="0.7";let C=document.createElement("div");C.style.width="12px",C.style.height="12px",C.style.borderRadius="50%",C.style.backgroundColor=P(t.option.color)||"gray";let I=document.createElement("span");I.textContent=t.option.name||t.option.title||"Unassigned";let h=document.createElement("div");h.style.display="flex",h.style.alignItems="center",h.style.gap="8px",h.style.position="sticky",h.style.left="0",h.style.zIndex="12",h.style.background=r.style.background,h.style.paddingRight="8px";let x=document.createElement("div");x.style.display="flex",x.style.alignItems="center",x.style.gap="8px",x.style.flex="1",h.appendChild(p);let v=null,y=null;if(String(i.dataType||"").toLowerCase()==="parent_issue"){let c=t.items&&t.items[0]?t.items[0].item||t.items[0]:null;if(c&&Array.isArray(c.fieldValues)){let f=c.fieldValues.find(k=>String(k.fieldId)===String(i.id)||k.fieldName===i.name||k.type==="parent_issue");f&&(v=f.parent||f.parentIssue||f.issue||f.item||f.value||null)}if(v&&Array.isArray(this.allItems))try{let f=[];v.number&&f.push(String(v.number)),v.id&&f.push(String(v.id)),v.url&&f.push(String(v.url)),v.title&&f.push(String(v.title));let k=this.allItems.find(L=>{let g=L&&(L.content||L.raw&&L.raw.itemContent)||null;if(!g)return!1;let S=[];g.number&&S.push(String(g.number)),g.id&&S.push(String(g.id)),g.url&&S.push(String(g.url)),g.title&&S.push(String(g.title)),g.name&&S.push(String(g.name)),g.raw&&g.raw.number&&S.push(String(g.raw.number)),g.raw&&g.raw.id&&S.push(String(g.raw.id)),g.raw&&g.raw.url&&S.push(String(g.raw.url));for(let M of f)for(let B of S)if(M&&B&&String(M)===String(B))return!0;return!1});k&&(y=k)}catch{}}if(t.option&&t.option.avatarUrl||t.option&&t.option.login||t.option&&t.option.name&&String(i.dataType||"").toLowerCase()==="assignees"){let c=document.createElement("span"),f=t.option&&(t.option.avatarUrl||t.option.avatar||t.option.imageUrl)||(()=>{for(let k of t.items){let L=k.item||k;if(!L||!Array.isArray(L.fieldValues))continue;let g=L.fieldValues.find(S=>S.type==="assignees"||String(S.fieldId)===String(i.id));if(g&&g.assignees&&Array.isArray(g.assignees)){let S=g.assignees.find(M=>String(M.login||M.name)===String(t.option.name||t.option.id));if(S&&(S.avatarUrl||S.avatar))return S.avatarUrl||S.avatar}}return null})();f?(c.innerHTML='<span title="'+E(t.option&&(t.option.login||t.option.name)||"Assignee")+'" style="display:inline-block;width:20px;height:20px;border-radius:50%;overflow:hidden;background-size:cover;background-position:center;background-image:url('+E(f)+');border:2px solid var(--vscode-editor-background)"></span>',h.appendChild(c)):h.appendChild(C)}else if(String(i.dataType||"").toLowerCase()==="repository"){let c=document.createElement("span");c.innerHTML='<svg width="14" height="14" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" style="flex-shrink:0;color:var(--vscode-icon-foreground)"><path fill="currentColor" d="M2 2.5A1.5 1.5 0 0 1 3.5 1h9A1.5 1.5 0 0 1 14 2.5v11A1.5 1.5 0 0 1 12.5 15h-9A1.5 1.5 0 0 1 2 13.5v-11zM3.5 2A.5.5 0 0 0 3 2.5V4h10V2.5a.5.5 0 0 0-.5-.5h-9z"/></svg>',h.appendChild(c)}else h.appendChild(C);if(y){let c=y.content||y.raw&&y.raw.itemContent||null;if(c){try{c.title?I.textContent=String(c.title):c.name?I.textContent=String(c.name):c.number&&(I.textContent=String(c.number))}catch{}if(Array.isArray(y.fieldValues)){let f=y.fieldValues.find(k=>k&&k.type==="single_select"&&k.option&&k.option.name);if(f&&f.option)try{let k=f.option.color||f.option.id||f.option.name||null;k&&(C.style.backgroundColor=P(k)||C.style.backgroundColor)}catch{}}}}else if(v&&(I.textContent=v.title||v.name||v.number||v.id||I.textContent,v.color))try{C.style.backgroundColor=P(v.color)||C.style.backgroundColor}catch{}h.appendChild(I);let F=document.createElement("span");F.style.display="inline-flex",F.style.alignItems="center",F.style.justifyContent="center",F.style.width="22px",F.style.height="22px",F.style.borderRadius="50%",F.style.background="var(--vscode-input-background)",F.style.border="1px solid var(--vscode-panel-border)",F.style.color="var(--vscode-foreground)",F.style.fontSize="12px",F.style.fontWeight="600",F.style.minWidth="22px",F.style.boxSizing="border-box",F.textContent=String(t.items.length||0),h.appendChild(F);let A=d(t.items||[]);if(A&&A>0){let c=document.createElement("div");if(c.style.display="inline-block",c.style.padding="2px 8px",c.style.borderRadius="999px",c.style.border="1px solid var(--vscode-panel-border)",c.style.background="var(--vscode-input-background)",c.style.color="var(--vscode-foreground)",c.style.fontSize="12px",c.style.lineHeight="18px",c.style.marginLeft="8px",c.textContent="Estimate: "+m(A),h.appendChild(c),String(i.dataType||"").toLowerCase()==="parent_issue"&&!(t.option&&(t.option.name==="Unassigned"||t.option.title==="Unassigned"))){let f=["done","closed","completed","finished"],k=H=>{try{let N=H&&(H.content||H.raw&&H.raw.itemContent);if(N){let O=(N.state||(N.merged?"MERGED":void 0)||"").toString().toUpperCase();if(O==="CLOSED"||O==="MERGED")return!0}if(Array.isArray(H.fieldValues)){if(H.fieldValues.find(G=>G&&G.type==="single_select"&&G.option&&G.option.name&&f.includes(String(G.option.name).toLowerCase())))return!0;let z=H.fieldValues.find(G=>G&&(String(G.fieldName||"").toLowerCase().includes("progress")||String(G.fieldName||"").toLowerCase().includes("percent")||G.type==="number"&&String(G.fieldName||"").toLowerCase().includes("progress")));if(z&&z.number!=null&&Number(z.number||0)>=100)return!0}if(N&&N.labels&&Array.isArray(N.labels.nodes)){let O=N.labels.nodes.map(z=>String(z.name||"").toLowerCase());for(let z of f)if(O.includes(z))return!0}}catch{}return!1},L=0,g=0;if(y&&Array.isArray(y.fieldValues)){let H=y.fieldValues.find(N=>N&&(N.type==="sub_issues_progress"||N.total!=null&&N.done!=null));H&&H.total!=null&&(g=Number(H.total||0),L=Number(H.done||0))}if(!g)for(let H of t.items){let N=H.item||H;N&&(g++,k(N)&&L++)}let S=document.createElement("div");S.style.color="var(--vscode-descriptionForeground)",S.style.fontSize="12px",S.style.marginLeft="8px",S.style.fontVariantNumeric="tabular-nums",S.textContent=`${L}/${g}`,h.appendChild(S);let M=document.createElement("div");M.style.display="inline-flex",M.style.alignItems="center",M.style.gap="8px",M.style.marginLeft="8px";let B=g>0?Math.round(L/g*100):0,R=document.createElement("div");R.style.display="inline-block",R.style.width="120px",R.style.height="12px",R.style.background="transparent",R.style.border="1px solid var(--vscode-focusBorder)",R.style.borderRadius="6px",R.style.overflow="hidden";let j=document.createElement("div");j.style.height="100%",j.style.width=String(B)+"%",j.style.background="var(--vscode-focusBorder)",R.appendChild(j),M.appendChild(R),h.appendChild(M)}}if(String(i.dataType||"").toLowerCase()==="single_select")try{let c=(i.options||[]).find(f=>String(f.name)===String(t.option&&t.option.name));if(c&&c.description){let f=document.createElement("div");f.style.color="var(--vscode-descriptionForeground)",f.style.fontSize="12px",f.style.marginLeft="8px",f.textContent=String(c.description).slice(0,120),h.appendChild(f)}}catch{}if(String(i.dataType||"").toLowerCase()==="iteration")try{let c=t.option||{},f=null,k=c.startDate||c.start&&c.startDate||null,L=c.duration||c.length||null;if(k&&L)try{let g=new Date(k),S=Number(L)||0,M=new Date(g.getTime()+S*24*60*60*1e3),B=g.toLocaleDateString("en-US",{month:"short",day:"numeric"}),R=M.toLocaleDateString("en-US",{month:"short",day:"numeric"});f=`${B} \u2014 ${R}`}catch{f=null}if(f||(f=c.title||c.name?String(c.title||c.name):null),f){let g=document.createElement("div");g.style.color="var(--vscode-descriptionForeground)",g.style.fontSize="12px",g.style.marginLeft="8px",g.textContent=String(f).slice(0,120),h.appendChild(g)}}catch{}t.option&&(t.option.name==="Unassigned"||t.option.title==="Unassigned")&&(I.textContent="No "+(i.name||"value")),o.appendChild(h),o.appendChild(x),r.appendChild(o),s.appendChild(r),e.appendChild(s);let T=[];t.items.forEach(c=>{let f=n.createRow(c.item,c.index);f.classList.add("group-row-"+t.option.id),e.appendChild(f),T.push(f)});let _=!1;p.addEventListener("click",()=>{_=!_,p.innerHTML=_?w:b,T.forEach(c=>{c.style.display=_?"none":"table-row"})})}};var me=class{constructor(e,t,i){this.table=e;this.fields=t;this.options=i}setupResizers(){this.table.querySelectorAll("th").forEach((t,i)=>{if(i===0)return;let n=document.createElement("div");n.className="column-resizer",n.style.position="absolute",n.style.top="0",n.style.right="0",n.style.width="4px",n.style.height="100%",n.style.cursor="col-resize",n.style.userSelect="none",n.style.zIndex="100",n.addEventListener("mouseenter",()=>{n.style.background="var(--vscode-focusBorder)"}),n.addEventListener("mouseleave",()=>{n.style.background="transparent"}),n.addEventListener("mousedown",s=>{s.preventDefault(),s.stopPropagation();let o=this.table.querySelectorAll("col")[i],l=o?parseInt(o.style.width)||o.offsetWidth:t.offsetWidth;this.beginColumnResize(i,s.pageX,l)}),t.style.position="relative",t.appendChild(n)}),this.restoreColumnWidths()}beginColumnResize(e,t,i){let n=r=>{let o=Math.max(20,i+(r.pageX-t)),a=this.table.querySelectorAll("col")[e];a&&(a.style.width=`${o}px`,a.style.minWidth=`${o}px`,a.style.maxWidth=`${o}px`)},s=r=>{document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",s);let o=e-1;if(o>=0&&o<this.fields.length){let a=this.table.querySelectorAll("col")[e],d=a?parseInt(a.style.width)||a.offsetWidth:void 0;d&&this.saveColumnWidth(this.fields[o].id,d)}};document.addEventListener("mousemove",n),document.addEventListener("mouseup",s)}saveColumnWidth(e,t){let i=this.getStorageKey("columnWidths");if(i)try{let n=localStorage.getItem(i),s=n?JSON.parse(n):{};s[e]=t,localStorage.setItem(i,JSON.stringify(s))}catch{}}restoreColumnWidths(){let e=this.getStorageKey("columnWidths");if(e)try{let t=localStorage.getItem(e);if(!t)return;let i=JSON.parse(t),n=this.table.querySelectorAll("col");this.fields.forEach((s,r)=>{let o=i[s.id];if(o){let l=n[r+1];l&&(l.style.width=`${o}px`,l.style.minWidth=`${o}px`,l.style.maxWidth=`${o}px`)}})}catch{}}getStorageKey(e){return this.options.viewKey?`ghProjects.table.${this.options.viewKey}.${e}`:""}};var ye=class{constructor(e,t,i,n={}){this.activeMenu=null;this.activeFieldsMenu=null;this.activeSlicePanel=null;this.activeSlice=null;this.activeSlicePanelFieldId=null;this.tableResizer=null;this.container=e,this.allFields=(t||[]).map(o=>({...o,id:String(o.id)})),this.options=n,this.items=i;let s=this.loadHiddenFields().map(o=>String(o)),r=(n.hiddenFields||[]).map(o=>String(o));this.hiddenFieldIds=new Set([...s,...r]),this.fields=this.allFields.filter(o=>!this.hiddenFieldIds.has(o.id));try{console.debug("[ProjectTable] init: allFieldIds=",this.allFields.map(o=>o.id)),console.debug("[ProjectTable] init: hiddenFieldIds=",Array.from(this.hiddenFieldIds)),console.debug("[ProjectTable] init: visibleFieldIds=",this.fields.map(o=>o.id))}catch{}try{let o={allFieldIds:this.allFields.map(l=>String(l.id)),hiddenFieldIds:Array.from(this.hiddenFieldIds),visibleFieldIds:this.fields.map(l=>String(l.id))};window.__APP_MESSAGING__&&typeof window.__APP_MESSAGING__.postMessage=="function"&&window.__APP_MESSAGING__.postMessage({command:"debugLog",level:"debug",message:"ProjectTable init",data:o,viewKey:this.options.viewKey})}catch{}this.applyFieldOrder()}render(){let e=this.container.querySelector(".slice-panel");this.container.innerHTML="",e&&this.container.appendChild(e);let t=document.createElement("div");t.className="table-wrapper",t.style.overflowX="auto",t.style.overflowY="auto",t.style.width="100%",t.style.display="block",t.style.height="100%";let i=document.createElement("table");i.style.borderCollapse="separate",i.style.borderSpacing="0",i.style.tableLayout="fixed",i.style.width="100%",this.renderColGroup(i),new q({fields:this.fields,sortConfig:this.options.sortConfig,groupingFieldName:this.options.groupingFieldName,activeSlice:this.activeSlice,activeSlicePanelFieldId:this.activeSlicePanelFieldId,onHeaderMenu:this.showHeaderMenu.bind(this),onShowFieldsMenu:this.showFieldsMenu.bind(this),onClearGroup:this.clearGroup.bind(this),onClearSlice:this.clearSlice.bind(this)}).render(i),this.renderBody(i),t.appendChild(i),this.container.appendChild(t),this.tableResizer=new me(i,this.fields,this.options),this.tableResizer.setupResizers()}renderColGroup(e){let t=document.createElement("colgroup"),i=document.createElement("col");i.style.width="40px",t.appendChild(i);for(let s of this.fields){let r=document.createElement("col");r.style.width="150px",r.dataset.fieldId=s.id,t.appendChild(r)}let n=document.createElement("col");n.style.width="50px",t.appendChild(n),e.appendChild(t)}showFieldsMenu(e){this.activeMenu&&(this.activeMenu.hide(),this.activeMenu=null),this.activeFieldsMenu&&(this.activeFieldsMenu.hide(),this.activeFieldsMenu=null);let t=new Set(this.allFields.filter(n=>!this.hiddenFieldIds.has(String(n.id))).map(n=>String(n.id)));try{console.debug("[ProjectTable] showFieldsMenu: hiddenFieldIds=",Array.from(this.hiddenFieldIds)),console.debug("[ProjectTable] showFieldsMenu: allFieldIds=",this.allFields.map(n=>n.id))}catch{}let i=new be({fields:this.allFields.map(n=>({id:n.id,name:n.name,iconClass:n.iconClass,dataType:n.dataType||n.type})),visibleFieldIds:t,onToggleVisibility:(n,s)=>{s?this.showField(n):this.hideField(n)},onCreateField:()=>{try{console.log("Create field requested")}catch{}}});this.activeFieldsMenu=i,i.show(e)}renderBody(e){let t=document.createElement("tbody"),i=this.items;this.options.sortConfig&&(i=K(this.items,this.fields,this.options.sortConfig)),this.activeSlice&&(i=i.filter(r=>{let o=r.fieldValues.find(a=>String(a.fieldId)===String(this.activeSlice.fieldId));if(!o)return this.activeSlice.value===null;let l=null;return o.text!==void 0?l=o.text:o.title!==void 0?l=o.title:o.number!==void 0?l=o.number:o.date!==void 0?l=o.date:o.option?l=o.option.name:o.iteration?l=o.iteration.title:l=o.value,l===this.activeSlice.value}));let n=this.getGroupingField(),s=new pe(this.fields,this.items,(r,o,l)=>{this.tableResizer&&this.tableResizer.beginColumnResize(r,o,l)});n?this.renderGroupedRows(t,n,i,s):this.renderFlatRows(t,i,s),e.appendChild(t)}getGroupingField(){return this.options.groupingFieldName?this.fields.find(e=>e.name&&e.name.toLowerCase()===this.options.groupingFieldName?.toLowerCase()||e.id&&e.id===this.options.groupingFieldName):null}renderFlatRows(e,t,i){t.forEach((n,s)=>{let r=i.createRow(n,s);e.appendChild(r)})}renderGroupedRows(e,t,i,n){let s=Q.groupItems(i,t),r=new ue(this.fields,this.items);for(let o of s)r.renderGroup(e,o,t,n)}showHeaderMenu(e,t,i){e.stopPropagation(),this.activeMenu&&this.activeMenu.hide();let n=(t.dataType||"").toLowerCase(),s=new Set(["assignees","single_select","parent_issue","iteration","number","date","milestone","repository"]),r=new Set(["assignees","single_select","parent_issue","iteration","number","date","milestone","repository","labels"]),o=s.has(n),l=r.has(n),a=!!(this.options.groupingFieldName&&t.name&&t.name.toLowerCase()===this.options.groupingFieldName.toLowerCase()),d=!!(this.activeSlice&&this.activeSlice.fieldId===t.id||this.activeSlicePanelFieldId&&String(this.activeSlicePanelFieldId)===String(t.id)),m=this.options.sortConfig&&this.options.sortConfig.fieldId===t.id?this.options.sortConfig.direction:null,p=this.fields.findIndex(C=>C.id===t.id),b=p===0,w=p===this.fields.length-1;this.activeMenu=new U(t,{canGroup:o,canSlice:l,canFilter:!1,isGrouped:a,isSliced:d,currentSort:m,isFirst:b,isLast:w,onSort:C=>this.handleSort(t,C),onClearSort:()=>this.clearSort(t),onGroup:()=>this.handleGroup(t),onClearGroup:()=>this.clearGroup(t),onSlice:()=>this.handleSlice(t),onClearSlice:()=>this.clearSlice(t),onHide:()=>this.hideField(t.id),onMove:C=>this.handleMove(t,C)}),this.activeMenu.show(i)}clearGroup(e){if(this.options.groupingFieldName=void 0,this.options.onGroupChange)try{this.options.onGroupChange("")}catch{}this.render()}clearSlice(e){this.activeSlice=null,this.activeSlicePanel&&(this.activeSlicePanel.close(),this.activeSlicePanel=null),this.activeSlicePanelFieldId=null,this.container.style.display="block",this.render(),this.options.onSliceChange&&this.options.onSliceChange(null)}clearSort(e){this.options.sortConfig=void 0,this.render(),this.options.onSortChange&&this.options.onSortChange(null)}showHiddenFieldsMenu(e){this.activeMenu&&this.activeMenu.hide();let t=this.allFields.filter(l=>this.hiddenFieldIds.has(String(l.id)));if(t.length===0){let l=document.createElement("div");l.textContent="No hidden fields",l.style.position="absolute",l.style.background="var(--vscode-menu-background)",l.style.border="1px solid var(--vscode-menu-border)",l.style.borderRadius="4px",l.style.padding="12px",l.style.fontSize="13px",l.style.color="var(--vscode-descriptionForeground)",l.style.zIndex="1000";let a=e.getBoundingClientRect();l.style.top=`${a.bottom+4}px`,l.style.left=`${a.left}px`,document.body.appendChild(l),setTimeout(()=>l.remove(),2e3);return}let i=document.createElement("div");i.style.position="absolute",i.style.background="var(--vscode-menu-background)",i.style.border="1px solid var(--vscode-menu-border)",i.style.borderRadius="4px",i.style.padding="4px 0",i.style.minWidth="180px",i.style.zIndex="1000",i.style.fontSize="13px";let n=e.getBoundingClientRect();i.style.top=`${n.bottom+4}px`,i.style.left=`${n.left}px`;let s=document.createElement("div");s.textContent="Show field",s.style.padding="6px 12px",s.style.fontWeight="600",s.style.color="var(--vscode-descriptionForeground)",s.style.fontSize="11px",s.style.textTransform="uppercase",i.appendChild(s);let r=document.createElement("div");r.style.height="1px",r.style.background="var(--vscode-menu-separatorBackground)",r.style.margin="4px 0",i.appendChild(r),t.forEach(l=>{let a=document.createElement("div");a.textContent=l.name||l.id,a.style.padding="6px 12px",a.style.cursor="pointer",a.style.color="var(--vscode-menu-foreground)",a.addEventListener("mouseenter",()=>{a.style.background="var(--vscode-menu-selectionBackground)",a.style.color="var(--vscode-menu-selectionForeground)"}),a.addEventListener("mouseleave",()=>{a.style.background="transparent",a.style.color="var(--vscode-menu-foreground)"}),a.addEventListener("click",()=>{this.showField(l.id),i.remove(),o.remove()}),i.appendChild(a)});let o=document.createElement("div");o.style.position="fixed",o.style.top="0",o.style.left="0",o.style.right="0",o.style.bottom="0",o.style.zIndex="999",o.addEventListener("click",()=>{i.parentElement&&i.remove(),o.parentElement&&o.remove()}),document.body.appendChild(i),document.body.appendChild(o)}handleSort(e,t){let i={fieldId:e.id,direction:t};this.options.sortConfig=i,this.render(),this.options.onSortChange&&this.options.onSortChange(i)}handleGroup(e){if(e&&e.name&&(this.options.groupingFieldName=e.name,this.render(),this.options.onGroupChange))try{this.options.onGroupChange(e.name)}catch{}}handleSlice(e){this.activeSlicePanel&&(this.activeSlicePanel.close(),this.activeSlicePanel=null),this.activeSlicePanel=new Y(this.container,e,this.items,this.allFields),this.activeSlicePanel.render();try{this.activeSlicePanelFieldId=String(e.id)}catch{this.activeSlicePanelFieldId=null}let t=this.container.querySelector(".table-wrapper");if(t){let i=this.container.querySelector(".slice-panel");i&&this.container.insertBefore(i,t)}this.container.style.display="flex",this.container.style.flexDirection="row",this.container.style.gap="0",this.render(),this.activeSlicePanel.onValueSelect(i=>{this.activeSlice={fieldId:e.id,value:i},this.render()}),this.activeSlicePanel.onFieldChange(i=>{this.activeSlice=null,this.handleSlice(i),this.options.onSliceChange&&this.options.onSliceChange(i)}),this.options.onSliceChange&&this.options.onSliceChange(e)}hideField(e){let t=String(e);this.hiddenFieldIds.add(t);try{console.debug("[ProjectTable] hideField -> added",t,"hiddenFieldIds=",Array.from(this.hiddenFieldIds))}catch{}if(this.options.onHiddenFieldsChange){this.fields=this.allFields.filter(i=>!this.hiddenFieldIds.has(i.id));try{this.applyFieldOrder()}catch{}try{this.options.onHiddenFieldsChange(Array.from(this.hiddenFieldIds))}catch{}this.render()}else{this.saveHiddenFields(),this.fields=this.allFields.filter(i=>!this.hiddenFieldIds.has(i.id));try{this.applyFieldOrder()}catch{}this.render()}}showField(e){let t=String(e);this.hiddenFieldIds.delete(t);try{console.debug("[ProjectTable] showField -> removed",t,"hiddenFieldIds=",Array.from(this.hiddenFieldIds))}catch{}if(this.options.onHiddenFieldsChange){this.fields=this.allFields.filter(i=>!this.hiddenFieldIds.has(i.id));try{this.applyFieldOrder()}catch{}try{this.options.onHiddenFieldsChange(Array.from(this.hiddenFieldIds))}catch{}this.render()}else{this.saveHiddenFields(),this.fields=this.allFields.filter(i=>!this.hiddenFieldIds.has(i.id));try{this.applyFieldOrder()}catch{}this.render()}}handleMove(e,t){let i=this.fields.findIndex(n=>n.id===e.id);t==="left"&&i>0?[this.fields[i],this.fields[i-1]]=[this.fields[i-1],this.fields[i]]:t==="right"&&i<this.fields.length-1&&([this.fields[i],this.fields[i+1]]=[this.fields[i+1],this.fields[i]]),this.saveFieldOrder(),this.render()}getStorageKey(e){return this.options.viewKey?`ghProjects.table.${this.options.viewKey}.${e}`:""}loadHiddenFields(){let e=this.getStorageKey("hiddenFields");if(!e)return[];try{let t=localStorage.getItem(e),n=((t?JSON.parse(t):[])||[]).map(s=>String(s));try{console.debug("[ProjectTable] loadHiddenFields ->",n)}catch{}return n}catch{return[]}}saveHiddenFields(){let e=this.getStorageKey("hiddenFields");if(!e)return;let t=Array.from(this.hiddenFieldIds).map(i=>String(i));try{console.debug("[ProjectTable] saveHiddenFields ->",t)}catch{}localStorage.setItem(e,JSON.stringify(t))}saveSortConfig(e){let t=this.getStorageKey("sortConfig");t&&localStorage.setItem(t,JSON.stringify(e))}saveFieldOrder(){let e=this.getStorageKey("fieldOrder");if(!e)return;let t=this.fields.map(i=>i.id);localStorage.setItem(e,JSON.stringify(t))}applyFieldOrder(){let e=this.getStorageKey("fieldOrder");if(e)try{let t=localStorage.getItem(e);if(!t)return;let i=JSON.parse(t),n=[];for(let s of i){let r=this.fields.find(o=>String(o.id)===String(s));r&&n.push(r)}for(let s of this.fields)n.find(r=>r.id===s.id)||n.push(s);this.fields=n}catch{}}};function ge(u,e){u.innerHTML='<div class="title">'+e+'</div><div class="loading"><em>Loading...</em></div>'}function fe(u,e,t){u.innerHTML='<div class="title">'+e+'</div><div style="color:var(--vscode-editor-foreground)">'+t+"</div>"}function ve(u){let e=document.createElement("button");return e.type="button",e.textContent="Load more",e.style.marginLeft="8px",e.style.border="1px solid var(--vscode-editorWidget-border)",e.addEventListener("click",()=>{u(),e.disabled=!0,e.textContent="Loading..."}),e}function ke(u,e,t){if(window.filterBarHelper&&typeof window.filterBarHelper.create=="function")try{return window.filterBarHelper.create({parent:u,suffix:t.suffix||e,effFilter:typeof t.effFilter=="string"?t.effFilter:void 0,viewKey:e,step:t.step||50,onLoadMore:t.onLoadMore,onSave:t.onSave,onDiscard:t.onDiscard})}catch{return null}return null}window.tableViewFetcher=function(u,e,t){let i=u&&(u.name||u.id)?u.name||u.id:"Table View";try{ge(e,i)}catch{}let n=30;function s(l,a){let d=l||{},m=d.fields||[],p=d.items||[],b=p.slice(0,n);e.innerHTML="",e.style.margin="0",e.style.padding="0",e.style.height="100%",e.style.display="flex",e.style.flexDirection="column",e.style.overflow="hidden";let w=document.createElement("div");w.style.flex="0 0 auto",w.style.background="var(--vscode-editor-background)",w.style.zIndex="20",w.style.position="relative",w.style.display="flex",w.style.justifyContent="space-between",w.style.alignItems="center",w.style.width="100%";let C=document.createElement("div");C.style.flex="1 1 auto",C.style.marginRight="8px",w.appendChild(C);let I=null,h=null,x=null,v,y=ke(C,t,{suffix:t?String(t).split(":").pop():"",step:n,onLoadMore:()=>{n+=30,o()},onSave:g=>{try{if(I!==null&&(window.__APP_MESSAGING__&&typeof window.__APP_MESSAGING__.postMessage=="function"&&window.__APP_MESSAGING__.postMessage({command:"setViewGrouping",viewKey:t,grouping:I}),I=null),h!==null){let S=Array.from(h);window.__APP_MESSAGING__&&typeof window.__APP_MESSAGING__.postMessage=="function"&&window.__APP_MESSAGING__.postMessage({command:"setViewHiddenFields",viewKey:t,hiddenFields:S});try{let M=t?`ghProjects.table.${t}.hiddenFields`:null;M&&localStorage.setItem(M,JSON.stringify(S))}catch{}h=null}if(x!==null){window.__APP_MESSAGING__&&typeof window.__APP_MESSAGING__.postMessage=="function"&&window.__APP_MESSAGING__.postMessage({command:"setViewSlice",viewKey:t,slice:x});try{let S=t?`ghProjects.table.${t}.slice`:null;S&&localStorage.setItem(S,JSON.stringify(x))}catch{}x=null}if(v!==void 0){try{let S=t?`ghProjects.table.${t}.sortConfig`:null;S&&(v===null?localStorage.removeItem(S):localStorage.setItem(S,JSON.stringify(v)))}catch{}v=void 0}}catch{}},onDiscard:()=>{try{if(I!==null&&(window.__APP_MESSAGING__&&typeof window.__APP_MESSAGING__.postMessage=="function"&&window.__APP_MESSAGING__.postMessage({command:"discardViewGrouping",viewKey:t}),I=null),h!==null&&(window.__APP_MESSAGING__&&typeof window.__APP_MESSAGING__.postMessage=="function"&&window.__APP_MESSAGING__.postMessage({command:"discardViewHiddenFields",viewKey:t}),h=null,o()),x!==null){window.__APP_MESSAGING__&&typeof window.__APP_MESSAGING__.postMessage=="function"&&window.__APP_MESSAGING__.postMessage({command:"discardViewSlice",viewKey:t}),x=null;try{let g=t?`ghProjects.table.${t}.slice`:null;g&&localStorage.removeItem(g)}catch{}o()}v!==void 0&&(v=void 0,o())}catch{}}});try{if(a&&y&&typeof y.setEffectiveFilter=="function")try{y.setEffectiveFilter(a)}catch{}}catch{}if(y)typeof y.setLoadState=="function"&&y.setLoadState(p.length<n,p.length>=n?"Load more":"All loaded"),typeof y.registerItems=="function"&&y.registerItems(p,{fields:m});else{let g=document.createElement("div");g.className="title",g.textContent=i,g.style.padding="8px",w.appendChild(g);let S=document.createElement("div");if(S.style.padding="8px",p.length>n){let M=ve(()=>{n+=30,o()});S.appendChild(M)}else{let M=document.createElement("span");M.textContent="All loaded",M.style.color="var(--vscode-descriptionForeground)",S.appendChild(M)}w.appendChild(S)}e.appendChild(w);let F=document.createElement("div");F.style.flex="1 1 auto",F.style.overflow="hidden",F.style.position="relative",e.appendChild(F);let A=Te(d),T=Ee(d.details?.sortByFields);if(t)try{let g=localStorage.getItem(`ghProjects.table.${t}.sortConfig`);g&&(T=JSON.parse(g))}catch{}let _=b;T&&(_=K(b,m,T));let c=d.allFields&&Array.isArray(d.allFields)?d.allFields:d.fields||[],f=d.details&&d.details.fields&&Array.isArray(d.details.fields.nodes)?d.details.fields.nodes:null,k;if(f&&Array.isArray(f)){let g=new Set(f.map(S=>String(S.id)));k=(c||[]).map(S=>String(S.id)).filter(S=>!g.has(S))}try{let g={allFieldIds:(c||[]).map(S=>String(S.id)),viewFieldIds:f?f.map(S=>String(S.id)):null,viewHiddenFieldIds:k};window.__APP_MESSAGING__&&typeof window.__APP_MESSAGING__.postMessage=="function"&&window.__APP_MESSAGING__.postMessage({command:"debugLog",level:"debug",message:"tableViewFetcher field debug",data:g,viewKey:t})}catch{}new ye(F,c,_,{groupingFieldName:A||void 0,sortConfig:T,viewKey:t,hiddenFields:k,onHiddenFieldsChange:g=>{try{if(h=new Set((g||[]).map(S=>String(S))),y&&y.saveBtn&&y.discardBtn)try{y.saveBtn.disabled=!1,y.discardBtn.disabled=!1,y.saveBtn.style.opacity="1",y.saveBtn.style.cursor="pointer",y.discardBtn.style.opacity="1",y.discardBtn.style.cursor="pointer"}catch{}}catch{}},onSortChange:g=>{try{if(v=g||null,y&&y.saveBtn&&y.discardBtn)try{y.saveBtn.disabled=!1,y.discardBtn.disabled=!1,y.saveBtn.style.opacity="1",y.saveBtn.style.cursor="pointer",y.discardBtn.style.opacity="1",y.discardBtn.style.cursor="pointer"}catch{}}catch{}},onGroupChange:g=>{try{if(I=g||null,y&&y.saveBtn&&y.discardBtn)try{y.saveBtn.disabled=!1,y.discardBtn.disabled=!1,y.saveBtn.style.opacity="1",y.saveBtn.style.cursor="pointer",y.discardBtn.style.opacity="1",y.discardBtn.style.cursor="pointer"}catch{}}catch{}},onSliceChange:g=>{try{if(x=g?{fieldId:g.id,value:null}:null,y&&y.saveBtn&&y.discardBtn)try{y.saveBtn.disabled=!1,y.discardBtn.disabled=!1,y.saveBtn.style.opacity="1",y.saveBtn.style.cursor="pointer",y.discardBtn.style.opacity="1",y.discardBtn.style.cursor="pointer"}catch{}window.__APP_MESSAGING__&&typeof window.__APP_MESSAGING__.postMessage=="function"&&window.__APP_MESSAGING__.postMessage({command:"debugLog",level:"debug",message:g?`Slice activated on field: ${g.name}`:"Slice cleared",viewKey:t})}catch{}}}).render(),y&&typeof y.onFilterChange=="function"&&y.onFilterChange(g=>{F.querySelectorAll("tr[data-gh-item-id]").forEach(M=>{let B=M.getAttribute("data-gh-item-id");B&&g.has(B)?M.style.display="table-row":M.style.display="none"})})}function r(l){let a=l&&l.data?l.data:l;try{if(a&&a.command==="fields"){if(a.viewKey&&t&&String(a.viewKey)!==String(t))return;a.error?fe(e,i,String(a.error)):s(a.payload,a.effectiveFilter)}}catch{}}function o(){try{window.__APP_MESSAGING__&&typeof window.__APP_MESSAGING__.postMessage=="function"&&window.__APP_MESSAGING__.postMessage({command:"requestFields",first:n,viewKey:t})}catch{}}try{window.__APP_MESSAGING__.onMessage(r)}catch{window.addEventListener("message",r)}o()};function Te(u){try{if(u&&u.details){let e=u.details.verticalGroupByFields&&u.details.verticalGroupByFields.nodes,t=u.details.groupByFields&&u.details.groupByFields.nodes;if(e&&e.length>0)return e[0].name||null;if(t&&t.length>0)return t[0].name||null}}catch{}return null}})();
//# sourceMappingURL=tableViewFetcher.js.map
