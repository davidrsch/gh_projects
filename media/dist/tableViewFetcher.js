"use strict";(()=>{var vt=Object.defineProperty;var X=(u,t)=>()=>(u&&(t=u(u=0)),t);var ne=(u,t)=>{for(var e in t)vt(u,e,{get:t[e],enumerable:!0})};var st={};ne(st,{FieldsMenu:()=>re,default:()=>Ze});var re,Ze,$e=X(()=>{"use strict";re=class{constructor(t){this.menuElement=null;this.backdropElement=null;this.anchorElementRef=null;this.anchorRectRef=void 0;this.options=t}show(t,e){this.hide(),this.anchorElementRef=t,this.anchorRectRef=e;try{document.querySelectorAll('[data-menu-type="fields-menu"], [data-menu-type="group-by-menu"]').forEach(l=>l.remove())}catch{}this.backdropElement=document.createElement("div"),this.backdropElement.style.position="fixed",this.backdropElement.style.top="0",this.backdropElement.style.left="0",this.backdropElement.style.right="0",this.backdropElement.style.bottom="0",this.backdropElement.style.zIndex="998",this.backdropElement.addEventListener("click",()=>this.hide()),this.backdropElement.dataset.menuType="fields-menu",document.body.appendChild(this.backdropElement),this.menuElement=document.createElement("div"),this.menuElement.className="fields-menu",this.menuElement.dataset.menuType="fields-menu",this.menuElement.style.position="absolute",this.menuElement.style.visibility="hidden",this.menuElement.style.left="0px",this.menuElement.style.top="0px",this.menuElement.style.background="var(--vscode-menu-background)",this.menuElement.style.border="1px solid var(--vscode-menu-border)",this.menuElement.style.borderRadius="4px",this.menuElement.style.boxShadow="0 2px 8px rgba(0,0,0,0.15)",this.menuElement.style.minWidth="220px",this.menuElement.style.padding="6px 0",this.menuElement.style.maxHeight="60vh",this.menuElement.style.overflowY="auto",this.menuElement.style.boxSizing="border-box",this.menuElement.style.zIndex="1000",this.menuElement.style.fontSize="13px",document.body.appendChild(this.menuElement),this.buildMenu();let n=e;n||(n=t.getBoundingClientRect());try{console.debug("FieldsMenu.show anchorRect",{top:n.top,left:n.left,right:n.right,height:n.height})}catch{}let i=this.menuElement.getBoundingClientRect(),s=8,o=window.innerWidth||document.documentElement.clientWidth,r=window.innerHeight||document.documentElement.clientHeight,a=n.bottom+s;n.bottom+i.height+s>r&&(n.top-i.height-s>=0?a=n.top-i.height-s:a=Math.max(s,Math.min(r-i.height-s,n.bottom+s)));let d=n.left;try{let l=n;d=Math.round(l.right+4),d+i.width>o&&(d=Math.round(l.left-i.width-4),d<s&&(d=Math.max(s,o-i.width-s)))}catch{d=n.left}d=Math.max(s,Math.min(d,o-i.width-s));let c=Math.round(n.top+(n.height-i.height)/2);c=Math.max(s,Math.min(c,Math.max(s,r-i.height-s))),this.menuElement.style.top=`${Math.round(c)}px`,this.menuElement.style.left=`${Math.round(d)}px`,this.menuElement.style.visibility="visible";try{console.debug("FieldsMenu positioned",{top:Math.round(c),left:Math.round(d)})}catch{}return{el:this.menuElement,refresh:this.refresh.bind(this)}}refresh(){if(this.menuElement){this.menuElement.innerHTML="",this.buildMenu();try{let t=this.anchorRectRef;if(!t&&this.anchorElementRef&&(t=this.anchorElementRef.getBoundingClientRect()),!t)return;let e=this.menuElement.getBoundingClientRect(),n=8,i=window.innerWidth||document.documentElement.clientWidth,s=window.innerHeight||document.documentElement.clientHeight,o=Math.round(t.right+4);o+e.width>i&&(o=Math.round(t.left-e.width-4),o<n&&(o=Math.max(n,i-e.width-n))),o=Math.max(n,Math.min(o,i-e.width-n));let r=Math.round(t.top+(t.height-e.height)/2);r=Math.max(n,Math.min(r,Math.max(n,s-e.height-n))),this.menuElement.style.top=`${Math.round(r)}px`,this.menuElement.style.left=`${Math.round(o)}px`}catch{}}}hide(){this.menuElement&&(this.menuElement.remove(),this.menuElement=null),this.backdropElement&&(this.backdropElement.remove(),this.backdropElement=null)}buildMenu(){if(!this.menuElement)return;let t=document.createElement("div");t.style.display="flex",t.style.alignItems="center",t.style.padding="6px 12px",t.style.fontWeight="600",t.style.color="var(--vscode-descriptionForeground)",t.style.fontSize="12px",t.style.textTransform="uppercase";let e=document.createElement("i");e.className="octicon octicon-note",e.style.marginRight="8px",t.appendChild(e);let n=document.createElement("span");n.textContent="Fields",t.appendChild(n),this.menuElement.appendChild(t),this.addSeparator();let i=document.createElement("div");i.style.display="flex",i.style.alignItems="center",i.style.padding="6px 12px",i.style.cursor="pointer",i.style.color="var(--vscode-menu-foreground)",i.innerHTML='<span style="margin-right:8px;font-weight:700">+</span><span>New field</span>',i.addEventListener("mouseenter",()=>{i.style.background="var(--vscode-menu-selectionBackground)",i.style.color="var(--vscode-menu-selectionForeground)"}),i.addEventListener("mouseleave",()=>{i.style.background="transparent",i.style.color="var(--vscode-menu-foreground)"}),i.addEventListener("click",()=>{this.options.onCreateField?.(),this.hide()}),this.menuElement.appendChild(i),this.addSeparator();let s=this.options.fields.filter(r=>this.options.visibleFieldIds.has(r.id)),o=this.options.fields.filter(r=>!this.options.visibleFieldIds.has(r.id));this.addSectionHeader("Visible fields"),s.length===0?this.addEmptyRow("No visible fields"):s.forEach(r=>this.addFieldRow(r,!0)),this.addSeparator(),this.addSectionHeader("Hidden fields"),o.length===0?this.addEmptyRow("No hidden fields"):o.forEach(r=>this.addFieldRow(r,!1))}addSectionHeader(t){if(!this.menuElement)return;let e=document.createElement("div");e.textContent=t,e.style.padding="6px 12px",e.style.fontSize="11px",e.style.fontWeight="600",e.style.color="var(--vscode-descriptionForeground)",e.style.textTransform="uppercase",this.menuElement.appendChild(e)}addEmptyRow(t){if(!this.menuElement)return;let e=document.createElement("div");e.textContent=t,e.style.padding="6px 12px",e.style.color="var(--vscode-menu-foreground)",e.style.opacity="0.8",this.menuElement.appendChild(e)}addFieldRow(t,e){if(!this.menuElement)return;let n=document.createElement("div");if(n.style.display="flex",n.style.alignItems="center",n.style.padding="6px 12px",n.style.cursor=t.locked?"default":"pointer",n.style.color="var(--vscode-menu-foreground)",t.locked&&(n.style.opacity="0.6"),e){let r=document.createElement("span");r.textContent="\u2713",r.style.marginRight="8px",r.style.color="var(--vscode-menu-selectionForeground)",n.appendChild(r)}else{let r=document.createElement("span");r.style.display="inline-block",r.style.width="14px",r.style.marginRight="8px",n.appendChild(r)}let i=this.getIconForField(t),s=document.createElement("span");s.innerHTML=i,s.style.marginRight="8px",s.style.display="inline-flex",s.style.alignItems="center",n.appendChild(s);let o=document.createElement("span");o.textContent=t.name,o.style.flex="1",o.style.whiteSpace="nowrap",o.style.overflow="hidden",o.style.textOverflow="ellipsis",n.appendChild(o),t.locked||(n.addEventListener("mouseenter",()=>{n.style.background="var(--vscode-menu-selectionBackground)",n.style.color="var(--vscode-menu-selectionForeground)"}),n.addEventListener("mouseleave",()=>{n.style.background="transparent",n.style.color="var(--vscode-menu-foreground)"}),n.addEventListener("click",()=>{let r=!e;this.options.onToggleVisibility?.(t.id,r),r?this.options.visibleFieldIds.add(t.id):this.options.visibleFieldIds.delete(t.id),this.menuElement&&(this.menuElement.innerHTML="",this.buildMenu())})),this.menuElement.appendChild(n)}addSeparator(){if(!this.menuElement)return;let t=document.createElement("div");t.style.height="1px",t.style.background="var(--vscode-menu-separatorBackground)",t.style.margin="6px 0",this.menuElement.appendChild(t)}getIconForField(t){let e=(t.dataType||"").toString().toLowerCase();if(typeof window.getIconNameForDataType=="function"&&typeof window.getIconSvg=="function"){let n=window.getIconNameForDataType(e);return window.getIconSvg(n)}return t.iconClass?`<i class="${t.iconClass}"></i>`:"<span></span>"}},Ze=re});var J,je=X(()=>{"use strict";J=class{static groupItems(t,e){let n=[],i=(e.dataType||"").toLowerCase();if(i==="single_select"?n=e.options||[]:i==="iteration"&&(n=e.configuration&&e.configuration.iterations||[]),n&&n.length>0){let a=n.map(c=>({option:c,items:[]})),d=[];return t.forEach((c,l)=>{let p=c.fieldValues.find(x=>String(x.fieldId)===String(e.id)||x.fieldName===e.name),y=!1;if(p){let x=null,C=null;if(i==="single_select"?(x=p.optionId||p.option&&p.option.id,C=p.name||p.option&&p.option.name):i==="iteration"&&(x=p.iterationId||p.iteration&&p.iteration.id||p.id,C=p.title||p.iteration&&p.iteration.title),x||C){let b=a.find(m=>x&&String(m.option.id)===String(x)||C&&(String(m.option.name)===String(C)||String(m.option.title)===String(C)));b&&(b.items.push({item:c,index:l}),y=!0)}}y||d.push({item:c,index:l})}),d.length>0&&a.push({option:{name:"Unassigned",title:"Unassigned",color:"GRAY"},items:d}),a.filter(c=>c.items.length>0)}let s=new Map,o=[];t.forEach((a,d)=>{let c=a.fieldValues.find(x=>String(x.fieldId)===String(e.id)||x.fieldName===e.name),l=null;if(c)if(c.text!==void 0)l=c.text;else if(c.title!==void 0)l=c.title;else if(c.number!==void 0)l=c.number;else if(c.date!==void 0)l=c.date;else if(c.option)l=c.option.name||c.option.title||c.option.id;else if(c.iteration)l=c.iteration.title||c.iteration.id;else if(c.parent||c.parentIssue||c.issue||c.item||c.value){let x=c.parent||c.parentIssue||c.issue||c.item||c.value;x&&(l=x.number||x.id||x.raw&&(x.raw.number||x.raw.id)||x.url||x.title||x.name||null)}else c.assignees?l=Array.isArray(c.assignees)?c.assignees.map(x=>x.login||x.name).join(", "):c.assignees:c.repository?l=c.repository.nameWithOwner||c.repository.name||c.repository.full_name||c.repository.id:c.milestone?l=c.milestone.title||c.milestone.id||c.milestone.name:l=c.value!==void 0?c.value:null;if(l==null||l===""){o.push({item:a,index:d});return}let p=l;if(typeof l=="string")try{p=String(l).trim();let x=p.split(/\r?\n/);x.length>0&&(p=x[0].trim()),p.length>120&&(p=p.slice(0,120))}catch{}let y=String(typeof p=="string"?p.toLowerCase():p);s.has(y)||s.set(y,{option:{id:y,name:String(p),title:String(p)},items:[]}),s.get(y).items.push({item:a,index:d})});let r=Array.from(s.values());return o.length>0&&r.push({option:{name:"Unassigned",title:"Unassigned",color:"GRAY"},items:o}),r}}});var Qe={};ne(Qe,{GroupByMenu:()=>Oe,default:()=>Dt});var Oe,Dt,et=X(()=>{"use strict";je();Oe=class{constructor(t){this.menuEl=null;this.backdropEl=null;this.anchor=null;this.anchorRect=void 0;this.options=t}show(t,e){this.hide(),this.anchor=t,this.anchorRect=e,this.backdropEl=document.createElement("div"),this.backdropEl.style.position="fixed",this.backdropEl.style.top="0",this.backdropEl.style.left="0",this.backdropEl.style.right="0",this.backdropEl.style.bottom="0",this.backdropEl.style.zIndex="998",this.backdropEl.addEventListener("click",()=>this.hide()),document.body.appendChild(this.backdropEl);try{document.querySelectorAll('[data-menu-type="fields-menu"], [data-menu-type="group-by-menu"]').forEach(n=>n.remove())}catch{}return this.menuEl=document.createElement("div"),this.menuEl.className="group-by-menu",this.menuEl.dataset.menuType="group-by-menu",this.menuEl.style.position="absolute",this.menuEl.style.background="var(--vscode-menu-background)",this.menuEl.style.border="1px solid var(--vscode-menu-border)",this.menuEl.style.borderRadius="4px",this.menuEl.style.boxShadow="0 2px 8px rgba(0,0,0,0.15)",this.menuEl.style.minWidth="180px",this.menuEl.style.maxHeight="60vh",this.menuEl.style.overflowY="auto",this.menuEl.style.boxSizing="border-box",this.menuEl.style.padding="4px 0",this.menuEl.style.zIndex="1000",this.menuEl.style.fontSize="13px",document.body.appendChild(this.menuEl),this.buildMenuContent(),this.positionMenu(),{el:this.menuEl,refresh:this.refresh.bind(this)}}buildMenuContent(){if(!this.menuEl)return;this.menuEl.innerHTML="";let t=document.createElement("div");t.textContent=this.options.title||"Group by",t.style.padding="6px 12px",t.style.fontWeight="600",t.style.color="var(--vscode-descriptionForeground)",t.style.fontSize="12px",this.menuEl.appendChild(t),this.addSeparator();let e=document.createElement("div");e.style.display="flex",e.style.alignItems="center",e.style.padding="6px 12px",e.style.cursor="pointer";let n=document.createElement("span");n.style.display="inline-flex",n.style.width="14px",n.style.marginRight="8px",n.style.alignItems="center",n.style.justifyContent="center",this.options.current||(n.textContent="\u2713",n.style.color="var(--vscode-menu-selectionForeground)"),e.appendChild(n);let i=document.createElement("span");i.textContent="No grouping",e.appendChild(i),e.addEventListener("mouseenter",()=>{e.style.background="var(--vscode-menu-selectionBackground)",e.style.color="var(--vscode-menu-selectionForeground)"}),e.addEventListener("mouseleave",()=>{e.style.background="transparent",e.style.color="var(--vscode-menu-foreground)"}),e.addEventListener("click",()=>{this.options.current=null,this.options.onSelect?.(null),this.refresh()}),this.menuEl.appendChild(e),this.addSeparator();let s=this.options.fields||[];try{this.options.items&&Array.isArray(this.options.items)&&this.options.items.length>0&&(s=(this.options.fields||[]).filter(o=>{try{let r=J.groupItems(this.options.items||[],o);return Array.isArray(r)&&r.length>0}catch{return!1}}))}catch{}(s||[]).forEach(o=>{let r=document.createElement("div");r.style.display="flex",r.style.alignItems="center",r.style.padding="6px 12px",r.style.cursor="pointer";let a=document.createElement("span");a.style.display="inline-flex",a.style.width="14px",a.style.marginRight="8px",a.style.alignItems="center",a.style.justifyContent="center";let d=this.options.current?String(this.options.current).toLowerCase():null;d&&(String(o.id).toLowerCase()===d||String(o.name||"").toLowerCase()===d)&&(a.textContent="\u2713",a.style.color="var(--vscode-menu-selectionForeground)"),r.appendChild(a);let l=document.createElement("span");l.style.display="inline-flex",l.style.alignItems="center",l.style.justifyContent="center",l.style.marginRight="8px";try{let y=(o.dataType||"").toString().toLowerCase();if(typeof window.getIconNameForDataType=="function"&&typeof window.getIconSvg=="function"){let x=window.getIconNameForDataType(y);l.innerHTML=window.getIconSvg(x)||"",l.querySelectorAll&&l.querySelectorAll("svg").forEach(C=>C.setAttribute&&C.setAttribute("fill","currentColor"))}else o.iconClass&&(l.innerHTML=`<i class="${o.iconClass}"></i>`)}catch{}r.appendChild(l);let p=document.createElement("div");p.textContent=o.name,p.style.flex="1",r.appendChild(p),r.addEventListener("mouseenter",()=>{r.style.background="var(--vscode-menu-selectionBackground)",r.style.color="var(--vscode-menu-selectionForeground)"}),r.addEventListener("mouseleave",()=>{r.style.background="transparent",r.style.color="var(--vscode-menu-foreground)"}),r.addEventListener("click",()=>{this.options.current=String(o.name),this.options.onSelect?.(String(o.name)),this.refresh()}),this.menuEl.appendChild(r)})}positionMenu(){if(!this.menuEl)return;let t=this.anchorRect;if(!t&&this.anchor&&(t=this.anchor.getBoundingClientRect()),!t)return;let e=this.menuEl.getBoundingClientRect(),n=window.innerWidth||document.documentElement.clientWidth,i=window.innerHeight||document.documentElement.clientHeight,s=8,o=Math.round(t.top+(t.height-e.height)/2),r=Math.max(s,i-e.height-s);o=Math.max(s,Math.min(o,r));let a=Math.round(t.right+4);a+e.width>n&&(a=Math.round(t.left-e.width-4),a<s&&(a=Math.max(s,n-e.width-s))),this.menuEl.style.top=`${o}px`,this.menuEl.style.left=`${a}px`}refresh(){this.menuEl&&this.buildMenuContent()}addSeparator(){if(!this.menuEl)return;let t=document.createElement("div");t.style.height="1px",t.style.background="var(--vscode-menu-separatorBackground)",t.style.margin="6px 0",this.menuEl.appendChild(t)}hide(){this.menuEl&&(this.menuEl.remove(),this.menuEl=null),this.backdropEl&&(this.backdropEl.remove(),this.backdropEl=null)}},Dt=Oe});var ht={};ne(ht,{SortByMenu:()=>ze,default:()=>Bt});function Rt(u,t=14){return window.getIconSvg?window.getIconSvg(u,{size:t}):""}function Pt(u){return window.getIconNameForDataType?window.getIconNameForDataType(u):"note"}var ze,Bt,mt=X(()=>{"use strict";ze=class{constructor(t){this.menuEl=null;this.backdropEl=null;this.anchor=null;this.anchorRect=void 0;this.options=t}show(t,e){this.hide(),this.anchor=t,this.anchorRect=e,this.backdropEl=document.createElement("div"),this.backdropEl.style.position="fixed",this.backdropEl.style.top="0",this.backdropEl.style.left="0",this.backdropEl.style.right="0",this.backdropEl.style.bottom="0",this.backdropEl.style.zIndex="998",this.backdropEl.addEventListener("click",()=>this.hide()),document.body.appendChild(this.backdropEl);try{document.querySelectorAll('[data-menu-type="sort-by-menu"]').forEach(n=>n.remove())}catch{}return this.menuEl=document.createElement("div"),this.menuEl.className="sort-by-menu",this.menuEl.dataset.menuType="sort-by-menu",this.menuEl.style.position="absolute",this.menuEl.style.background="var(--vscode-menu-background)",this.menuEl.style.border="1px solid var(--vscode-menu-border)",this.menuEl.style.borderRadius="4px",this.menuEl.style.boxShadow="0 2px 8px rgba(0,0,0,0.15)",this.menuEl.style.minWidth="180px",this.menuEl.style.maxHeight="60vh",this.menuEl.style.overflowY="auto",this.menuEl.style.boxSizing="border-box",this.menuEl.style.padding="4px 0",this.menuEl.style.zIndex="1000",this.menuEl.style.fontSize="13px",document.body.appendChild(this.menuEl),this.buildMenuContent(),this.positionMenu(),{el:this.menuEl,refresh:this.refresh.bind(this)}}buildMenuContent(){if(!this.menuEl)return;this.menuEl.innerHTML="";let t=document.createElement("div");t.textContent="Sort by",t.style.padding="6px 12px",t.style.fontWeight="600",t.style.color="var(--vscode-descriptionForeground)",t.style.fontSize="12px",this.menuEl.appendChild(t),this.addSeparator(),this.addSortRow(null,"No sorting",null,!this.options.current),this.addSeparator(),(this.options.fields||[]).forEach(e=>{let n=Pt(e.dataType||""),i=this.options.current===e.id||this.options.current===e.name;this.addSortRow(e.id,e.name,n,i)})}addSortRow(t,e,n,i){if(!this.menuEl)return;let s=document.createElement("div");s.style.display="flex",s.style.alignItems="center",s.style.padding="6px 12px",s.style.cursor="pointer";let o=document.createElement("span");if(o.style.display="inline-flex",o.style.width="14px",o.style.marginRight="8px",o.style.alignItems="center",o.style.justifyContent="center",i&&(o.textContent="\u2713",o.style.color="var(--vscode-menu-selectionForeground)"),s.appendChild(o),n){let a=document.createElement("span");a.style.display="inline-flex",a.style.alignItems="center",a.style.justifyContent="center",a.style.marginRight="8px";try{a.innerHTML=Rt(n,14),a.querySelectorAll("svg").forEach(d=>d.setAttribute&&d.setAttribute("fill","currentColor"))}catch{}s.appendChild(a)}let r=document.createElement("span");r.textContent=e,r.style.flex="1",s.appendChild(r),s.addEventListener("mouseenter",()=>{s.style.background="var(--vscode-menu-selectionBackground)",s.style.color="var(--vscode-menu-selectionForeground)"}),s.addEventListener("mouseleave",()=>{s.style.background="transparent",s.style.color="var(--vscode-menu-foreground)"}),s.addEventListener("click",()=>{this.options.current=t,this.options.onSelect&&this.options.onSelect(t),this.refresh()}),this.menuEl.appendChild(s)}positionMenu(){if(!this.menuEl)return;let t=this.anchorRect;if(!t&&this.anchor&&(t=this.anchor.getBoundingClientRect()),!t)return;let e=this.menuEl.getBoundingClientRect(),n=window.innerWidth||document.documentElement.clientWidth,i=window.innerHeight||document.documentElement.clientHeight,s=8,o=Math.round(t.top+(t.height-e.height)/2),r=Math.max(s,i-e.height-s);o=Math.max(s,Math.min(o,r));let a=Math.round(t.right+4);a+e.width>n&&(a=Math.round(t.left-e.width-4),a<s&&(a=Math.max(s,n-e.width-s))),this.menuEl.style.top=`${o}px`,this.menuEl.style.left=`${a}px`}refresh(){this.menuEl&&this.buildMenuContent()}addSeparator(){if(!this.menuEl)return;let t=document.createElement("div");t.style.height="1px",t.style.background="var(--vscode-menu-separatorBackground)",t.style.margin="6px 0",this.menuEl.appendChild(t)}hide(){this.menuEl&&(this.menuEl.remove(),this.menuEl=null),this.backdropEl&&(this.backdropEl.remove(),this.backdropEl=null)}},Bt=ze});var tt={};ne(tt,{FieldSumMenu:()=>Ge,default:()=>Ot});var Ge,Ot,nt=X(()=>{"use strict";Ge=class{constructor(t){this.menuEl=null;this.backdropEl=null;this.anchor=null;this.options=t}show(t,e){return this.hide(),this.anchor=t,this.backdropEl=document.createElement("div"),this.backdropEl.style.position="fixed",this.backdropEl.style.top="0",this.backdropEl.style.left="0",this.backdropEl.style.right="0",this.backdropEl.style.bottom="0",this.backdropEl.style.zIndex="998",this.backdropEl.addEventListener("click",()=>this.hide()),document.body.appendChild(this.backdropEl),this.menuEl=document.createElement("div"),this.menuEl.className="field-sum-menu",this.menuEl.dataset.menuType="field-sum-menu",this.menuEl.style.position="absolute",this.menuEl.style.background="var(--vscode-menu-background)",this.menuEl.style.border="1px solid var(--vscode-menu-border)",this.menuEl.style.borderRadius="4px",this.menuEl.style.boxShadow="0 2px 8px rgba(0,0,0,0.15)",this.menuEl.style.minWidth="200px",this.menuEl.style.maxHeight="60vh",this.menuEl.style.overflowY="auto",this.menuEl.style.padding="4px 0",this.menuEl.style.zIndex="1000",this.menuEl.style.fontSize="13px",document.body.appendChild(this.menuEl),this.buildMenu(),this.positionMenu(e),{el:this.menuEl,refresh:this.refresh.bind(this)}}buildMenu(){if(!this.menuEl)return;this.menuEl.innerHTML="";let t=document.createElement("div");t.textContent=this.options.title||"Field sum",t.style.padding="6px 12px",t.style.fontWeight="600",t.style.color="var(--vscode-descriptionForeground)",t.style.fontSize="12px",this.menuEl.appendChild(t);let e=(i,s,o,r)=>{let a=document.createElement("div");a.style.display="flex",a.style.alignItems="center",a.style.padding="6px 12px",a.style.cursor="pointer";let d=document.createElement("span");if(d.style.display="inline-flex",d.style.width="14px",d.style.marginRight="8px",d.style.alignItems="center",d.style.justifyContent="center",r&&(d.textContent="\u2713",d.style.color="var(--vscode-menu-selectionForeground)"),a.appendChild(d),o){let l=document.createElement("span");l.style.display="inline-flex",l.style.marginRight="8px";try{l.innerHTML=window.getIconSvg?.(o)||"",l.querySelectorAll&&l.querySelectorAll("svg").forEach(p=>p.setAttribute&&p.setAttribute("fill","currentColor"))}catch{}a.appendChild(l)}let c=document.createElement("div");c.textContent=s,c.style.flex="1",a.appendChild(c),a.addEventListener("mouseenter",()=>{a.style.background="var(--vscode-menu-selectionBackground)",a.style.color="var(--vscode-menu-selectionForeground)"}),a.addEventListener("mouseleave",()=>{a.style.background="transparent",a.style.color="var(--vscode-menu-foreground)"}),a.addEventListener("click",l=>{l.stopPropagation();let p=new Set(this.options.current||[]);p.has(i)?p.delete(i):p.add(i),this.options.current=Array.from(p);try{typeof this.options.onChange=="function"&&this.options.onChange(this.options.current)}catch{}this.refresh()}),this.menuEl.appendChild(a)},n=new Set(this.options.current||[]);e("__count__","Count","check",n.has("__count__")),(this.options.fields||[]).forEach(i=>{let s=String(i.dataType||"").toLowerCase();(s==="number"||s==="numeric"||s.includes("num"))&&e(String(i.id),i.name,"number",n.has(String(i.id)))})}positionMenu(t){if(!this.menuEl||!this.anchor)return;let e=t;e||(e=this.anchor.getBoundingClientRect());let n=this.menuEl.getBoundingClientRect(),i=window.innerWidth||document.documentElement.clientWidth,s=window.innerHeight||document.documentElement.clientHeight,o=e.right+4;o+n.width>i&&(o=e.left-n.width-4,o<4&&(o=Math.max(4,Math.min(i-n.width-4,e.right-n.width)))),this.menuEl.style.top=`${Math.round(e.bottom+4)}px`,this.menuEl.style.left=`${Math.round(o)}px`}refresh(){this.menuEl&&this.buildMenu()}hide(){this.menuEl&&(this.menuEl.remove(),this.menuEl=null),this.backdropEl&&(this.backdropEl.remove(),this.backdropEl=null)}},Ot=Ge});var ie=class{constructor(t,e){this.menuElement=null;this.backdropElement=null;this.field=t,this.options=e}getIconSvg(t){return window.getIconSvg?window.getIconSvg(t):""}show(t){this.hide(),this.backdropElement=document.createElement("div"),this.backdropElement.style.position="fixed",this.backdropElement.style.top="0",this.backdropElement.style.left="0",this.backdropElement.style.right="0",this.backdropElement.style.bottom="0",this.backdropElement.style.zIndex="999",this.backdropElement.addEventListener("click",()=>this.hide()),document.body.appendChild(this.backdropElement),this.menuElement=document.createElement("div"),this.menuElement.className="column-header-menu",this.menuElement.style.position="absolute",this.menuElement.style.background="var(--vscode-menu-background)",this.menuElement.style.border="1px solid var(--vscode-menu-border)",this.menuElement.style.borderRadius="4px",this.menuElement.style.boxShadow="0 2px 8px rgba(0, 0, 0, 0.15)",this.menuElement.style.minWidth="180px",this.menuElement.style.padding="4px 0",this.menuElement.style.zIndex="1000",this.menuElement.style.fontSize="13px";let e=t.getBoundingClientRect();this.menuElement.style.top=`${e.bottom+4}px`,this.menuElement.style.left=`${e.left}px`,this.buildMenuItems(),document.body.appendChild(this.menuElement)}hide(){this.menuElement&&(this.menuElement.remove(),this.menuElement=null),this.backdropElement&&(this.backdropElement.remove(),this.backdropElement=null)}buildMenuItems(){if(!this.menuElement)return;this.addMenuItem("Select column",null,{isHeader:!0}),this.addSeparator(),this.addMenuItem("Sort ascending",()=>{this.options.onSort?.("ASC"),this.hide()},{icon:this.getIconSvg("sort-asc"),showClear:this.options.currentSort==="ASC",clearAction:this.options.onClearSort}),this.addMenuItem("Sort descending",()=>{this.options.onSort?.("DESC"),this.hide()},{icon:this.getIconSvg("sort-desc"),showClear:this.options.currentSort==="DESC",clearAction:this.options.onClearSort}),this.addSeparator(),this.options.canGroup&&this.addMenuItem("Group by values",()=>{this.options.onGroup?.(),this.hide()},{icon:this.getIconSvg("rows"),showClear:!!this.options.isGrouped,clearAction:this.options.onClearGroup}),this.options.canSlice&&this.addMenuItem("Slice by values",()=>{this.options.onSlice?.(),this.hide()},{icon:this.getIconSvg("sliceby"),showClear:!!this.options.isSliced,clearAction:this.options.onClearSlice}),this.options.canFilter&&this.addMenuItem("Filter by values...",()=>{this.options.onFilter?.(),this.hide()}),(this.options.canGroup||this.options.canSlice||this.options.canFilter)&&this.addSeparator(),!!(this.field&&(this.field.type==="title"||String(this.field.name||"").toLowerCase()==="title"||String(this.field.id||"").toLowerCase()==="title"))||this.addMenuItem("Hide field",()=>{this.options.onHide?.(),this.hide()},{icon:this.getIconSvg("eye-closed")}),this.addSeparator();let e=!!this.options.isFirst,n=!!this.options.isLast;this.addMenuItem("Move left",()=>{e||(this.options.onMove?.("left"),this.hide())},{icon:this.getIconSvg("arrow-left"),disabled:e}),this.addMenuItem("Move right",()=>{n||(this.options.onMove?.("right"),this.hide())},{icon:this.getIconSvg("arrow-right"),disabled:n})}addMenuItem(t,e,n){if(!this.menuElement)return;let i=document.createElement("div");if(i.className="menu-item",n?.isHeader){i.textContent=t,i.style.padding="6px 12px",i.style.fontWeight="600",i.style.color="var(--vscode-descriptionForeground)",i.style.fontSize="11px",i.style.textTransform="uppercase",i.style.cursor="default",this.menuElement.appendChild(i);return}if(i.style.display="flex",i.style.alignItems="center",i.style.justifyContent="space-between",i.style.padding="6px 12px",i.style.cursor="pointer",i.style.color="var(--vscode-menu-foreground)",n?.icon){let o=document.createElement("span");o.className="menu-item-icon",o.style.display="inline-block",o.style.width="14px",o.style.marginRight="8px",o.style.flex="0 0 auto",o.innerHTML=n.icon,i.appendChild(o)}let s=document.createElement("span");if(s.textContent=t,s.style.flex="1",s.style.whiteSpace="nowrap",s.style.overflow="hidden",s.style.textOverflow="ellipsis",i.appendChild(s),n?.showClear&&n?.clearAction){let o=document.createElement("button");o.type="button",o.textContent="\u2715",o.title="Clear",o.style.border="none",o.style.background="transparent",o.style.cursor="pointer",o.style.padding="2px 6px",o.style.marginLeft="8px",o.style.color="var(--vscode-menu-foreground)",o.addEventListener("mouseenter",()=>{o.style.color="var(--vscode-menu-selectionForeground)",o.style.background="var(--vscode-menu-selectionBackground)"}),o.addEventListener("mouseleave",()=>{o.style.color="var(--vscode-menu-foreground)",o.style.background="transparent"}),o.addEventListener("click",r=>{r.stopPropagation(),n.clearAction&&n.clearAction(),this.hide()}),i.appendChild(o)}n?.disabled&&(i.style.opacity="0.5",i.style.cursor="default"),e&&(i.addEventListener("mouseenter",()=>{i.style.background="var(--vscode-menu-selectionBackground)",i.style.color="var(--vscode-menu-selectionForeground)"}),i.addEventListener("mouseleave",()=>{i.style.background="transparent",i.style.color="var(--vscode-menu-foreground)"}),i.addEventListener("click",()=>{n?.disabled||e()})),this.menuElement.appendChild(i)}addSeparator(){if(!this.menuElement)return;let t=document.createElement("div");t.style.height="1px",t.style.background="var(--vscode-menu-separatorBackground)",t.style.margin="4px 0",this.menuElement.appendChild(t)}};var se=class{constructor(t){this.options=t}getIconSvg(t){return window.getIconSvg?window.getIconSvg(t):""}render(t){let e=document.createElement("thead");e.style.background="var(--vscode-sideBar-background)",e.style.position="sticky",e.style.top="0",e.style.zIndex="10",e.setAttribute("role","rowgroup");let n=document.createElement("tr");n.setAttribute("role","row");let i=document.createElement("th");i.textContent="#",i.setAttribute("role","columnheader"),i.setAttribute("aria-colindex","1"),i.setAttribute("aria-label","Row number"),i.setAttribute("scope","col"),this.styleHeaderCell(i),n.appendChild(i);for(let r=0;r<this.options.fields.length;r++){let a=this.options.fields[r],d=document.createElement("th");d.setAttribute("role","columnheader"),d.setAttribute("aria-colindex",String(r+2)),d.setAttribute("scope","col");let c=this.options.sortConfig?.fieldId===a.id;if(c){let h=this.options.sortConfig?.direction==="ASC"?"ascending":"descending";d.setAttribute("aria-sort",h)}let l=document.createElement("div");l.style.display="flex",l.style.alignItems="center",l.style.justifyContent="space-between",l.style.width="100%",l.style.gap="4px";let p=document.createElement("span"),y=a.name||a.id||"";p.textContent=y,p.style.flex="1",p.style.overflow="hidden",p.style.textOverflow="ellipsis",p.style.whiteSpace="nowrap";let x=a.name?.toLowerCase()===this.options.groupingFieldName?.toLowerCase(),C=this.options.activeSlice&&this.options.activeSlice.fieldId===a.id||this.options.activeSlicePanelFieldId&&String(this.options.activeSlicePanelFieldId)===String(a.id),b=document.createElement("span");if(b.style.display="flex",b.style.alignItems="center",b.style.gap="6px",c){let h=document.createElement("span");h.className="column-sort-icon";let g=this.options.sortConfig?.direction==="ASC"?"sort-asc":"sort-desc";h.innerHTML=this.getIconSvg(g),h.style.display="inline-flex",h.style.alignItems="center",h.style.color="var(--vscode-foreground)",h.style.opacity="0.85",h.title=this.options.sortConfig?.direction==="ASC"?"Sorted ascending":"Sorted descending",b.appendChild(h)}if(x){let h=document.createElement("span");h.className="column-group-icon",h.innerHTML=this.getIconSvg("rows"),h.style.display="inline-flex",h.style.alignItems="center",h.style.color="var(--vscode-foreground)",h.style.opacity="0.85",h.title="Grouped by this field (click to clear)",h.style.cursor="pointer",h.addEventListener("click",g=>{g.stopPropagation(),this.options.onClearGroup(a)}),b.appendChild(h)}if(C){let h=document.createElement("span");h.className="column-slice-icon",h.innerHTML=this.getIconSvg("sliceby"),h.style.display="inline-flex",h.style.alignItems="center",h.style.color="var(--vscode-foreground)",h.style.opacity="0.85",h.title="Sliced by this field (click to clear)",h.style.cursor="pointer",h.addEventListener("click",g=>{g.stopPropagation(),this.options.onClearSlice(a)}),b.appendChild(h)}let m=document.createElement("button");m.textContent="\u22EE",m.style.background="transparent",m.style.border="none",m.style.cursor="pointer",m.style.fontSize="16px",m.style.padding="2px 4px",m.style.color="var(--vscode-foreground)",m.style.opacity="0.6",m.style.borderRadius="3px",m.title=`${a.name} options`,m.addEventListener("mouseenter",()=>{m.style.opacity="1",m.style.background="var(--vscode-toolbar-hoverBackground)"}),m.addEventListener("mouseleave",()=>{m.style.opacity="0.6",m.style.background="transparent"}),m.addEventListener("click",h=>{h.stopPropagation(),d.style.background="var(--vscode-sideBar-background)",this.options.onHeaderMenu(h,a,d)}),l.appendChild(p),(c||x||C)&&l.appendChild(b),l.appendChild(m),d.appendChild(l),d.addEventListener("pointerenter",()=>{d.style.background="var(--vscode-list-hoverBackground)"}),d.addEventListener("pointerleave",()=>{d.style.background="var(--vscode-sideBar-background)"}),this.styleHeaderCell(d),n.appendChild(d)}let s=document.createElement("th"),o=document.createElement("button");o.textContent="+",o.style.background="transparent",o.style.border="none",o.style.cursor="pointer",o.style.fontSize="18px",o.style.fontWeight="bold",o.style.color="var(--vscode-foreground)",o.style.width="100%",o.style.height="100%",o.title="Show hidden fields",o.addEventListener("click",()=>this.options.onShowFieldsMenu(o)),s.appendChild(o),this.styleHeaderCell(s),s.style.textAlign="center",s.style.width="50px",n.appendChild(s),e.appendChild(n),t.appendChild(e)}styleHeaderCell(t){t.style.padding="8px",t.style.textAlign="left",t.style.whiteSpace="nowrap",t.style.overflow="hidden",t.style.textOverflow="ellipsis",t.style.borderRight="1px solid var(--vscode-panel-border)",t.style.borderBottom="1px solid var(--vscode-panel-border)",t.style.position="sticky",t.style.top="0",t.style.zIndex="11",t.style.background="var(--vscode-sideBar-background)",t.style.height="32px",t.style.boxSizing="border-box"}};$e();function L(u){return u?String(u).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):""}function O(u){if(!u)return null;let t=String(u).trim();if(/^#?[0-9a-f]{3}$/i.test(t)||/^#?[0-9a-f]{6}$/i.test(t)||/^#?[0-9a-f]{8}$/i.test(t)){let i=t[0]==="#"?t.slice(1):t;return"#"+(i.length===8?i.substring(0,6):i)}let e={GRAY:"#848d97",RED:"#f85149",ORANGE:"#db6d28",YELLOW:"#d29922",GREEN:"#3fb950",BLUE:"#2f81f7",PURPLE:"#a371f7",PINK:"#db61a2",BLACK:"#000000",WHITE:"#ffffff"},n=t.toUpperCase();return e[n]||null}function U(u,t){if(!u)return null;let e=u.replace("#",""),n=i=>parseInt(i,16);if(e.length===3){let i=n(e[0]+e[0]),s=n(e[1]+e[1]),o=n(e[2]+e[2]);return"rgba("+i+","+s+","+o+","+t+")"}if(e.length===6||e.length===8){let i=e.length===8?e.substring(0,6):e,s=n(e.substring(0,2)),o=n(i.substring(2,4)),r=n(i.substring(4,6));return"rgba("+s+","+o+","+r+","+t+")"}return null}function We(u){if(!u)return"#333333";let t=u.replace("#",""),e=o=>parseInt(o,16),n,i,s;if(t.length===3)n=e(t[0]+t[0]),i=e(t[1]+t[1]),s=e(t[2]+t[2]);else if(t.length===6||t.length===8){let o=t.length===8?t.substring(0,6):t;n=e(o.substring(0,2)),i=e(o.substring(2,4)),s=e(o.substring(4,6))}else return"#333333";return .2126*(n/255)+.7152*(i/255)+.0722*(s/255)>.6?"#111111":"#ffffff"}var oe=class{constructor(t,e,n,i){this.panelElement=null;this.container=t,this.field=e,this.items=n,this.allFields=i||[]}render(){this.close(),this.panelElement=document.createElement("div"),this.panelElement.className="slice-panel",this.panelElement.style.position="relative",this.panelElement.style.float="left";try{let y=localStorage.getItem("ghProjects.slicePanel.width");y?this.panelElement.style.width=y:this.panelElement.style.width="280px"}catch{this.panelElement.style.width="280px"}this.panelElement.style.marginRight="12px",this.panelElement.style.background="var(--vscode-sideBar-background)",this.panelElement.style.border="1px solid var(--vscode-sideBar-border)",this.panelElement.style.borderRadius="6px",this.panelElement.style.display="flex",this.panelElement.style.flexDirection="column",this.panelElement.style.overflow="hidden",this.panelElement.style.maxHeight="600px";let t=document.createElement("pre");t.className="slice-panel-debug-overlay",t.style.position="absolute",t.style.left="8px",t.style.bottom="8px",t.style.right="8px",t.style.maxHeight="120px",t.style.overflow="auto",t.style.background="rgba(0,0,0,0.6)",t.style.color="white",t.style.fontSize="11px",t.style.padding="8px",t.style.borderRadius="6px",t.style.zIndex="200",t.style.display="none",t.title="SlicePanel debug (click to show/hide)",t.addEventListener("click",()=>{t.style.display=t.style.display==="none"?"block":"none"}),this.panelElement.appendChild(t);let e=document.createElement("div");e.className="slice-panel-resizer",e.style.position="absolute",e.style.top="0",e.style.right="0",e.style.bottom="0",e.style.width="6px",e.style.cursor="col-resize",e.style.zIndex="100",this.panelElement.appendChild(e);let n=null,i=null,s=y=>{if(n==null||i==null)return;let x=y.pageX-n,C=Math.max(160,i+x);this.panelElement.style.width=C+"px"},o=()=>{if(n!=null){document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",o);try{localStorage.setItem("ghProjects.slicePanel.width",this.panelElement.style.width)}catch{}n=null,i=null}};e.addEventListener("mousedown",y=>{y.preventDefault(),n=y.pageX,i=this.panelElement?this.panelElement.offsetWidth:280,document.addEventListener("mousemove",s),document.addEventListener("mouseup",o)});let r=document.createElement("div");r.style.padding="12px",r.style.borderBottom="1px solid var(--vscode-sideBar-border)",r.style.display="flex",r.style.flexDirection="column",r.style.gap="8px";let a=document.createElement("div");a.style.display="flex",a.style.alignItems="center",a.style.gap="8px";let d=document.createElement("span");d.textContent="Slice by",d.style.fontSize="11px",d.style.fontWeight="600",d.style.color="var(--vscode-descriptionForeground)",d.style.textTransform="uppercase",d.style.letterSpacing="0.5px",a.appendChild(d);let c=document.createElement("button");c.textContent=this.field.name,c.style.flex="1",c.style.padding="6px 12px",c.style.background="var(--vscode-button-secondaryBackground)",c.style.color="var(--vscode-button-secondaryForeground)",c.style.border="1px solid var(--vscode-button-border)",c.style.borderRadius="4px",c.style.cursor="pointer",c.style.fontSize="13px",c.style.fontWeight="500",c.style.textAlign="left",c.style.display="flex",c.style.justifyContent="space-between",c.style.alignItems="center";let l=document.createElement("span");l.textContent="\u25BC",l.style.fontSize="10px",l.style.marginLeft="auto",c.appendChild(l),c.addEventListener("click",y=>{y.stopPropagation(),this.showFieldDropdown(c)}),a.appendChild(c),r.appendChild(a),this.panelElement.appendChild(r);let p=document.createElement("div");p.style.flex="1",p.style.overflow="auto",p.style.padding="8px",this.renderValues(p),this.panelElement.appendChild(p),this.container.appendChild(this.panelElement)}showFieldDropdown(t,e){let n=new Set(["assignees","single_select","parent_issue","iteration","number","date","milestone","repository","labels","text","single_line_text"]),i=this.allFields.filter(a=>{let d=(a.dataType||"").toLowerCase();return n.has(d)});if(i.length===0)return;let s=document.createElement("div");s.style.position="absolute";let o=e||t.getBoundingClientRect();e?(s.style.top=`${o.top}px`,s.style.left=`${o.right+4}px`):(s.style.top=`${o.bottom+4}px`,s.style.left=`${o.left}px`),s.style.minWidth=`${t.offsetWidth}px`,s.style.background="var(--vscode-dropdown-background)",s.style.border="1px solid var(--vscode-dropdown-border)",s.style.borderRadius="4px",s.style.boxShadow="0 4px 8px rgba(0,0,0,0.2)",s.style.zIndex="1000",s.style.maxHeight="300px",s.style.overflowY="auto",i.forEach(a=>{let d=document.createElement("div");d.style.display="flex",d.style.alignItems="center";let c=document.createElement("span");c.style.display="inline-block",c.style.width="14px",c.style.marginRight="8px",c.style.textAlign="center",c.textContent=a.id===this.field.id?"\u2713":"",c.style.color="var(--vscode-menu-selectionForeground)",d.appendChild(c);let l=document.createElement("span");l.style.display="inline-flex",l.style.alignItems="center",l.style.justifyContent="center",l.style.width="18px",l.style.marginRight="8px",l.innerHTML=this.getIconForDataType((a.dataType||"").toString().toLowerCase()),d.appendChild(l);let p=document.createElement("span");p.textContent=a.name,d.appendChild(p),d.style.padding="8px 12px",d.style.cursor="pointer",d.style.fontSize="13px",d.style.color="var(--vscode-dropdown-foreground)",a.id===this.field.id&&(d.style.background="var(--vscode-list-activeSelectionBackground)",d.style.color="var(--vscode-list-activeSelectionForeground)"),d.addEventListener("mouseenter",()=>{a.id!==this.field.id&&(d.style.background="var(--vscode-list-hoverBackground)")}),d.addEventListener("mouseleave",()=>{a.id!==this.field.id&&(d.style.background="transparent")}),d.addEventListener("click",()=>{this.field=a;let y=s.querySelectorAll("div");i.forEach((x,C)=>{let b=y[C];if(!b)return;let m=b.querySelector("span:first-child");x.id===this.field.id?(m.textContent="\u2713",b.style.background="var(--vscode-list-activeSelectionBackground)",b.style.color="var(--vscode-list-activeSelectionForeground)"):(m.textContent="",b.style.background="transparent",b.style.color="var(--vscode-dropdown-foreground)")}),this.render(),this.onFieldChangeCallback&&this.onFieldChangeCallback(a);try{window.__sliceMenuRefresh&&window.__sliceMenuRefresh()}catch{}}),s.appendChild(d)});let r=document.createElement("div");r.style.position="fixed",r.style.top="0",r.style.left="0",r.style.right="0",r.style.bottom="0",r.style.zIndex="999",r.addEventListener("click",()=>{s.remove(),r.remove()}),document.body.appendChild(r),document.body.appendChild(s)}openFieldDropdown(t){try{if(!this.panelElement)return;let e=this.panelElement.querySelector("button");if(!e)return;this.showFieldDropdown(e,t)}catch{}}getIconForDataType(t){if(typeof window.getIconNameForDataType=="function"&&typeof window.getIconSvg=="function"){let e=window.getIconNameForDataType(t);return window.getIconSvg(e)}return"<span></span>"}renderValues(t){let e=this.getValueCounts();if(e.size===0){let s=document.createElement("div");s.textContent="No values",s.style.padding="8px",s.style.color="var(--vscode-descriptionForeground)",t.appendChild(s);return}let n=Array.from(e.entries()).sort((s,o)=>o[1].count-s[1].count),i=s=>{let o={resolved:null,statusColor:null,number:null,title:null,done:0,total:0,pct:0};if(!s)return o;let r=[];s.number&&r.push(String(s.number)),s.id&&r.push(String(s.id)),s.url&&r.push(String(s.url)),s.title&&r.push(String(s.title));let a=this.items.find(c=>{let l=c&&(c.content||c.raw&&c.raw.itemContent)||null;if(!l)return!1;let p=[];l.number&&p.push(String(l.number)),l.id&&p.push(String(l.id)),l.url&&p.push(String(l.url)),l.title&&p.push(String(l.title)),l.name&&p.push(String(l.name)),l.raw&&l.raw.number&&p.push(String(l.raw.number)),l.raw&&l.raw.id&&p.push(String(l.raw.id)),l.raw&&l.raw.url&&p.push(String(l.raw.url));for(let y of r)for(let x of p)if(y&&x&&String(y)===String(x))return!0;return!1});if(!a)return o;o.resolved=a;let d=a.content||a.raw&&a.raw.itemContent||null;if(o.title=d&&(d.title||d.name)?d.title||d.name:a.title||a.name||null,o.number=d&&d.number?String(d.number):a.number||a.id||null,Array.isArray(a.fieldValues)){let c=a.fieldValues.find(p=>p&&p.type==="single_select"&&p.option&&p.option.name);if(c&&c.option)try{let p=c.option.color||c.option.id||c.option.name||null;o.statusColor=O(p)||null}catch{}let l=a.fieldValues.find(p=>p&&(p.type==="sub_issues_progress"||p.total!=null&&p.done!=null));l&&l.total!=null&&(o.total=Number(l.total||0),o.done=Number(l.done||0),o.pct=o.total>0?Math.round(o.done/o.total*100):0)}return o};n.forEach(([s,{value:o,count:r,rawValue:a}])=>{let d=document.createElement("div");d.className="slice-value-item",d.style.padding="10px 12px",d.style.cursor="pointer",d.style.borderRadius="4px",d.style.marginBottom="4px",d.style.display="flex",d.style.alignItems="center",d.style.gap="8px",d.style.transition="background-color 0.15s ease";let c=(this.field.dataType||"").toLowerCase(),l=null;c==="parent_issue"&&a&&(l=a.parent||a.parentIssue||a.issue||a.item||a.value||a);let p=document.createElement("div");p.style.display="flex",p.style.alignItems="center",p.style.gap="8px",p.style.flex="0 0 auto";let y=h=>{let g=document.createElement("span");return g.style.display="inline-block",g.style.width="12px",g.style.height="12px",g.style.borderRadius="50%",g.style.flexShrink="0",g.style.backgroundColor=h||"var(--vscode-descriptionForeground)",g},x=!1;if(c==="assignees"&&a){let h=a,g=h&&(h.avatarUrl||h.avatar||h.imageUrl||h.avatar_url);if(g){let v=document.createElement("span");v.innerHTML='<span title="'+L(h.login||h.name||h.id||"")+'" style="display:inline-block;width:20px;height:20px;border-radius:50%;overflow:hidden;background-size:cover;background-position:center;background-image:url('+L(g)+');border:2px solid var(--vscode-editor-background)"></span>',p.appendChild(v),x=!0}else p.appendChild(y(null)),x=!0}if(!x&&c==="repository"){let h=document.createElement("span");h.innerHTML='<svg width="14" height="14" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" style="flex-shrink:0;color:var(--vscode-icon-foreground)"><path fill="currentColor" d="M2 2.5A1.5 1.5 0 0 1 3.5 1h9A1.5 1.5 0 0 1 14 2.5v11A1.5 1.5 0 0 1 12.5 15h-9A1.5 1.5 0 0 1 2 13.5v-11zM3.5 2A.5.5 0 0 0 3 2.5V4h10V2.5a.5.5 0 0 0-.5-.5h-9z"/></svg>',p.appendChild(h),x=!0}if(!x&&c==="parent_issue"){let h=l?i(l):null,g=h&&h.statusColor?h.statusColor:null;if(!g&&l&&(g=O(l.color||l.option&&l.option.color||l.statusColor||l.status?.color)||null),l&&(l.title||l.name||l.number||h&&(h.title||h.number))){let v=y(g);p.appendChild(v),x=!0}}if(!x&&c==="labels"&&a){let h=a,g=h&&(h.color||h.colorName||h.hex||h.name),v=O(g);p.appendChild(y(v)),x=!0}if(!x){let h=null;if(c==="single_select"&&a&&a.option&&(h=a.option.color||a.option.name||a.option.id),!h&&a&&(a.color||a.colorName)&&(h=a.color||a.colorName),!h&&Array.isArray(this.field.options))try{let v=(this.field.options||[]).find(S=>String(S.name)===String(s)||String(S.id)===String(a&&(a.optionId||a.option&&a.option.id)));v&&(h=v.color||v.name||v.id)}catch{}if(!h&&this.field&&this.field.configuration&&Array.isArray(this.field.configuration.iterations))try{let v=(this.field.configuration.iterations||[]).find(S=>String(S.title)===String(s)||String(S.id)===String(a&&(a.iterationId||a.iteration&&a.iteration.id)));v&&(h=v.color||v.name||v.title||v.id)}catch{}let g=O(h);p.appendChild(y(g))}d.appendChild(p);let C=document.createElement("div");C.style.flex="1",C.style.display="flex",C.style.flexDirection="column",C.style.minWidth="0";let b=null;if(c!=="parent_issue"&&(b=document.createElement("span"),b.textContent=s,b.style.fontSize="13px",b.style.fontWeight="500",b.style.whiteSpace="normal",b.style.wordBreak="break-word",b.style.overflow="hidden",C.appendChild(b)),c==="single_select"){let h=null;try{if(a&&a.option&&a.option.description)h=a.option.description;else if(Array.isArray(this.field.options)){let g=(this.field.options||[]).find(v=>String(v.name)===String(s)||String(v.id)===String(a&&(a.optionId||a.option&&a.option.id)));g&&g.description&&(h=g.description)}}catch{}if(h){let g=document.createElement("span");g.textContent=h,g.style.fontSize="11px",g.style.color="var(--vscode-descriptionForeground)",g.style.whiteSpace="normal",g.style.wordBreak="break-word",g.style.overflow="hidden",g.style.maxHeight="3.6em",C.appendChild(g)}}if(c==="parent_issue"&&a){let h=l||a.parent||a.parentIssue||a.issue||a.item||a.value||null,g=i(h),v=g.title||h&&(h.title||h.name)||s,S=document.createElement("div");S.style.display="flex",S.style.gap="8px",S.style.alignItems="baseline";let E=document.createElement("span"),M=String(v).slice(0,120);if(E.textContent=g.number?`${M} #${String(g.number)}`:M,E.style.fontSize="13px",E.style.fontWeight="600",E.style.whiteSpace="normal",E.style.wordBreak="break-word",S.appendChild(E),C.appendChild(S),g.total&&g.total>0){let f=document.createElement("div");f.style.display="flex",f.style.alignItems="center",f.style.gap="8px",f.style.marginTop="6px";let A=document.createElement("div");A.textContent=`${g.done}/${g.total}`,A.style.color="var(--vscode-descriptionForeground)",A.style.fontSize="12px",A.style.fontVariantNumeric="tabular-nums",f.appendChild(A);let T=document.createElement("div");T.style.display="inline-block",T.style.width="120px",T.style.height="10px",T.style.background="transparent",T.style.border="1px solid var(--vscode-focusBorder)",T.style.borderRadius="6px",T.style.overflow="hidden";let H=document.createElement("div");H.style.height="100%",H.style.width=String(g.pct)+"%",H.style.background="var(--vscode-focusBorder)",T.appendChild(H),f.appendChild(T),C.appendChild(f)}}if(c==="iteration")try{let h=a&&(a.iteration||a.configuration||a)||null,g=null;if(h&&h.startDate&&(h.duration||h.length))g=h;else if(this.field&&this.field.configuration&&Array.isArray(this.field.configuration.iterations)){let v=(this.field.configuration.iterations||[]).find(S=>String(S.title||S.name)===String(s)||String(S.id)===String(a&&(a.iterationId||a.iteration&&a.iteration.id)));v&&(g=v)}if(g){let v=g.startDate||g.start,S=g.duration||g.length||g.days;if(v&&S){let E=new Date(v),M=new Date(E.getTime()+Number(S||0)*24*60*60*1e3),f=E.toLocaleDateString("en-US",{month:"short",day:"numeric"}),A=M.toLocaleDateString("en-US",{month:"short",day:"numeric"}),T=document.createElement("div");T.textContent=`${f} \u2014 ${A}`,T.style.fontSize="11px",T.style.color="var(--vscode-descriptionForeground)",T.style.marginTop="4px",C.appendChild(T)}}}catch{}d.appendChild(C);let m=document.createElement("span");m.style.display="inline-flex",m.style.alignItems="center",m.style.justifyContent="center",m.style.minWidth="24px",m.style.height="24px",m.style.borderRadius="50%",m.style.background="var(--vscode-input-background)",m.style.border="1px solid var(--vscode-panel-border)",m.style.color="var(--vscode-foreground)",m.style.fontSize="12px",m.style.fontWeight="600",m.style.padding="0 6px",m.style.boxSizing="border-box",m.textContent=String(r),d.appendChild(m),d.addEventListener("mouseenter",()=>{d.style.background="var(--vscode-list-hoverBackground)"}),d.addEventListener("mouseleave",()=>{d.style.background="transparent"}),d.addEventListener("click",()=>{this.onValueSelectCallback&&this.onValueSelectCallback(o)}),t.appendChild(d)})}getValueCounts(){let t=new Map,e=(this.field.dataType||"").toLowerCase();return this.items.forEach(n=>{let i=n.fieldValues?.find(d=>d.fieldId===this.field.id||d.fieldName===this.field.name);if(!i){let d="(empty)",c=t.get(d);c?c.count++:t.set(d,{value:null,count:1,rawValue:null});return}if(e==="labels"){let d=i.labels&&Array.isArray(i.labels.nodes)?i.labels.nodes:Array.isArray(i.labels)?i.labels:null;if(Array.isArray(d)&&d.length>0){d.forEach(c=>{let l=c&&(c.name||c.title)?String(c.name||c.title):"(empty)",p=this.formatValue(l),y=t.get(p);y?y.count++:t.set(p,{value:l,count:1,rawValue:c})});return}}if(e==="assignees"){let d=i.assignees||(i.assignee?[i.assignee]:null);if(Array.isArray(d)&&d.length>0){d.forEach(c=>{let l=String(c.login||c.name||c.id||"(unknown)"),p=this.formatValue(l),y=t.get(p);y?y.count++:t.set(p,{value:c,count:1,rawValue:c})});return}}let s=null,o=null;try{if(e==="single_select")s=i.option?.name||i.name||i.value,o=i;else if(e==="iteration")s=i.iteration?.title||i.title||i.value,o=i;else if(e==="parent_issue"){let d=i.parent||i.parentIssue||i.issue||i.item||i.value||null;d&&(s=d.title||d.name||d.number||d.id||d.url||null),o=d||i}else e==="milestone"?(s=i.milestone?.title||i.milestone?.name||i.value||null,o=i.milestone||i):e==="repository"?(s=i.repository?.nameWithOwner||i.repository?.full_name||i.repository?.name||i.value||null,o=i.repository||i):e==="number"?(s=i.number!=null?i.number:i.value,o=i):e==="date"?(s=i.date||i.value||null,o=i):(s=i.text||i.title||i.value||null,o=i)}catch{s=i.text||i.title||i.value||null,o=i}let r=s==null||s===""?"(empty)":this.formatValue(s),a=t.get(r);a?a.count++:t.set(r,{value:s,count:1,rawValue:o})}),t}extractValue(t){let e=(this.field.dataType||"").toLowerCase();return t?e==="single_select"?t.option?.name||t.name||t.value:e==="iteration"?t.iteration?.title||t.title||t.value:e==="assignees"?t.assignees||t.assignee||null:e==="labels"?t.labels||null:e==="parent_issue"?t.parent||t.parentIssue||t.issue||t.item||t.value||null:e==="milestone"?t.milestone||t.value||null:e==="repository"?t.repository||t.value||null:e==="number"?t.number!=null?t.number:t.value:e==="date"?t.date||t.value||null:t.text||t.title||t.value||null:null}formatValue(t){return t==null?"(empty)":String(t)}onValueSelect(t){this.onValueSelectCallback=t}onFieldChange(t){this.onFieldChangeCallback=t}close(){this.panelElement&&(this.panelElement.remove(),this.panelElement=null)}};function Ve(u){if(!u||!u.nodes||u.nodes.length===0)return null;let t=u.nodes[0];if(!t||!t.field)return null;let e={fieldId:t.field.id||t.field.name,direction:t.direction||"ASC"};if(u.nodes.length>1){let n=u.nodes[1];n&&n.field&&(e.secondary={fieldId:n.field.id||n.field.name,direction:n.direction||"ASC"})}return e}function ae(u,t,e){if(!e||u.length===0)return u;let n=t.find(s=>s.id===e.fieldId||s.name===e.fieldId);if(!n)return u;let i=[...u];return i.sort((s,o)=>{let r=rt(s,o,n,e.direction);if(r===0&&e.secondary){let a=t.find(d=>d.id===e.secondary.fieldId||d.name===e.secondary.fieldId);if(a)return rt(s,o,a,e.secondary.direction)}return r}),i}function rt(u,t,e,n){let i=ot(u,e),s=ot(t,e);if(i===null&&s===null)return 0;if(i===null)return n==="ASC"?1:-1;if(s===null)return n==="ASC"?-1:1;let o=0;switch((e.dataType||"").toLowerCase()){case"text":case"title":o=Y(i,s);break;case"number":o=lt(i,s);break;case"date":o=dt(i,s);break;case"single_select":o=bt(i,s,e);break;case"iteration":o=Et(i,s);break;case"labels":o=xt(i,s);break;case"assignees":case"repository":case"milestone":case"issue_type":case"parent_issue":case"tracked_by":case"tracks":case"reviewers":o=Y(i,s);break;case"linked_pull_requests":case"sub_issues_progress":o=lt(i,s);break;default:o=0}return n==="ASC"?o:-o}function ot(u,t){let e=u.fieldValues?.find(i=>i.fieldId===t.id||i.fieldName===t.name);if(!e)return null;switch((t.dataType||"").toLowerCase()){case"text":return e.text!=null?e.text:at(e,u);case"title":return at(e,u);case"number":return e.number!==void 0?e.number:null;case"date":return e.date||e.startDate||e.dueOn||null;case"single_select":return e.option||e;case"iteration":return e;case"labels":return e.labels||[];case"assignees":{let i=e.assignees;if(Array.isArray(i)&&i.length>0){let s=i[0];return s.login||s.name||null}return null}case"repository":{let i=e.repository;return i&&(i.nameWithOwner||i.name||i.full_name||i.id)||null}case"milestone":{let i=e.milestone;return i&&(i.dueOn||i.title||i.name)||null}case"issue_type":return e.text?e.text:e.option&&(e.option.name||e.option.title)||null;case"parent_issue":{let i=e.parent;return i?i.title?i.title:typeof i.number=="number"?String(i.number):i.id||null:null}case"linked_pull_requests":{let i=e.pullRequests;if(Array.isArray(i)&&i.length>0){let s=i[0];return typeof s.number=="number"?s.number:s.title||null}return null}case"reviewers":{let i=e.reviewers;if(Array.isArray(i)&&i.length>0){let s=i[0];return s.login||s.name||s.id||null}return null}case"sub_issues_progress":return typeof e.percent=="number"?e.percent:typeof e.done=="number"&&typeof e.total=="number"&&e.total>0?e.done/e.total*100:null;case"tracked_by":case"tracks":{let i=e.issues;if(Array.isArray(i)&&i.length>0){let s=i[0];return s.title?s.title:typeof s.number=="number"?String(s.number):s.id||null}return null}default:return e}}function at(u,t){if(!u)return null;let e=u.title&&u.title.raw||u.raw||null;if(e&&typeof e.text=="string"&&e.text.trim())return e.text;let n=u.title&&u.title.content||u.content||e&&e.itemContent||t&&t.content||null;if(n){if(typeof n=="string"&&n.trim())return n;if(typeof n.title=="string"&&n.title.trim())return n.title;if(typeof n.name=="string"&&n.name.trim())return n.name}return typeof u.text=="string"&&u.text.trim()?u.text:e&&typeof e.title=="string"&&e.title.trim()?e.title:null}function Y(u,t){let e=String(u||"").toLowerCase(),n=String(t||"").toLowerCase();return e.localeCompare(n)}function lt(u,t){let e=typeof u=="number"?u:parseFloat(u),n=typeof t=="number"?t:parseFloat(t);return isNaN(e)&&isNaN(n)?0:isNaN(e)?1:isNaN(n)?-1:e-n}function dt(u,t){let e=new Date(u),n=new Date(t);return isNaN(e.getTime())&&isNaN(n.getTime())?0:isNaN(e.getTime())?1:isNaN(n.getTime())?-1:e.getTime()-n.getTime()}function bt(u,t,e){let n=u.option||u,i=t.option||t;if(!n||!i)return Y(n?.name||"",i?.name||"");if(e.options&&Array.isArray(e.options)){let s=e.options.findIndex(r=>r.id===n.id||r.name===n.name),o=e.options.findIndex(r=>r.id===i.id||r.name===i.name);if(s!==-1&&o!==-1)return s-o}return Y(n.name,i.name)}function Et(u,t){let e=u.startDate||u.iteration?.startDate,n=t.startDate||t.iteration?.startDate;return!e&&!n?Y(u.title||u.iteration?.title,t.title||t.iteration?.title):dt(e,n)}function xt(u,t){let e=Array.isArray(u)?u:[],n=Array.isArray(t)?t:[];return e.length===0&&n.length===0?0:e.length===0?1:n.length===0?-1:Y(e[0].name,n[0].name)}je();var wt={table:{path:"M0 1.75C0 .784.784 0 1.75 0h12.5C15.216 0 16 .784 16 1.75v12.5A1.75 1.75 0 0 1 14.25 16H1.75A1.75 1.75 0 0 1 0 14.25ZM6.5 6.5v8h7.75a.25.25 0 0 0 .25-.25V6.5Zm8-1.5V1.75a.25.25 0 0 0-.25-.25H6.5V5Zm-13 1.5v7.75c0 .138.112.25.25.25H5v-8ZM5 5V1.5H1.75a.25.25 0 0 0-.25.25V5Z"},project:{path:"M1.75 0h12.5C15.216 0 16 .784 16 1.75v12.5A1.75 1.75 0 0 1 14.25 16H1.75A1.75 1.75 0 0 1 0 14.25V1.75C0 .784.784 0 1.75 0ZM1.5 1.75v12.5c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25V1.75a.25.25 0 0 0-.25-.25H1.75a.25.25 0 0 0-.25.25ZM11.75 3a.75.75 0 0 1 .75.75v7.5a.75.75 0 0 1-1.5 0v-7.5a.75.75 0 0 1 .75-.75Zm-8.25.75a.75.75 0 0 1 1.5 0v5.5a.75.75 0 0 1-1.5 0ZM8 3a.75.75 0 0 1 .75.75v3.5a.75.75 0 0 1-1.5 0v-3.5A.75.75 0 0 1 8 3Z"},board:{path:"M1.75 0h12.5C15.216 0 16 .784 16 1.75v12.5A1.75 1.75 0 0 1 14.25 16H1.75A1.75 1.75 0 0 1 0 14.25V1.75C0 .784.784 0 1.75 0ZM1.5 1.75v12.5c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25V1.75a.25.25 0 0 0-.25-.25H1.75a.25.25 0 0 0-.25.25ZM11.75 3a.75.75 0 0 1 .75.75v7.5a.75.75 0 0 1-1.5 0v-7.5a.75.75 0 0 1 .75-.75Zm-8.25.75a.75.75 0 0 1 1.5 0v5.5a.75.75 0 0 1-1.5 0ZM8 3a.75.75 0 0 1 .75.75v3.5a.75.75 0 0 1-1.5 0v-3.5A.75.75 0 0 1 8 3Z"},roadmap:{path:'<path d="M4.75 7a.75.75 0 0 0 0 1.5h4.5a.75.75 0 0 0 0-1.5h-4.5ZM5 4.75A.75.75 0 0 1 5.75 4h5.5a.75.75 0 0 1 0 1.5h-5.5A.75.75 0 0 1 5 4.75ZM6.75 10a.75.75 0 0 0 0 1.5h4.5a.75.75 0 0 0 0-1.5h-4.5Z" /><path d="M0 1.75C0 .784.784 0 1.75 0h12.5C15.216 0 16 .784 16 1.75v12.5A1.75 1.75 0 0 1 14.25 16H1.75A1.75 1.75 0 0 1 0 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25V1.75a.25.25 0 0 0-.25-.25Z" />',isInnerHTML:!0},list:{path:"M5.75 2.5h8.5a.75.75 0 0 1 0 1.5h-8.5a.75.75 0 0 1 0-1.5Zm0 5h8.5a.75.75 0 0 1 0 1.5h-8.5a.75.75 0 0 1 0-1.5Zm0 5h8.5a.75.75 0 0 1 0 1.5h-8.5a.75.75 0 0 1 0-1.5ZM2 14a1 1 0 1 1 0-2 1 1 0 0 1 0 2Zm1-6a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM2 4a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"},people:{path:"M2 5.5a3.5 3.5 0 1 1 5.898 2.549 5.508 5.508 0 0 1 3.034 4.084.75.75 0 1 1-1.482.235 4 4 0 0 0-7.9 0 .75.75 0 0 1-1.482-.236A5.507 5.507 0 0 1 3.102 8.05 3.493 3.493 0 0 1 2 5.5ZM11 4a3.001 3.001 0 0 1 2.22 5.018 5.01 5.01 0 0 1 2.56 3.012.749.749 0 0 1-.885.954.752.752 0 0 1-.549-.514 3.507 3.507 0 0 0-2.522-2.372.75.75 0 0 1-.574-.73v-.352a.75.75 0 0 1 .416-.672A1.5 1.5 0 0 0 11 5.5.75.75 0 0 1 11 4Zm-5.5-.5a2 2 0 1 0-.001 3.999A2 2 0 0 0 5.5 3.5Z"},tag:{path:'<path d="M1 7.775V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 0 1 0 2.474l-5.026 5.026a1.75 1.75 0 0 1-2.474 0l-6.25-6.25A1.752 1.752 0 0 1 1 7.775Zm1.5 0c0 .066.026.13.073.177l6.25 6.25a.25.25 0 0 0 .354 0l5.025-5.025a.25.25 0 0 0 0-.354l-6.25-6.25a.25.25 0 0 0-.177-.073H2.75a.25.25 0 0 0-.25.25"></path>',isInnerHTML:!0},"single-select":{path:'<path d="m5.06 7.356 2.795 2.833c.08.081.21.081.29 0l2.794-2.833c.13-.131.038-.356-.145-.356H5.206c-.183 0-.275.225-.145.356Z"></path><path d="M1 2.75C1 1.784 1.784 1 2.75 1h10.5c.966 0 1.75.784 1.75 1.75v10.5A1.75 1.75 0 0 1 13.25 15H2.75A1.75 1.75 0 0 1 1 13.25Zm1.75-.25a.25.25 0 0 0-.25.25v10.5c0 .138.112.25.25.25h10.5a.25.25 0 0 0 .25-.25V2.75a.25.25 0 0 0-.25-.25Z"></path>',isInnerHTML:!0},"issue-tracks":{path:'<path d="M1.5 8a6.5 6.5 0 0 1 13 0A.75.75 0 0 0 16 8a8 8 0 1 0-8 8 .75.75 0 0 0 0-1.5A6.5 6.5 0 0 1 1.5 8Z"></path><path d="M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm3.573 5.823-2.896-2.896a.25.25 0 0 1 0-.354l2.896-2.896a.25.25 0 0 1 .427.177V11.5h3.25a.75.75 0 0 1 0 1.5H12v2.146a.25.25 0 0 1-.427.177Z"></path>',isInnerHTML:!0},"issue-tracked-by":{path:'<path d="M1.5 8a6.5 6.5 0 0 1 13 0A.75.75 0 0 0 16 8a8 8 0 1 0-8 8 .75.75 0 0 0 0-1.5A6.5 6.5 0 0 1 1.5 8Z"></path><path d="M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm1.5 1.75a.75.75 0 0 1 .75-.75h5a.75.75 0 0 1 0 1.5h-5a.75.75 0 0 1-.75-.75Zm2.75 2.25a.75.75 0 0 0 0 1.5h3a.75.75 0 0 0 0-1.5h-3Z"></path>',isInnerHTML:!0},iterations:{path:"M2.5 7.25a4.75 4.75 0 0 1 9.5 0 .75.75 0 0 0 1.5 0 6.25 6.25 0 1 0-6.25 6.25H12v2.146c0 .223.27.335.427.177l2.896-2.896a.25.25 0 0 0 0-.354l-2.896-2.896a.25.25 0 0 0-.427.177V12H7.25A4.75 4.75 0 0 1 2.5 7.25Z"},number:{path:"M9 4.75A.75.75 0 0 1 9.75 4h4a.75.75 0 0 1 .53 1.28l-1.89 1.892c.312.076.604.18.867.319.742.391 1.244 1.063 1.244 2.005 0 .653-.231 1.208-.629 1.627-.386.408-.894.653-1.408.777-1.01.243-2.225.063-3.124-.527a.751.751 0 0 1 .822-1.254c.534.35 1.32.474 1.951.322.306-.073.53-.201.67-.349.129-.136.218-.32.218-.596 0-.308-.123-.509-.444-.678-.373-.197-.98-.318-1.806-.318a.75.75 0 0 1-.53-1.28l1.72-1.72H9.75A.75.75 0 0 1 9 4.75Zm-3.587 5.763c-.35-.05-.77.113-.983.572a.75.75 0 1 1-1.36-.632c.508-1.094 1.589-1.565 2.558-1.425 1 .145 1.872.945 1.872 2.222 0 1.433-1.088 2.192-1.79 2.681-.308.216-.571.397-.772.573H7a.75.75 0 0 1 0 1.5H3.75a.75.75 0 0 1-.75-.75c0-.69.3-1.211.67-1.61.348-.372.8-.676 1.15-.92.8-.56 1.18-.904 1.18-1.474 0-.473-.267-.69-.587-.737ZM5.604.089A.75.75 0 0 1 6 .75v4.77h.711a.75.75 0 0 1 0 1.5H3.759a.75.75 0 0 1 0-1.5H4.5V2.15l-.334.223a.75.75 0 0 1-.832-1.248l1.5-1a.75.75 0 0 1 .77-.037Z"},calendar:{path:"M4.75 0a.75.75 0 0 1 .75.75V2h5V.75a.75.75 0 0 1 1.5 0V2h1.25c.966 0 1.75.784 1.75 1.75v10.5A1.75 1.75 0 0 1 13.25 16H2.75A1.75 1.75 0 0 1 1 14.25V3.75C1 2.784 1.784 2 2.75 2H4V.75A.75.75 0 0 1 4.75 0ZM2.5 7.5v6.75c0 .138.112.25.25.25h10.5a.25.25 0 0 0 .25-.25V7.5Zm10.75-4H2.75a.25.25 0 0 0-.25.25V6h11V3.75a.25.25 0 0 0-.25-.25Z"},"pull-request":{path:"M1.5 3.25a2.25 2.25 0 1 1 3 2.122v5.256a2.251 2.251 0 1 1-1.5 0V5.372A2.25 2.25 0 0 1 1.5 3.25Zm5.677-.177L9.573.677A.25.25 0 0 1 10 .854V2.5h1A2.5 2.5 0 0 1 13.5 5v5.628a2.251 2.251 0 1 1-1.5 0V5a1 1 0 0 0-1-1h-1v1.646a.25.25 0 0 1-.427.177L7.177 3.427a.25.25 0 0 1 0-.354ZM3.75 2.5a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Zm0 9.5a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Zm8.25.75a.75.75 0 1 0 1.5 0 .75.75 0 0 0-1.5 0Z"},milestone:{path:"M7.75 0a.75.75 0 0 1 .75.75V3h3.634c.414 0 .814.147 1.13.414l2.07 1.75a1.75 1.75 0 0 1 0 2.672l-2.07 1.75a1.75 1.75 0 0 1-1.13.414H8.5v5.25a.75.75 0 0 1-1.5 0V10H2.75A1.75 1.75 0 0 1 1 8.25v-3.5C1 3.784 1.784 3 2.75 3H7V.75A.75.75 0 0 1 7.75 0Zm4.384 8.5a.25.25 0 0 0 .161-.06l2.07-1.75a.248.248 0 0 0 0-.38l-2.07-1.75a.25.25 0 0 0-.161-.06H2.75a.25.25 0 0 0-.25.25v3.5c0 .138.112.25.25.25h9.384Z"},repo:{path:"M2 2.5A2.5 2.5 0 0 1 4.5 0h8.75a.75.75 0 0 1 .75.75v12.5a.75.75 0 0 1-.75.75h-2.5a.75.75 0 0 1 0-1.5h1.75v-2h-8a1 1 0 0 0-.714 1.7.75.75 0 1 1-1.072 1.05A2.495 2.495 0 0 1 2 11.5Zm10.5-1h-8a1 1 0 0 0-1 1v6.708A2.486 2.486 0 0 1 4.5 9h8ZM5 12.25a.25.25 0 0 1 .25-.25h3.5a.25.25 0 0 1 .25.25v3.25a.25.25 0 0 1-.4.2l-1.45-1.087a.249.249 0 0 0-.3 0L5.4 15.7a.25.25 0 0 1-.4-.2Z"},typography:{path:"M6.71 10H2.332l-.874 2.498a.75.75 0 0 1-1.415-.496l3.39-9.688a1.217 1.217 0 0 1 2.302.018l3.227 9.681a.75.75 0 0 1-1.423.474Zm3.13-4.358C10.53 4.374 11.87 4 13 4c1.5 0 3 .939 3 2.601v5.649a.75.75 0 0 1-1.448.275C13.995 12.82 13.3 13 12.5 13c-.77 0-1.514-.231-2.078-.709-.577-.488-.922-1.199-.922-2.041 0-.694.265-1.411.887-1.944C11 7.78 11.88 7.5 13 7.5h1.5v-.899c0-.54-.5-1.101-1.5-1.101-.869 0-1.528.282-1.84.858a.75.75 0 1 1-1.32-.716ZM6.21 8.5 4.574 3.594 2.857 8.5Zm8.29.5H13c-.881 0-1.375.22-1.637.444-.253.217-.363.5-.363.806 0 .408.155.697.39.896.249.21.63.354 1.11.354.732 0 1.26-.209 1.588-.449.35-.257.412-.495.412-.551Z"},"issue-opened":{path:'<path d="M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path><path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Z"></path>',isInnerHTML:!0},"issue-closed":{path:'<path d="M11.28 6.78a.75.75 0 0 0-1.06-1.06L7.25 8.69 5.78 7.22a.75.75 0 0 0-1.06 1.06l2 2a.75.75 0 0 0 1.06 0l3.5-3.5Z"></path><path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0Zm-1.5 0a6.5 6.5 0 1 0-13 0 6.5 6.5 0 0 0 13 0Z"></path>',isInnerHTML:!0},"issue-draft":{path:'<path d="M14.307 11.655a.75.75 0 0 1 .165 1.048 8.05 8.05 0 0 1-1.769 1.77.75.75 0 0 1-.883-1.214 6.552 6.552 0 0 0 1.44-1.439.75.75 0 0 1 1.047-.165Zm-2.652-9.962a.75.75 0 0 1 1.048-.165 8.05 8.05 0 0 1 1.77 1.769.75.75 0 0 1-1.214.883 6.552 6.552 0 0 0-1.439-1.44.75.75 0 0 1-.165-1.047ZM6.749.097a8.074 8.074 0 0 1 2.502 0 .75.75 0 1 1-.233 1.482 6.558 6.558 0 0 0-2.036 0A.751.751 0 0 1 6.749.097ZM.955 6.125a.75.75 0 0 1 .624.857 6.558 6.558 0 0 0 0 2.036.75.75 0 1 1-1.482.233 8.074 8.074 0 0 1 0-2.502.75.75 0 0 1 .858-.624Zm14.09 0a.75.75 0 0 1 .858.624c.13.829.13 1.673 0 2.502a.75.75 0 1 1-1.482-.233 6.558 6.558 0 0 0 0-2.036.75.75 0 0 1 .624-.857Zm-8.92 8.92a.75.75 0 0 1 .857-.624 6.558 6.558 0 0 0 2.036 0 .75.75 0 1 1 .233 1.482c-.829.13-1.673.13-2.502 0a.75.75 0 0 1-.624-.858Zm-4.432-3.39a.75.75 0 0 1 1.048.165 6.552 6.552 0 0 0 1.439 1.44.751.751 0 0 1-.883 1.212 8.05 8.05 0 0 1-1.77-1.769.75.75 0 0 1 .166-1.048Zm2.652-9.962A.75.75 0 0 1 4.18 2.74a6.556 6.556 0 0 0-1.44 1.44.751.751 0 0 1-1.212-.883 8.05 8.05 0 0 1 1.769-1.77.75.75 0 0 1 1.048.166Z"></path>',isInnerHTML:!0},"git-pull-request":{path:"M1.5 3.25a2.25 2.25 0 1 1 3 2.122v5.256a2.251 2.251 0 1 1-1.5 0V5.372A2.25 2.25 0 0 1 1.5 3.25Zm5.677-.177L9.573.677A.25.25 0 0 1 10 .854V2.5h1A2.5 2.5 0 0 1 13.5 5v5.628a2.251 2.251 0 1 1-1.5 0V5a1 1 0 0 0-1-1h-1v1.646a.25.25 0 0 1-.427.177L7.177 3.427a.25.25 0 0 1 0-.354ZM3.75 2.5a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Zm0 9.5a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Zm8.25.75a.75.75 0 1 0 1.5 0 .75.75 0 0 0-1.5 0Z"},"git-pull-request-closed":{path:"M3.25 1A2.25 2.25 0 0 1 4 5.372v5.256a2.251 2.251 0 1 1-1.5 0V5.372A2.251 2.251 0 0 1 3.25 1Zm9.5 5.5a.75.75 0 0 1 .75.75v3.378a2.251 2.251 0 1 1-1.5 0V7.25a.75.75 0 0 1 .75-.75Zm-2.03-5.273a.75.75 0 0 1 1.06 0l.97.97.97-.97a.748.748 0 0 1 1.265.332.75.75 0 0 1-.205.729l-.97.97.97.97a.751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018l-.97-.97-.97.97a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734l.97-.97-.97-.97a.75.75 0 0 1 0-1.06ZM2.5 3.25a.75.75 0 1 0 1.5 0 .75.75 0 0 0-1.5 0ZM3.25 12a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Zm9.5 0a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Z"},"git-pull-request-draft":{path:"M3.25 1A2.25 2.25 0 0 1 4 5.372v5.256a2.251 2.251 0 1 1-1.5 0V5.372A2.251 2.251 0 0 1 3.25 1Zm9.5 14a2.25 2.25 0 1 1 0-4.5 2.25 2.25 0 0 1 0 4.5ZM2.5 3.25a.75.75 0 1 0 1.5 0 .75.75 0 0 0-1.5 0ZM3.25 12a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Zm9.5 0a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5ZM14 7.5a1.25 1.25 0 1 1-2.5 0 1.25 1.25 0 0 1 2.5 0Zm0-4.25a1.25 1.25 0 1 1-2.5 0 1.25 1.25 0 0 1 2.5 0Z"},"git-merge":{path:"M5.45 5.154A4.25 4.25 0 0 0 9.25 7.5h1.378a2.251 2.251 0 1 1 0 1.5H9.25A5.734 5.734 0 0 1 5 7.123v3.505a2.25 2.25 0 1 1-1.5 0V5.372a2.25 2.25 0 1 1 1.95-.218ZM4.25 13.5a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm8.5-4.5a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM5 3.25a.75.75 0 1 0 0 .005V3.25Z"},blocked:{path:"M4.467.22a.749.749 0 0 1 .53-.22h6.006c.199 0 .389.079.53.22l4.247 4.247c.141.14.22.331.22.53v6.006a.749.749 0 0 1-.22.53l-4.247 4.247a.749.749 0 0 1-.53.22H4.997a.749.749 0 0 1-.53-.22L.22 11.533a.749.749 0 0 1-.22-.53V4.997c0-.199.079-.389.22-.53Zm.84 1.28L1.5 5.308v5.384L5.308 14.5h5.384l3.808-3.808V5.308L10.692 1.5ZM4 7.75A.75.75 0 0 1 4.75 7h6.5a.75.75 0 0 1 0 1.5h-6.5A.75.75 0 0 1 4 7.75Z"},"sort-asc":{path:"m12.927 2.573 3 3A.25.25 0 0 1 15.75 6H13.5v6.75a.75.75 0 0 1-1.5 0V6H9.75a.25.25 0 0 1-.177-.427l3-3a.25.25 0 0 1 .354 0ZM0 12.25a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5H.75a.75.75 0 0 1-.75-.75Zm0-4a.75.75 0 0 1 .75-.75h4.5a.75.75 0 0 1 0 1.5H.75A.75.75 0 0 1 0 8.25Zm0-4a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 1 0 1.5H.75A.75.75 0 0 1 0 4.25Z"},"sort-desc":{path:"M0 4.25a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5H.75A.75.75 0 0 1 0 4.25Zm0 4a.75.75 0 0 1 .75-.75h4.5a.75.75 0 0 1 0 1.5H.75A.75.75 0 0 1 0 8.25Zm0 4a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 1 0 1.5H.75a.75.75 0 0 1-.75-.75ZM13.5 10h2.25a.25.25 0 0 1 .177.427l-3 3a.25.25 0 0 1-.354 0l-3-3A.25.25 0 0 1 9.75 10H12V3.75a.75.75 0 0 1 1.5 0V10Z"},rows:{path:"M16 10.75v2.5A1.75 1.75 0 0 1 14.25 15H1.75A1.75 1.75 0 0 1 0 13.25v-2.5C0 9.784.784 9 1.75 9h12.5c.966 0 1.75.784 1.75 1.75Zm0-8v2.5A1.75 1.75 0 0 1 14.25 7H1.75A1.75 1.75 0 0 1 0 5.25v-2.5C0 1.784.784 1 1.75 1h12.5c.966 0 1.75.784 1.75 1.75Zm-1.75-.25H1.75a.25.25 0 0 0-.25.25v2.5c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25v-2.5a.25.25 0 0 0-.25-.25Zm0 8H1.75a.25.25 0 0 0-.25.25v2.5c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25v-2.5a.25.25 0 0 0-.25-.25Z"},columns:{path:"M2.75 0h2.5C6.216 0 7 .784 7 1.75v12.5A1.75 1.75 0 0 1 5.25 16h-2.5A1.75 1.75 0 0 1 1 14.25V1.75C1 .784 1.784 0 2.75 0Zm8 0h2.5C14.216 0 15 .784 15 1.75v12.5A1.75 1.75 0 0 1 13.25 16h-2.5A1.75 1.75 0 0 1 9 14.25V1.75C9 .784 9.784 0 10.75 0ZM2.5 1.75v12.5c0 .138.112.25.25.25h2.5a.25.25 0 0 0 .25-.25V1.75a.25.25 0 0 0-.25-.25h-2.5a.25.25 0 0 0-.25.25Zm8 0v12.5c0 .138.112.25.25.25h2.5a.25.25 0 0 0 .25-.25V1.75a.25.25 0 0 0-.25-.25h-2.5a.25.25 0 0 0-.25.25Z"},sliceby:{path:"M14.5 1.5H6.5V5H10C10.4142 5 10.75 5.33579 10.75 5.75C10.75 6.16421 10.4142 6.5 10 6.5H6.5V7.75C6.5 8.16421 6.16421 8.5 5.75 8.5C5.33579 8.5 5 8.16421 5 7.75V6.5H1.5V14.5H5V12.75C5 12.3358 5.33579 12 5.75 12C6.16421 12 6.5 12.3358 6.5 12.75V14.5H14.5V1.5ZM5 1.5V5H1.5V1.5H5ZM0 14.5V5.75V1.5C0 0.671573 0.671573 0 1.5 0H5.75H14.5C15.3284 0 16 0.671573 16 1.5V14.5C16 15.3284 15.3284 16 14.5 16H5.75H1.5C0.671573 16 0 15.3284 0 14.5ZM9.62012 9.58516C10.8677 9.59206 11.8826 8.58286 11.8826 7.33544V6.32279C11.8826 5.90857 12.2184 5.57279 12.6326 5.57279C13.0468 5.57279 13.3826 5.90857 13.3826 6.32279V7.33544C13.3826 9.4147 11.6909 11.0966 9.61182 11.0851L9.3826 11.0839L9.3826 12.9995C9.3826 13.2178 9.12245 13.3312 8.96248 13.1827L6.07989 10.506C5.97337 10.4071 5.97337 10.2385 6.07989 10.1396L8.96248 7.46291C9.12245 7.31438 9.3826 7.42782 9.3826 7.64611V9.58384L9.62012 9.58516Z"},"eye-closed":{path:"M.143 2.31a.75.75 0 0 1 1.047-.167l14.5 10.5a.75.75 0 1 1-.88 1.214l-2.248-1.628C11.346 13.19 9.792 14 8 14c-1.981 0-3.67-.992-4.933-2.078C1.797 10.832.88 9.577.43 8.9a1.619 1.619 0 0 1 0-1.797c.353-.533.995-1.42 1.868-2.305L.31 3.357A.75.75 0 0 1 .143 2.31Zm1.536 5.622A.12.12 0 0 0 1.657 8c0 .021.006.045.022.068.412.621 1.242 1.75 2.366 2.717C5.175 11.758 6.527 12.5 8 12.5c1.195 0 2.31-.488 3.29-1.191L9.063 9.695A2 2 0 0 1 6.058 7.52L3.529 5.688a14.207 14.207 0 0 0-1.85 2.244ZM8 3.5c-.516 0-1.017.09-1.499.251a.75.75 0 1 1-.473-1.423A6.207 6.207 0 0 1 8 2c1.981 0 3.67.992 4.933 2.078 1.27 1.091 2.187 2.345 2.637 3.023a1.62 1.62 0 0 1 0 1.798c-.11.166-.248.365-.41.587a.75.75 0 1 1-1.21-.887c.148-.201.272-.382.371-.53a.119.119 0 0 0 0-.137c-.412-.621-1.242-1.75-2.366-2.717C10.825 4.242 9.473 3.5 8 3.5Z"},"arrow-left":{path:"M7.78 12.53a.75.75 0 0 1-1.06 0L2.47 8.28a.75.75 0 0 1 0-1.06l4.25-4.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042L4.81 7h7.44a.75.75 0 0 1 0 1.5H4.81l2.97 2.97a.75.75 0 0 1 0 1.06Z"},"arrow-right":{path:"M8.22 2.97a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042l2.97-2.97H3.75a.75.75 0 0 1 0-1.5h7.44L8.22 4.03a.75.75 0 0 1 0-1.06Z"},"triangle-down":{path:"M4.427 7.427l3.396 3.396a.25.25 0 00.354 0l3.396-3.396A.25.25 0 0011.396 7H4.604a.25.25 0 00-.177.427z"},"triangle-right":{path:"M8.573 4.604a.25.25 0 01.427-.177l3.396 3.396a.25.25 0 010 .354l-3.396 3.396a.25.25 0 01-.427-.177V4.604z"},note:{path:"M0 3.75C0 2.784.784 2 1.75 2h12.5c.966 0 1.75.784 1.75 1.75v8.5A1.75 1.75 0 0 1 14.25 14H1.75A1.75 1.75 0 0 1 0 12.25Zm1.75-.25a.25.25 0 0 0-.25.25v8.5c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25v-8.5a.25.25 0 0 0-.25-.25ZM3.5 6.25a.75.75 0 0 1 .75-.75h7a.75.75 0 0 1 0 1.5h-7a.75.75 0 0 1-.75-.75Zm.75 2.25a.75.75 0 0 0 0 1.5h4a.75.75 0 0 0 0-1.5h-4Z"},"chevron-left":{path:"M9.78 12.78a.75.75 0 0 1-1.06 0L4.47 8.53a.75.75 0 0 1 0-1.06l4.25-4.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042L6.06 8l3.72 3.72a.75.75 0 0 1 0 1.06Z"},"chevron-right":{path:"M6.22 3.22a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L9.94 8 6.22 4.28a.75.75 0 0 1 0-1.06Z"},"arrow-both":{path:"M3.72 3.72a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042L2.56 7h10.88l-2.22-2.22a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018l3.5 3.5a.75.75 0 0 1 0 1.06l-3.5 3.5a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734l2.22-2.22H2.56l2.22 2.22a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215l-3.5-3.5a.75.75 0 0 1 0-1.06Z"},location:{path:"m12.596 11.596-3.535 3.536a1.5 1.5 0 0 1-2.122 0l-3.535-3.536a6.5 6.5 0 1 1 9.192-9.193 6.5 6.5 0 0 1 0 9.193Zm-1.06-8.132v-.001a5 5 0 1 0-7.072 7.072L8 14.07l3.536-3.534a5 5 0 0 0 0-7.072ZM8 9a2 2 0 1 1-.001-3.999A2 2 0 0 1 8 9Z"},"zoom-in":{path:'<path d="M3.75 7.5a.75.75 0 0 1 .75-.75h2.25V4.5a.75.75 0 0 1 1.5 0v2.25h2.25a.75.75 0 0 1 0 1.5H8.25v2.25a.75.75 0 0 1-1.5 0V8.25H4.5a.75.75 0 0 1-.75-.75Z"></path><path d="M7.5 0a7.5 7.5 0 0 1 5.807 12.247l2.473 2.473a.749.749 0 1 1-1.06 1.06l-2.473-2.473A7.5 7.5 0 1 1 7.5 0Zm-6 7.5a6 6 0 1 0 12 0 6 6 0 0 0-12 0Z"></path>',isInnerHTML:!0},check:{path:"M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"},plus:{path:"M8 0a.75.75 0 0 1 .75.75v6.5h6.5a.75.75 0 0 1 0 1.5h-6.5v6.5a.75.75 0 0 1-1.5 0v-6.5h-6.5a.75.75 0 0 1 0-1.5h6.5v-6.5A.75.75 0 0 1 8 0Z"},search:{path:"M10.68 11.74a6 6 0 1 1 1.06-1.06l2.74 2.74a.75.75 0 1 1-1.06 1.06l-2.74-2.74ZM12 7a5 5 0 1 1-10 0 5 5 0 0 1 10 0Z"},"arrow-up-down":{path:"M8 2.5a.75.75 0 0 1 .53.22l3.5 3.5a.75.75 0 0 1-1.06 1.06L9 5.06v5.88l1.97-1.97a.75.75 0 0 1 1.06 1.06l-3.5 3.5a.75.75 0 0 1-1.06 0l-3.5-3.5a.75.75 0 1 1 1.06-1.06L7 10.94V5.06L5.03 7.03a.75.75 0 0 1-1.06-1.06l3.5-3.5A.75.75 0 0 1 8 2.5Z"},sort:{path:"M0 4.25a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5H.75A.75.75 0 0 1 0 4.25Zm0 4a.75.75 0 0 1 .75-.75h4.5a.75.75 0 0 1 0 1.5H.75A.75.75 0 0 1 0 8.25Zm0 4a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 1 0 1.5H.75a.75.75 0 0 1-.75-.75ZM13.5 10h2.25a.25.25 0 0 1 .177.427l-3 3a.25.25 0 0 1-.354 0l-3-3A.25.25 0 0 1 9.75 10H12V3.75a.75.75 0 0 1 1.5 0V10Z"}};function W(u,t={}){let e=wt[u];if(!e)return console.warn(`Icon "${u}" not found in registry`),"";let n=t.size??14,i=t.className?`octicon octicon-${u} ${t.className}`:`octicon octicon-${u}`,s=t.fill??"currentColor",o=e.viewBox??"0 0 16 16",r=t.ariaLabel?"false":"true",a=t.ariaLabel?` aria-label="${ct(t.ariaLabel)}"`:"",d=t.title?`<title>${ct(t.title)}</title>`:"",c;return e.isInnerHTML?c=e.path:c=`<path d="${e.path}"/>`,`<svg class="${i}" viewBox="${o}" width="${n}" height="${n}" fill="${s}" aria-hidden="${r}"${a} focusable="false">${d}${c}</svg>`}function ct(u){return u.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}var le=class{render(t,e,n,i){let s=t&&t.title&&(t.title.raw&&t.title.raw.text||t.title.content&&(t.title.content.title||t.title.content.name)||typeof t.title=="string"&&t.title)||t&&t.content&&(t.content.title||t.content.name)||t&&t.raw&&t.raw.text||"",o=t&&t.title&&t.title.content&&t.title.content.number||t&&t.raw&&t.raw.itemContent&&t.raw.itemContent.number||n&&n.content&&n.content.number||"",r=t&&t.title&&t.title.content&&t.title.content.url||t&&t.raw&&t.raw.itemContent&&t.raw.itemContent.url||n&&n.content&&n.content.url||"",a=null;if(n&&Array.isArray(n.fieldValues)){let T=n.fieldValues.find(H=>H&&H.type==="single_select"&&(H.raw&&H.raw.field&&String(H.raw.field.name||"").toLowerCase()==="status"||H.fieldName&&String(H.fieldName||"").toLowerCase()==="status"||H.field&&H.field.name&&String(H.field.name||"").toLowerCase()==="status"));T&&(a=T.option&&(T.option.color||T.option.id||T.option.name)||T.raw&&T.raw.color||null)}let d=O(a)||null,c=d&&/^#([0-9a-f]{3}|[0-9a-f]{6})$/i.test(d)?d:"#666666",l=L(String(s||"")),p=o?L(String(o)):"",y=t&&t.title&&t.title.content||t&&t.raw&&t.raw.itemContent||n&&n.content||null,x=!1,C=!1,b=!1,m=!1,h=!1,g=!1;try{if(y&&typeof y.__typename=="string"&&String(y.__typename).toLowerCase().includes("pullrequest")&&(x=!0),!x&&y&&typeof y.state=="string"){let F=String(y.state).toUpperCase();F==="CLOSED"&&(b=!0),F==="MERGED"&&(m=!0)}x&&(typeof y.isDraft=="boolean"&&(C=!!y.isDraft),(y.state&&String(y.state).toUpperCase())==="CLOSED"&&(b=!0),y.merged&&(m=!0));let T=["done","closed","completed","finished"];try{let F=y&&y.issueDependenciesSummary?y.issueDependenciesSummary:null;h=(F&&typeof F.blockedBy=="number"?F.blockedBy:0)>0}catch{h=!1}let H=!1;if(Array.isArray(n&&n.fieldValues)){let F=n.fieldValues.find(P=>{if(!P||P.type!=="single_select")return!1;let G=P.raw&&P.raw.field&&P.raw.field.name||P.fieldName||P.field&&P.field.name||"";return String(G||"").toLowerCase()==="status"});if(F&&F.option&&F.option.name){let P=String(F.option.name).toLowerCase();T.includes(P)&&(H=!0)}}let q=!!(y&&y.labels&&Array.isArray(y.labels.nodes)&&y.labels.nodes.some(F=>T.includes(String(F&&F.name||"").toLowerCase())));(H||q)&&(m||(b=!0))}catch{}let v="issue-opened";x?m?v="git-merge":b?v="git-pull-request-closed":C?v="git-pull-request-draft":v="git-pull-request":b?v="issue-closed":C?v="issue-draft":v="issue-opened";let S=W(v,{size:14,className:"field-icon title-icon",fill:c}),E=h?W("blocked",{size:9,className:"field-icon blocked-icon",fill:"#dc3545"}):"",M=p?`${s} #${o}`:s,f=L(String(r||"")),A=L(M);return f?'<a href="'+f+'" data-gh-open="'+f+'" title="'+A+`" target="_blank" rel="noopener noreferrer" style="cursor:pointer;color:inherit;text-decoration:none;display:inline-flex;align-items:center;gap:8px;width:100%;"><span style='position:relative;display:inline-flex;align-items:center;justify-content:center;flex-shrink:0'>`+S+(E?"<span class='blocked-overlay' style='position:absolute;right:-3px;bottom:-3px;width:14px;height:14px;border-radius:999px;background:var(--vscode-editor-background);display:flex;align-items:center;justify-content:center;box-sizing:border-box;'>"+E+"</span>":"")+'</span><span style="flex:1;min-width:0;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;display:block">'+l+"</span>"+(p?'<span style="flex:none;margin-left:6px;color:var(--vscode-descriptionForeground);white-space:nowrap">#'+p+"</span>":"")+"</a>":'<span title="'+A+`" style="color:inherit;display:inline-flex;align-items:center;gap:8px;width:100%;"><span style='position:relative;display:inline-flex;align-items:center;justify-content:center;flex-shrink:0'>`+S+(E?"<span class='blocked-overlay' style='position:absolute;right:-3px;bottom:-3px;width:14px;height:14px;border-radius:999px;background:var(--vscode-editor-background);display:flex;align-items:center;justify-content:center;box-sizing:border-box;'>"+E+"</span>":"")+'</span><span style="flex:1;min-width:0;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;display:block">'+l+"</span>"+(p?'<span style="flex:none;margin-left:6px;color:var(--vscode-descriptionForeground);white-space:nowrap">#'+p+"</span>":"")+"</span>"}},de=class{render(t){return"<div>"+L((t&&t.text)!=null?t.text:"")+"</div>"}},ce=class{render(t){let e=t.number!==void 0&&t.number!==null?String(t.number):"";return'<div style="text-align:right;font-variant-numeric:tabular-nums">'+L(e)+"</div>"}},ue=class{render(t){let e=t.date||t.startDate||t.dueOn||null;if(!e)return"<div></div>";try{let n=new Date(e);if(isNaN(n.getTime()))return"<div>"+L(String(e))+"</div>";let i=n.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});return"<div>"+L(i)+"</div>"}catch{return"<div>"+L(String(e))+"</div>"}}},pe=class{render(t){let e=t&&t.option&&t.option.name||t&&t.name||"";if(!e)return"<div></div>";let n=t&&t.option&&(t.option.color||t.option.id)||t&&t.color||null,i=O(n)||null,s=!!(i&&/^#([0-9a-f]{3}|[0-9a-f]{6})$/i.test(i)),o=i||"#999999",r=s&&U(i,.12)||"rgba(0,0,0,0.06)",a=i||"#333333";return"<span style='display:inline-block;padding:2px 8px;margin-right:6px;border-radius:999px;border:1px solid "+L(o)+";background:"+L(r)+";color:"+L(a)+";font-size:12px;line-height:18px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis'>"+L(e)+"</span>"}},he=class{render(t){let e=t.iteration||t;if(!e||!e.title)return"<div></div>";let n=String(e.title||""),i=e.color||e.colour||null,s=O(i)||null,o=!!(s&&/^#([0-9a-f]{3}|[0-9a-f]{6})$/i.test(s)),r=s||"#999999",a=o&&U(s,.12)||"rgba(0,0,0,0.06)",d=r;return"<span style='display:inline-block;padding:2px 8px;margin-right:6px;border-radius:999px;border:1px solid "+L(r)+";background:"+L(a)+";color:"+L(d)+";font-size:12px;line-height:18px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis'>"+L(n)+"</span>"}},me=class{render(t){let e=t&&(t.repository||t);if(!e)return"<div></div>";let n=e&&(e.nameWithOwner||e.full_name||e.name||e.id||"")||"";if(!n)return"<div></div>";let i=e&&(e.url||e.html_url||e.nameWithOwner&&`https://github.com/${e.nameWithOwner}`)||"",s=W("repo",{size:16,className:"field-icon",ariaLabel:"Repository"});if(i){let o=n+" - "+i;return'<div data-gh-open="'+L(i)+'" title="'+L(o)+'" style="display:flex;align-items:center;gap:6px;cursor:pointer">'+s+"<span>"+L(String(n))+"</span></div>"}return'<div style="display:flex;align-items:center;gap:6px">'+s+"<span>"+L(String(n))+"</span></div>"}},ye=class{render(t,e,n,i){return"<div>"+(t.labels||[]).map(s=>{let o=L(s.name||""),r=n&&(n.content&&n.content.repository&&n.content.repository.nameWithOwner||n.repository&&n.repository.nameWithOwner)||t.raw&&t.raw.itemContent&&t.raw.itemContent.repository&&t.raw.itemContent.repository.nameWithOwner||null,a=s.color||s.colour||null;if(e&&e.repoOptions&&r&&e.repoOptions[r]){let x=e.repoOptions[r].find(C=>C&&C.name===s.name);x&&(a=x.color||x.colour||a)}let d=O(a)||null,c=!!(d&&/^#([0-9a-f]{3}|[0-9a-f]{6})$/i.test(d)),l=d||"#999999",p=c&&U(d,.12)||"rgba(0,0,0,0.06)",y=d||"#333333";return"<span style='display:inline-block;padding:2px 8px;margin-right:6px;border-radius:999px;border:1px solid "+L(l)+";background:"+L(p)+";color:"+L(y)+";font-size:12px;line-height:18px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis'>"+o+"</span>"}).join("")+"</div>"}},Q=class{render(t){let e=t.pullRequests||[];if(!e||e.length===0)return"";let n="<div style='display:flex;flex-wrap:wrap;gap:6px;align-items:center'>";for(let i=0;i<e.length;i++){let s=e[i],o=L(String(s&&s.number||"")),r=L(s&&s.title||""),a=L(s&&s.url||""),d=s&&(s.state_color||s.color||s.colour||s.state)||null,c=O(d)||null,l=!!(c&&/^#([0-9a-f]{3}|[0-9a-f]{6})$/i.test(c)),p=c||"#999999",y=l&&U(c,.12)||"rgba(0,0,0,0.06)",x=We(c)||"#333333",C=!!(s&&s.isDraft),b=s&&s.state&&String(s.state).toUpperCase()||"",m=!!(s&&s.merged),h=!m&&b==="CLOSED",g="git-pull-request";m?g="git-merge":h?g="git-pull-request-closed":C&&(g="git-pull-request-draft");let v=W(g,{size:12,className:"field-icon pr-icon",fill:c||"#666"}),E=!!(s&&Array.isArray(s.labels)&&s.labels.some(f=>f&&typeof f.name=="string"&&String(f.name).toLowerCase()==="blocked"))?W("blocked",{size:8,className:"field-icon blocked-icon",fill:"#dc3545"}):"",M=r?L(`#${s.number} ${s.title}`):L(`#${s.number}`);n+="<a href='"+a+"' title='"+M+"' target='_blank' rel='noopener noreferrer' style='cursor:pointer;text-decoration:none;color:inherit'><span style='display:inline-flex;align-items:center;gap:6px;padding:4px 8px;border-radius:999px;border:1px solid "+L(p)+";background:"+L(y)+";color:"+L(x)+";font-size:12px;line-height:18px;overflow:hidden;box-sizing:border-box;max-width:160px'><span style='position:relative;display:inline-flex;align-items:center;justify-content:center'>"+v+(E?"<span class='blocked-overlay' style='position:absolute;right:-3px;bottom:-3px;width:13px;height:13px;border-radius:999px;background:var(--vscode-editor-background);display:flex;align-items:center;justify-content:center;box-sizing:border-box;'>"+E+"</span>":"")+"</span><span style='flex:1 1 auto;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap'>#"+o+"</span></span></a>"}return n+="</div>",n}},ee=class{render(t){return(t.issues||[]).map(e=>{let n=e.title?L(`#${e.number} ${e.title}`):L(`#${e.number}`);return"<a href='"+L(e.url||"")+"' target='_blank' rel='noopener noreferrer' title='"+n+"' style='display:inline-block;max-width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap'>#"+L(String(e.number||""))+" "+L(e.title||"")+"</a>"}).join("<br/>")}},fe=class{render(t){let e=t.assignees||[];if(!e||e.length===0)return"<div></div>";let n=a=>{let d=a&&(a.login||a.name||""),c=a&&(a.url||a.html_url)||"";return c?String(c):d?`https://github.com/${d}`:""},i=e.slice(0,3).map((a,d)=>{let c=L(a.avatarUrl||a.avatar||""),l=d===0?"0px":d===1?"-8px":"-14px",p=Math.max(1,3-d),y=a.login||a.name||"",x=L((a.name||a.login||"").split(" ").map(m=>m[0]||"").join("").toUpperCase().slice(0,2)),C=L(n(a)),b="display:inline-flex;align-items:center;justify-content:center;width:20px;height:20px;border-radius:50%;border:2px solid var(--vscode-editor-background);margin-left:"+l+";vertical-align:middle;position:relative;z-index:"+p+";";return c?"<span title='"+L(y||"")+"' data-gh-open='"+C+"' style='"+b+"overflow:hidden;background-size:cover;background-position:center;background-image:url("+c+");'></span>":"<span title='"+L(y||"")+"' data-gh-open='"+C+"' style='"+b+"background:#777;color:#fff;font-size:11px;'>"+x+"</span>"}).join(""),s=e.map(a=>a.login||a.name||""),o="";s.length===1?o=s[0]:s.length===2?o=s[0]+" and "+s[1]:o=s.slice(0,-1).join(", ")+" and "+s.slice(-1)[0];let r=L(n(e[0]));return"<div style='display:flex;align-items:center;gap:8px'><span style='display:flex;align-items:center'><span style='display:inline-block;vertical-align:middle;height:20px;line-height:20px;margin-right:8px;'>"+i+"</span></span><span data-gh-open='"+r+"' style='white-space:nowrap;overflow:hidden;text-overflow:ellipsis;cursor:pointer'>"+L(o)+"</span></div>"}},ge=class{render(t){let e=t.reviewers||[];return!e||e.length===0?"<div></div>":"<div>"+e.map(i=>{let s=i.login||i.name||i.kind||"",o=L(s),a=i&&(i.url||i.html_url)||""||(s?`https://github.com/${s}`:""),d=L(a);return a?"<a href='"+d+"' target='_blank' rel='noopener noreferrer' data-gh-open='"+d+"' style='text-decoration:none;color:inherit'>"+o+"</a>":o}).join(", ")+"</div>"}},ve=class{render(t){return"<div>"+L(t.milestone&&t.milestone.title||"")+"</div>"}},be=class{render(t){try{if(!t||t.total==null||Number(t.total)<=0)return"";let e=Math.max(0,Math.floor(Number(t.total)||0)),n=Math.max(0,Math.floor(Number(t.done||0)));if(e===0)return"";let i=null;return t.percent!==void 0&&t.percent!==null?i=Number(t.percent):i=Math.round(n/e*100),i==null||!isFinite(i)?"":(i=Math.max(0,Math.min(100,i)),"<div class='sub-issues-progress' title='"+L(`${n} of ${e} sub-issues complete (${i}%)`)+"' style='display:flex;align-items:center;gap:8px;width:100%;'><div class='sub-issues-progress-count' style='min-width:44px;text-align:left;font-variant-numeric:tabular-nums;color:var(--vscode-descriptionForeground)'>"+L(String(n)+"/"+String(e))+"</div><div class='sub-issues-progress-bar' style='flex:1;min-width:0'><div style='width:100%;height:12px;border-radius:6px;border:1px solid var(--vscode-focusBorder);overflow:hidden;background:transparent;box-sizing:border-box'><div style='height:100%;width:"+String(i)+"%;background:var(--vscode-focusBorder)'></div></div></div><div class='sub-issues-progress-pct' style='min-width:44px;text-align:right;font-variant-numeric:tabular-nums;color:var(--vscode-descriptionForeground)'>"+L(String(i)+"%")+"</div></div>")}catch{return""}}},Ee=class{render(t,e,n,i){let s=["done","closed","completed","finished"],o=!1,r=t&&(t.parent||t.parentIssue||t.issue||t.option||t.item||t.value)||t&&t.raw&&(t.raw.parent||t.raw.itemContent||t.raw.item)||null,a=r&&(r.number||r.id||r.raw&&r.raw.number)&&(r.number||r.raw&&r.raw.number)||"",d=r&&(r.title||r.name||r.raw&&r.raw.title)&&(r.title||r.name||r.raw&&r.raw.title)||"",c=r&&(r.url||r.html_url||r.raw&&r.raw.url)&&(r.url||r.html_url||r.raw&&r.raw.url)||"",l=L(String(d||"")),p=a?L(String(a)):"",y=L(String(c||"")),x=null;try{var C=Array.isArray(i)?i:i||[];if(Array.isArray(C)&&C.length>0&&(a||r)){let F=r&&r.repository&&(r.repository.nameWithOwner||r.repository.name)||r&&r.content&&r.content.repository&&r.content.repository.nameWithOwner||null,P=[];a&&P.push(String(a)),r&&(r.id||r.raw&&r.raw.id)&&P.push(String(r.id||r.raw&&r.raw.id)),r&&(r.url||r.raw&&r.raw.url)&&P.push(String(r.url||r.raw&&r.raw.url)),r&&(r.title||r.name)&&P.push(String(r.title||r.name));let G=C.find(_=>{let w=_&&(_.content||_.raw&&_.raw.itemContent)||null;if(!w)return!1;let k=[];if(w.number&&k.push(String(w.number)),w.id&&k.push(String(w.id)),w.url&&k.push(String(w.url)),w.title&&k.push(String(w.title)),w.name&&k.push(String(w.name)),w.raw&&w.raw.number&&k.push(String(w.raw.number)),w.raw&&w.raw.id&&k.push(String(w.raw.id)),w.raw&&w.raw.url&&k.push(String(w.raw.url)),F){let I=w.repository&&(w.repository.nameWithOwner||w.repository.name)||null;if(I&&String(I)!==String(F))return!1}for(let I=0;I<P.length;I++)for(let D=0;D<k.length;D++)if(P[I]&&k[D]&&String(P[I])===String(k[D]))return!0;return!1});if(G&&Array.isArray(G.fieldValues)){let _=G.fieldValues.find(w=>w&&w.type==="single_select"&&(w.raw&&w.raw.field&&String(w.raw.field.name||"").toLowerCase()==="status"||w.fieldName&&String(w.fieldName||"").toLowerCase()==="status"||w.field&&w.field.name&&String(w.field.name||"").toLowerCase()==="status"));if(_&&(x=_.option&&(_.option.color||_.option.id||_.option.name)||_.raw&&_.raw.color||null,_.option&&_.option.name)){let w=String(_.option.name).toLowerCase();s.includes(w)&&(o=!0)}}}}catch{}x||(x=r&&(r.option&&(r.option.color||r.option.id||r.option.name)||r.color||r.colour)||null);let b=O(x)||null,m=!!(b&&/^#([0-9a-f]{3}|[0-9a-f]{6})$/i.test(b)),h=b||"#999999",g=m&&U(b,.12)||"rgba(0,0,0,0.06)",v=We(b)||"#333333",S=!1,E=!1,M=!1;try{(r&&r.state&&String(r.state).toUpperCase()||r&&r.parent&&r.parent.state&&String(r.parent.state).toUpperCase()||"")==="CLOSED"&&(S=!0),M=!!(r&&Array.isArray(r.labels)&&r.labels.some(_=>_&&typeof _.name=="string"&&String(_.name).toLowerCase()==="blocked")),(!!(r&&Array.isArray(r.labels)&&r.labels.some(_=>s.includes(String(_&&_.name||"").toLowerCase())))||o)&&(S=!0)}catch{}let f="issue-opened";S?f="issue-closed":E&&(f="issue-draft");let A=W(f,{size:14,className:"field-icon parent-issue-icon",fill:b||"#666"}),T=M?W("blocked",{size:9,className:"field-icon blocked-icon",fill:"#dc3545"}):"",H="<span style='display:block;width:100%;box-sizing:border-box'><div style='display:inline-flex;align-items:center;gap:8px;padding:4px 10px;border:1px solid "+L(h)+";border-radius:999px;color:"+L(v)+";background:"+L(g)+";font-size:12px;line-height:18px;overflow:hidden;box-sizing:border-box;width:100%'><span style='position:relative;display:inline-flex;align-items:center;justify-content:center'>"+A+(T?"<span class='blocked-overlay' style='position:absolute;right:-3px;bottom:-3px;width:14px;height:14px;border-radius:999px;background:var(--vscode-editor-background);display:flex;align-items:center;justify-content:center;box-sizing:border-box;'>"+T+"</span>":"")+"</span><span class='parent-issue-title' style='flex:1;min-width:0;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;display:block'>"+l+"</span>"+(p?"<span style='margin-left:6px;color:var(--vscode-descriptionForeground);white-space:nowrap'>#"+p+"</span>":"")+"</div></span>",q="<span data-gh-open='"+(y||"")+"' class='parent-issue-wrapper' style='display:block;width:100%;cursor:"+(y?"pointer":"default")+"'>";return y?q+H+"</span>":H}};var St={title:new le,text:new de,number:new ce,date:new ue,single_select:new pe,iteration:new he,repository:new me,labels:new ye,pull_request:new Q,issue:new ee,assignees:new fe,reviewers:new ge,milestone:new ve,sub_issues_progress:new be,parent_issue:new Ee,linked_pull_requests:new Q,tracks:new ee};function te(u,t,e,n){if(!u)return"";try{let i=St[u.type];return i?i.render(u,t,e,n):""}catch(i){return console.error("Error rendering cell",i),""}}var Z=class{constructor(t){this.pickerElement=null;this.backdropElement=null;this.searchInput=null;this.contentContainer=null;this.focusedIndex=-1;this.selectableItems=[];this.options=t}show(){this.hide(),this.backdropElement=document.createElement("div"),this.backdropElement.style.position="fixed",this.backdropElement.style.top="0",this.backdropElement.style.left="0",this.backdropElement.style.right="0",this.backdropElement.style.bottom="0",this.backdropElement.style.zIndex="999",this.backdropElement.addEventListener("click",()=>this.close()),document.body.appendChild(this.backdropElement),this.pickerElement=document.createElement("div"),this.pickerElement.className="field-picker",this.pickerElement.style.position="absolute",this.pickerElement.style.background="var(--vscode-menu-background)",this.pickerElement.style.border="1px solid var(--vscode-menu-border)",this.pickerElement.style.borderRadius="4px",this.pickerElement.style.boxShadow="0 2px 8px rgba(0, 0, 0, 0.15)",this.pickerElement.style.minWidth=this.options.minWidth||"280px",this.pickerElement.style.maxWidth="400px",this.pickerElement.style.zIndex="1000",this.pickerElement.style.display="flex",this.pickerElement.style.flexDirection="column",this.pickerElement.style.overflow="hidden";let t=this.options.anchorElement.getBoundingClientRect();this.pickerElement.style.top=`${t.bottom+4}px`,this.pickerElement.style.left=`${t.left}px`,this.buildHeader(),this.buildSearchBox(),this.buildContent(),this.buildFooter(),document.body.appendChild(this.pickerElement),this.searchInput&&setTimeout(()=>this.searchInput?.focus(),0),this.setupKeyboardNavigation()}hide(){this.pickerElement&&(this.pickerElement.remove(),this.pickerElement=null),this.backdropElement&&(this.backdropElement.remove(),this.backdropElement=null),this.searchInput=null,this.contentContainer=null,this.selectableItems=[],this.focusedIndex=-1}close(){this.hide(),this.options.onClose()}buildHeader(){if(!this.pickerElement)return;let t=document.createElement("div");t.style.padding="12px",t.style.borderBottom="1px solid var(--vscode-menu-separatorBackground)",t.style.fontWeight="600",t.style.fontSize="13px",t.style.color="var(--vscode-foreground)",t.textContent=this.options.title,this.pickerElement.appendChild(t)}buildSearchBox(){if(!this.pickerElement||!this.options.searchPlaceholder)return;let t=document.createElement("div");t.style.padding="8px 12px",t.style.borderBottom="1px solid var(--vscode-menu-separatorBackground)",this.searchInput=document.createElement("input"),this.searchInput.type="text",this.searchInput.placeholder=this.options.searchPlaceholder,this.searchInput.style.width="100%",this.searchInput.style.padding="6px 8px",this.searchInput.style.border="1px solid var(--vscode-input-border)",this.searchInput.style.background="var(--vscode-input-background)",this.searchInput.style.color="var(--vscode-input-foreground)",this.searchInput.style.borderRadius="2px",this.searchInput.style.fontSize="13px",this.searchInput.style.boxSizing="border-box",this.searchInput.addEventListener("input",()=>this.handleSearch()),this.searchInput.addEventListener("keydown",e=>{e.key==="Escape"&&(e.preventDefault(),this.close())}),t.appendChild(this.searchInput),this.pickerElement.appendChild(t)}buildContent(){this.pickerElement&&(this.contentContainer=document.createElement("div"),this.contentContainer.className="picker-content",this.contentContainer.style.maxHeight=this.options.maxHeight||"300px",this.contentContainer.style.overflowY="auto",this.contentContainer.style.padding="4px 0",this.renderContent(),this.pickerElement.appendChild(this.contentContainer))}buildFooter(){if(!this.pickerElement)return;let t=document.createElement("div");t.style.padding="8px 12px",t.style.borderTop="1px solid var(--vscode-menu-separatorBackground)",t.style.display="flex",t.style.gap="8px",t.style.justifyContent="flex-end";let e=this.createButton("Clear All",()=>{this.handleClearAll()});if(e.style.marginRight="auto",t.appendChild(e),this.options.onApply){let n=this.createButton("Apply",()=>{this.handleApply()});n.style.background="var(--vscode-button-background)",n.style.color="var(--vscode-button-foreground)",n.addEventListener("mouseenter",()=>{n.style.background="var(--vscode-button-hoverBackground)"}),n.addEventListener("mouseleave",()=>{n.style.background="var(--vscode-button-background)"}),t.appendChild(n)}this.pickerElement.appendChild(t)}createButton(t,e){let n=document.createElement("button");return n.type="button",n.textContent=t,n.style.padding="6px 12px",n.style.border="1px solid var(--vscode-button-border)",n.style.borderRadius="2px",n.style.background="var(--vscode-button-secondaryBackground)",n.style.color="var(--vscode-button-secondaryForeground)",n.style.cursor="pointer",n.style.fontSize="13px",n.addEventListener("click",e),n}setupKeyboardNavigation(){this.pickerElement&&this.pickerElement.addEventListener("keydown",t=>{switch(t.key){case"ArrowDown":t.preventDefault(),this.navigateDown();break;case"ArrowUp":t.preventDefault(),this.navigateUp();break;case"Enter":t.preventDefault(),this.handleEnter();break;case"Escape":t.preventDefault(),this.close();break}})}navigateDown(){this.selectableItems.length!==0&&(this.focusedIndex=(this.focusedIndex+1)%this.selectableItems.length,this.updateFocus())}navigateUp(){this.selectableItems.length!==0&&(this.focusedIndex=this.focusedIndex<=0?this.selectableItems.length-1:this.focusedIndex-1,this.updateFocus())}updateFocus(){this.selectableItems.forEach((t,e)=>{e===this.focusedIndex?(t.style.background="var(--vscode-list-focusBackground)",t.scrollIntoView({block:"nearest"})):t.style.background="transparent"})}handleEnter(){this.focusedIndex>=0&&this.focusedIndex<this.selectableItems.length&&this.selectableItems[this.focusedIndex].click()}};var xe=class extends Z{constructor(e){super({...e,title:"Select Labels",searchPlaceholder:"Filter labels...",onApply:()=>{}});this.availableLabels=[];this.selectedLabelIds=new Set;this.filteredLabels=[];this.field=e.field,this.item=e.item,this.onUpdate=e.onUpdate,this.onError=e.onError,e.currentLabels.forEach(n=>{n.id&&this.selectedLabelIds.add(String(n.id))}),this.loadAvailableLabels()}loadAvailableLabels(){let e=this.item.content&&this.item.content.repository&&this.item.content.repository.nameWithOwner||this.item.repository&&this.item.repository.nameWithOwner||null,n=[];e&&this.field.repoOptions&&this.field.repoOptions[e]?n=this.field.repoOptions[e]:this.field.options&&(n=this.field.options),this.availableLabels=n.map(i=>({id:String(i.id||i.name),name:i.name||"",color:i.color||i.colour||"#999999",description:i.description||""})),this.filteredLabels=[...this.availableLabels]}renderContent(){if(this.contentContainer){if(this.contentContainer.innerHTML="",this.selectableItems=[],this.filteredLabels.length===0){let e=document.createElement("div");e.style.padding="20px",e.style.textAlign="center",e.style.color="var(--vscode-descriptionForeground)",e.textContent="No labels found",this.contentContainer.appendChild(e);return}this.filteredLabels.forEach(e=>{let n=this.createLabelItem(e);this.contentContainer?.appendChild(n),this.selectableItems.push(n)})}}createLabelItem(e){let n=document.createElement("div");n.className="label-item",n.style.display="flex",n.style.alignItems="center",n.style.padding="8px 12px",n.style.cursor="pointer",n.style.gap="8px",n.addEventListener("mouseenter",()=>{n.style.background="var(--vscode-list-hoverBackground)"}),n.addEventListener("mouseleave",()=>{n.style.background!=="var(--vscode-list-focusBackground)"&&(n.style.background="transparent")});let i=document.createElement("input");i.type="checkbox",i.checked=this.selectedLabelIds.has(e.id),i.style.cursor="pointer",i.style.flexShrink="0";let s=O(e.color)||"#999999",r=/^#([0-9a-f]{3}|[0-9a-f]{6})$/i.test(s)&&U(s,.12)||"rgba(0,0,0,0.06)",a=document.createElement("span");a.style.width="16px",a.style.height="16px",a.style.borderRadius="2px",a.style.background=r,a.style.border=`1px solid ${s}`,a.style.flexShrink="0";let d=document.createElement("div");d.style.flex="1",d.style.minWidth="0",d.style.display="flex",d.style.flexDirection="column",d.style.gap="2px";let c=document.createElement("div");if(c.textContent=e.name,c.style.fontSize="13px",c.style.color="var(--vscode-foreground)",c.style.overflow="hidden",c.style.textOverflow="ellipsis",c.style.whiteSpace="nowrap",d.appendChild(c),e.description){let l=document.createElement("div");l.textContent=e.description,l.style.fontSize="11px",l.style.color="var(--vscode-descriptionForeground)",l.style.overflow="hidden",l.style.textOverflow="ellipsis",l.style.whiteSpace="nowrap",d.appendChild(l)}return n.appendChild(i),n.appendChild(a),n.appendChild(d),n.addEventListener("click",l=>{l.target!==i&&(i.checked=!i.checked),this.toggleLabel(e.id,i.checked)}),i.addEventListener("change",()=>{this.toggleLabel(e.id,i.checked)}),n}toggleLabel(e,n){n?this.selectedLabelIds.add(e):this.selectedLabelIds.delete(e)}handleSearch(){let e=this.searchInput?.value.toLowerCase()||"";e?this.filteredLabels=this.availableLabels.filter(n=>n.name.toLowerCase().includes(e)||n.description&&n.description.toLowerCase().includes(e)):this.filteredLabels=[...this.availableLabels],this.renderContent()}handleApply(){let e=Array.from(this.selectedLabelIds);this.onUpdate(e),this.close()}handleClearAll(){this.selectedLabelIds.clear(),this.renderContent()}};var we=class extends Z{constructor(e){super({...e,title:"Select Assignees",searchPlaceholder:"Filter assignees...",onApply:()=>{}});this.currentAssignees=[];this.availableAssignees=[];this.selectedLogins=new Set;this.filteredAssignees=[];this.field=e.field,this.item=e.item,this.currentAssignees=e.currentAssignees||[],this.onUpdate=e.onUpdate,this.onError=e.onError,e.currentAssignees.forEach(n=>{n.login&&this.selectedLogins.add(n.login)}),this.loadAvailableAssignees()}loadAvailableAssignees(){let e=new Map,n=i=>{if(!i)return;let s=i.login||i.name||"";if(!s)return;let o=i.name||i.login||"",r=i.avatarUrl||i.avatar||"";e.has(s)||e.set(s,{login:s,name:o,avatarUrl:r})};Array.isArray(this.field.options)&&this.field.options.forEach(n),Array.isArray(this.currentAssignees)&&this.currentAssignees.forEach(n),this.availableAssignees=Array.from(e.values()).sort((i,s)=>i.login.localeCompare(s.login)),this.filteredAssignees=[...this.availableAssignees]}renderContent(){if(this.contentContainer){if(this.contentContainer.innerHTML="",this.selectableItems=[],this.filteredAssignees.length===0){let e=document.createElement("div");e.style.padding="20px",e.style.textAlign="center",e.style.color="var(--vscode-descriptionForeground)",e.textContent="No assignees found",this.contentContainer.appendChild(e);return}this.filteredAssignees.forEach(e=>{let n=this.createAssigneeItem(e);this.contentContainer?.appendChild(n),this.selectableItems.push(n)})}}createAssigneeItem(e){let n=document.createElement("div");n.className="assignee-item",n.style.display="flex",n.style.alignItems="center",n.style.padding="8px 12px",n.style.cursor="pointer",n.style.gap="8px",n.addEventListener("mouseenter",()=>{n.style.background="var(--vscode-list-hoverBackground)"}),n.addEventListener("mouseleave",()=>{n.style.background!=="var(--vscode-list-focusBackground)"&&(n.style.background="transparent")});let i=document.createElement("input");i.type="checkbox",i.checked=this.selectedLogins.has(e.login),i.style.cursor="pointer",i.style.flexShrink="0";let s=document.createElement("span");if(s.style.width="24px",s.style.height="24px",s.style.borderRadius="50%",s.style.flexShrink="0",s.style.display="inline-flex",s.style.alignItems="center",s.style.justifyContent="center",s.style.fontSize="11px",s.style.fontWeight="600",e.avatarUrl)s.style.backgroundImage=`url(${L(e.avatarUrl)})`,s.style.backgroundSize="cover",s.style.backgroundPosition="center",s.style.border="1px solid var(--vscode-panel-border)";else{let a=(e.name||e.login||"").split(" ").map(d=>d[0]||"").join("").toUpperCase().slice(0,2);s.textContent=a,s.style.background="#777",s.style.color="#fff"}let o=document.createElement("div");o.style.flex="1",o.style.minWidth="0",o.style.display="flex",o.style.flexDirection="column";let r=document.createElement("div");if(r.textContent=e.login,r.style.fontSize="13px",r.style.color="var(--vscode-foreground)",r.style.overflow="hidden",r.style.textOverflow="ellipsis",r.style.whiteSpace="nowrap",o.appendChild(r),e.name&&e.name!==e.login){let a=document.createElement("div");a.textContent=e.name,a.style.fontSize="11px",a.style.color="var(--vscode-descriptionForeground)",a.style.overflow="hidden",a.style.textOverflow="ellipsis",a.style.whiteSpace="nowrap",o.appendChild(a)}if(n.appendChild(i),n.appendChild(s),n.appendChild(o),e.login){let a=`https://github.com/${e.login}`,d=document.createElement("div");d.style.display="flex",d.style.alignItems="center",d.style.marginLeft="auto",d.style.flexShrink="0";let c=document.createElement("button");c.type="button",c.className="assignee-open-button",c.textContent="\u2197",c.title="Open GitHub profile",c.style.fontSize="11px",c.style.padding="2px 4px",c.style.cursor="pointer",c.style.border="none",c.style.background="transparent",c.style.color="var(--vscode-textLink-foreground)",c.addEventListener("click",l=>{l.stopPropagation();try{let p=window.APP_MESSAGING;p&&typeof p.postMessage=="function"&&p.postMessage({command:"openUrl",url:a})}catch{}}),d.appendChild(c),n.appendChild(d)}return n.addEventListener("click",a=>{a.target!==i&&(i.checked=!i.checked),this.toggleAssignee(e.login,i.checked)}),i.addEventListener("change",()=>{this.toggleAssignee(e.login,i.checked)}),n}toggleAssignee(e,n){n?this.selectedLogins.add(e):this.selectedLogins.delete(e)}handleSearch(){let e=this.searchInput?.value.toLowerCase()||"";e?this.filteredAssignees=this.availableAssignees.filter(n=>n.login.toLowerCase().includes(e)||n.name&&n.name.toLowerCase().includes(e)):this.filteredAssignees=[...this.availableAssignees],this.renderContent()}handleApply(){let e=Array.from(this.selectedLogins);this.onUpdate(e),this.close()}handleClearAll(){this.selectedLogins.clear(),this.renderContent()}};var Se=class extends Z{constructor(e){super({...e,title:"Select Reviewers",searchPlaceholder:"Filter reviewers...",onApply:()=>{}});this.currentReviewers=[];this.availableReviewers=[];this.selectedLogins=new Set;this.filteredReviewers=[];this.field=e.field,this.item=e.item,this.currentReviewers=e.currentReviewers||[],this.onUpdate=e.onUpdate,this.onError=e.onError,e.currentReviewers.forEach(n=>{n.login&&this.selectedLogins.add(n.login)}),this.loadAvailableReviewers()}loadAvailableReviewers(){let e=new Map,n=i=>{if(!i)return;let s=i.login||i.name||"";if(!s)return;let o=i.name||i.login||"",r=i.avatarUrl||i.avatar||"",a=i.kind||i.__typename||"User";e.has(s)||e.set(s,{login:s,name:o,avatarUrl:r,kind:a})};Array.isArray(this.field.options)&&this.field.options.forEach(n),Array.isArray(this.currentReviewers)&&this.currentReviewers.forEach(n),this.availableReviewers=Array.from(e.values()).sort((i,s)=>i.login.localeCompare(s.login)),this.filteredReviewers=[...this.availableReviewers]}renderContent(){if(this.contentContainer){if(this.contentContainer.innerHTML="",this.selectableItems=[],this.filteredReviewers.length===0){let e=document.createElement("div");e.style.padding="20px",e.style.textAlign="center",e.style.color="var(--vscode-descriptionForeground)",e.textContent="No reviewers found",this.contentContainer.appendChild(e);return}this.filteredReviewers.forEach(e=>{let n=this.createReviewerItem(e);this.contentContainer?.appendChild(n),this.selectableItems.push(n)})}}createReviewerItem(e){let n=document.createElement("div");n.className="reviewer-item",n.style.display="flex",n.style.alignItems="center",n.style.padding="8px 12px",n.style.cursor="pointer",n.style.gap="8px",n.addEventListener("mouseenter",()=>{n.style.background="var(--vscode-list-hoverBackground)"}),n.addEventListener("mouseleave",()=>{n.style.background!=="var(--vscode-list-focusBackground)"&&(n.style.background="transparent")});let i=document.createElement("input");i.type="checkbox",i.checked=this.selectedLogins.has(e.login),i.style.cursor="pointer",i.style.flexShrink="0";let s=document.createElement("span");s.style.width="24px",s.style.height="24px",s.style.borderRadius="50%",s.style.flexShrink="0",s.style.display="inline-flex",s.style.alignItems="center",s.style.justifyContent="center",s.style.fontSize="11px",s.style.fontWeight="600";let o=e.kind&&(e.kind.toLowerCase().includes("team")||e.kind==="Team");if(e.avatarUrl)s.style.backgroundImage=`url(${L(e.avatarUrl)})`,s.style.backgroundSize="cover",s.style.backgroundPosition="center",s.style.border="1px solid var(--vscode-panel-border)";else if(o){let d="&#128101;";s.innerHTML=d,s.style.background="#555",s.style.color="#fff"}else{let d=(e.name||e.login||"").split(" ").map(c=>c[0]||"").join("").toUpperCase().slice(0,2);s.textContent=d,s.style.background="#777",s.style.color="#fff"}let r=document.createElement("div");r.style.flex="1",r.style.minWidth="0",r.style.display="flex",r.style.flexDirection="column";let a=document.createElement("div");if(a.textContent=e.login,a.style.fontSize="13px",a.style.color="var(--vscode-foreground)",a.style.overflow="hidden",a.style.textOverflow="ellipsis",a.style.whiteSpace="nowrap",r.appendChild(a),e.name&&e.name!==e.login){let d=document.createElement("div");d.textContent=e.name,d.style.fontSize="11px",d.style.color="var(--vscode-descriptionForeground)",d.style.overflow="hidden",d.style.textOverflow="ellipsis",d.style.whiteSpace="nowrap",r.appendChild(d)}if(o){let d=document.createElement("span");d.textContent="Team",d.style.fontSize="10px",d.style.padding="2px 6px",d.style.background="var(--vscode-badge-background)",d.style.color="var(--vscode-badge-foreground)",d.style.borderRadius="2px",d.style.marginLeft="auto",d.style.flexShrink="0",n.appendChild(d)}if(n.appendChild(i),n.appendChild(s),n.appendChild(r),e.login){let d=`https://github.com/${e.login}`,c=document.createElement("div");c.style.display="flex",c.style.alignItems="center",c.style.marginLeft="auto",c.style.flexShrink="0";let l=document.createElement("button");l.type="button",l.className="reviewer-open-button",l.textContent="\u2197",l.title=o?"Open GitHub team page":"Open GitHub profile",l.style.fontSize="11px",l.style.padding="2px 4px",l.style.cursor="pointer",l.style.border="none",l.style.background="transparent",l.style.color="var(--vscode-textLink-foreground)",l.addEventListener("click",p=>{p.stopPropagation();try{let y=window.__APP_MESSAGING__;y&&typeof y.postMessage=="function"&&y.postMessage({command:"openUrl",url:d})}catch{}}),c.appendChild(l),n.appendChild(c)}return n.addEventListener("click",d=>{d.target!==i&&(i.checked=!i.checked),this.toggleReviewer(e.login,i.checked)}),i.addEventListener("change",()=>{this.toggleReviewer(e.login,i.checked)}),n}toggleReviewer(e,n){n?this.selectedLogins.add(e):this.selectedLogins.delete(e)}handleSearch(){let e=this.searchInput?.value.toLowerCase()||"";e?this.filteredReviewers=this.availableReviewers.filter(n=>n.login.toLowerCase().includes(e)||n.name&&n.name.toLowerCase().includes(e)):this.filteredReviewers=[...this.availableReviewers],this.renderContent()}handleApply(){let e=Array.from(this.selectedLogins);this.onUpdate(e),this.close()}handleClearAll(){this.selectedLogins.clear(),this.renderContent()}};var Ce=class extends Z{constructor(e){super({...e,title:"Select Milestone",searchPlaceholder:"Filter milestones...",onApply:void 0});this.availableMilestones=[];this.selectedMilestoneId=null;this.filteredMilestones=[];this.field=e.field,this.item=e.item,this.onUpdate=e.onUpdate,this.onError=e.onError,e.currentMilestone&&e.currentMilestone.id&&(this.selectedMilestoneId=String(e.currentMilestone.id)),this.loadAvailableMilestones()}loadAvailableMilestones(){let e=[],n=this.item.content&&this.item.content.repository&&this.item.content.repository.nameWithOwner||this.item.repository&&this.item.repository.nameWithOwner||null;n&&this.field.repoOptions&&this.field.repoOptions[n]?e=this.field.repoOptions[n]:this.field.options&&(e=this.field.options),this.availableMilestones=e.map(i=>({id:String(i.id||i.title),title:i.title||"",dueOn:i.dueOn||i.due_on||"",state:i.state||""})),this.filteredMilestones=[...this.availableMilestones]}renderContent(){if(!this.contentContainer)return;this.contentContainer.innerHTML="",this.selectableItems=[];let e=this.createClearMilestoneItem();if(this.contentContainer.appendChild(e),this.selectableItems.push(e),this.filteredMilestones.length===0){let i=document.createElement("div");i.style.padding="20px",i.style.textAlign="center",i.style.color="var(--vscode-descriptionForeground)",i.textContent="No milestones found",this.contentContainer.appendChild(i);return}let n=document.createElement("div");n.style.height="1px",n.style.background="var(--vscode-menu-separatorBackground)",n.style.margin="4px 0",this.contentContainer.appendChild(n),this.filteredMilestones.forEach(i=>{let s=this.createMilestoneItem(i);this.contentContainer&&this.contentContainer.appendChild(s),this.selectableItems.push(s)})}createClearMilestoneItem(){let e=document.createElement("div");e.className="milestone-item",e.style.display="flex",e.style.alignItems="center",e.style.padding="8px 12px",e.style.cursor="pointer",e.style.gap="8px",e.addEventListener("mouseenter",()=>{e.style.background="var(--vscode-list-hoverBackground)"}),e.addEventListener("mouseleave",()=>{e.style.background!=="var(--vscode-list-focusBackground)"&&(e.style.background="transparent")});let n=document.createElement("span");if(n.style.width="16px",n.style.height="16px",n.style.borderRadius="50%",n.style.border="2px solid var(--vscode-input-border)",n.style.flexShrink="0",n.style.display="inline-flex",n.style.alignItems="center",n.style.justifyContent="center",this.selectedMilestoneId===null){let s=document.createElement("span");s.style.width="8px",s.style.height="8px",s.style.borderRadius="50%",s.style.background="var(--vscode-focusBorder)",n.appendChild(s)}let i=document.createElement("span");return i.textContent="No milestone",i.style.fontSize="13px",i.style.color="var(--vscode-descriptionForeground)",i.style.fontStyle="italic",e.appendChild(n),e.appendChild(i),e.addEventListener("click",()=>{this.selectMilestone(null)}),e}createMilestoneItem(e){let n=document.createElement("div");n.className="milestone-item",n.style.display="flex",n.style.alignItems="center",n.style.padding="8px 12px",n.style.cursor="pointer",n.style.gap="8px",n.addEventListener("mouseenter",()=>{n.style.background="var(--vscode-list-hoverBackground)"}),n.addEventListener("mouseleave",()=>{n.style.background!=="var(--vscode-list-focusBackground)"&&(n.style.background="transparent")});let i=document.createElement("span");if(i.style.width="16px",i.style.height="16px",i.style.borderRadius="50%",i.style.border="2px solid var(--vscode-input-border)",i.style.flexShrink="0",i.style.display="inline-flex",i.style.alignItems="center",i.style.justifyContent="center",this.selectedMilestoneId===e.id){let r=document.createElement("span");r.style.width="8px",r.style.height="8px",r.style.borderRadius="50%",r.style.background="var(--vscode-focusBorder)",i.appendChild(r)}let s=document.createElement("div");s.style.flex="1",s.style.minWidth="0",s.style.display="flex",s.style.flexDirection="column",s.style.gap="2px";let o=document.createElement("div");if(o.textContent=e.title,o.style.fontSize="13px",o.style.color="var(--vscode-foreground)",o.style.overflow="hidden",o.style.textOverflow="ellipsis",o.style.whiteSpace="nowrap",s.appendChild(o),e.dueOn)try{let r=new Date(e.dueOn);if(!isNaN(r.getTime())){let a=r.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),d=document.createElement("div");d.textContent=`Due ${a}`,d.style.fontSize="11px",d.style.color="var(--vscode-descriptionForeground)",s.appendChild(d)}}catch{}return n.appendChild(i),n.appendChild(s),n.addEventListener("click",()=>{this.selectMilestone(e.id)}),n}selectMilestone(e){this.selectedMilestoneId=e,this.onUpdate(e),this.close()}handleSearch(){let e=this.searchInput?.value.toLowerCase()||"";e?this.filteredMilestones=this.availableMilestones.filter(n=>n.title.toLowerCase().includes(e)):this.filteredMilestones=[...this.availableMilestones],this.renderContent()}handleApply(){}handleClearAll(){this.selectMilestone(null)}};var V=class{constructor(t,e,n,i,s,o,r){this.editorElement=null;this.isActive=!1;this.cell=t,this.fieldId=e,this.fieldType=n,this.itemId=i,this.projectId=s,this.viewKey=o,this.originalValue=r}async enter(){if(this.isActive)return;this.isActive=!0;let t=this.cell.innerHTML;if(this.editorElement=await this.createEditor(),!this.editorElement){this.isActive=!1;return}this.cell.innerHTML="",this.cell.appendChild(this.editorElement),this.cell.classList.add("editing"),this.attachKeyboardHandlers(),this.focusEditor()}exit(){this.isActive&&(this.isActive=!1,this.cell.classList.remove("editing","loading","error"),this.editorElement=null)}async commit(){if(!this.isActive||!this.editorElement)return;let t=this.getValue(),e=this.validate(t);if(!e.valid){this.showError(e.message||"Invalid value");return}this.cell.classList.add("loading"),this.editorElement&&(this.editorElement.style.opacity="0.6");try{await this.sendUpdate(t),this.exit(),this.onCommitCallback&&this.onCommitCallback(t)}catch(n){this.cell.classList.remove("loading"),this.editorElement&&(this.editorElement.style.opacity="1"),this.showError(n instanceof Error?n.message:"Failed to update field")}}cancel(){this.isActive&&(this.exit(),this.onCancelCallback&&this.onCancelCallback())}onCommit(t){this.onCommitCallback=t}onCancel(t){this.onCancelCallback=t}validate(t){return{valid:!0}}attachKeyboardHandlers(){if(!this.editorElement)return;let t=e=>{e.key==="Escape"?(e.preventDefault(),e.stopPropagation(),this.cancel()):e.key==="Enter"&&!e.shiftKey?(e.preventDefault(),e.stopPropagation(),this.commit()):e.key==="Tab"&&(e.preventDefault(),e.stopPropagation(),this.commit().then(()=>{this.moveToNextCell(e.shiftKey)}))};this.editorElement.addEventListener("keydown",t)}async sendUpdate(t){return new Promise((e,n)=>{let i=`update-${Date.now()}-${Math.random()}`,s,o=d=>{let c=d&&typeof d=="object"&&"data"in d?d.data:d;!c||c.command!=="updateFieldValueResponse"||c.id===i&&(window.removeEventListener("message",o),s!==void 0&&clearTimeout(s),c.success?e():n(new Error(c.error||"Update failed")))},r=window.__APP_MESSAGING__;if(r&&typeof r.onMessage=="function")try{r.onMessage(o)}catch{}window.addEventListener("message",o);let a={command:"updateFieldValue",id:i,projectId:this.projectId,itemId:this.itemId,fieldId:this.fieldId,fieldType:this.fieldType,newValue:t,viewKey:this.viewKey};if(r&&typeof r.postMessage=="function")r.postMessage(a);else{let d=window.vscodeApi;if(d&&typeof d.postMessage=="function")d.postMessage(a);else{window.removeEventListener("message",o),n(new Error("No messaging API available"));return}}s=window.setTimeout(()=>{window.removeEventListener("message",o),n(new Error("Update timeout"))},1e4)})}showError(t){this.cell.classList.add("error");let e=document.createElement("div");e.className="cell-editor-error",e.textContent=t,e.style.position="absolute",e.style.top="100%",e.style.left="0",e.style.background="var(--vscode-inputValidation-errorBackground)",e.style.border="1px solid var(--vscode-inputValidation-errorBorder)",e.style.color="var(--vscode-inputValidation-errorForeground)",e.style.padding="4px 8px",e.style.borderRadius="3px",e.style.fontSize="12px",e.style.zIndex="1000",e.style.whiteSpace="nowrap",e.style.marginTop="2px",this.cell.style.position="relative",this.cell.appendChild(e),setTimeout(()=>{this.cell.classList.remove("error"),e.parentElement&&e.remove()},3e3)}moveToNextCell(t){let e=this.cell.parentElement;if(!e)return;let n=Array.from(e.cells),i=n.indexOf(this.cell);if(t)for(let s=i-1;s>=0;s--){let o=n[s];if(o.dataset.editable==="true"){o.focus();return}}else for(let s=i+1;s<n.length;s++){let o=n[s];if(o.dataset.editable==="true"){o.focus();return}}}};var Me=class extends V{constructor(){super(...arguments);this.input=null}async createEditor(){return this.input=document.createElement("input"),this.input.type="text",this.input.value=this.originalValue?.text||"",this.input.className="cell-editor-input",this.input.style.width="100%",this.input.style.height="100%",this.input.style.border="1px solid var(--vscode-focusBorder)",this.input.style.background="var(--vscode-input-background)",this.input.style.color="var(--vscode-input-foreground)",this.input.style.padding="4px 8px",this.input.style.fontSize="13px",this.input.style.fontFamily="var(--vscode-font-family)",this.input.style.outline="none",this.input.style.boxSizing="border-box",this.input}getValue(){return this.input?this.input.value:null}focusEditor(){this.input&&(this.input.focus(),this.input.select())}validate(e){return{valid:!0}}};var ke=class extends V{constructor(){super(...arguments);this.input=null}async createEditor(){return this.input=document.createElement("input"),this.input.type="text",this.input.value=this.originalValue?.number!==void 0&&this.originalValue?.number!==null?String(this.originalValue.number):"",this.input.className="cell-editor-input",this.input.style.width="100%",this.input.style.height="100%",this.input.style.border="1px solid var(--vscode-focusBorder)",this.input.style.background="var(--vscode-input-background)",this.input.style.color="var(--vscode-input-foreground)",this.input.style.padding="4px 8px",this.input.style.fontSize="13px",this.input.style.fontFamily="var(--vscode-font-family)",this.input.style.outline="none",this.input.style.boxSizing="border-box",this.input.style.textAlign="right",this.input.style.fontVariantNumeric="tabular-nums",this.input.addEventListener("input",e=>{let n=e.target,i=n.value;if(i==="")return;if(i=i.replace(/[^0-9.-]/g,""),(i.match(/-/g)||[]).length>0){let r=i.startsWith("-");i=i.replace(/-/g,""),r&&(i="-"+i)}if((i.match(/\./g)||[]).length>1){let r=i.split(".");i=r[0]+"."+r.slice(1).join("")}n.value=i}),this.input}getValue(){if(!this.input)return null;let e=this.input.value.trim();if(e==="")return this.originalValue?.number!==void 0&&this.originalValue?.number!==null?this.originalValue.number:0;let n=Number(e);return isNaN(n)?null:n}focusEditor(){this.input&&(this.input.focus(),this.input.select())}validate(e){return e===null?{valid:!0}:typeof e=="number"&&!isNaN(e)&&isFinite(e)?{valid:!0}:{valid:!1,message:"Please enter a valid number or leave empty"}}};var Le=class{constructor(t){this.container=null;this.backdrop=null;this.mounted=!1;this.selectedDate=null;this.dayButtons=[];this.focusedIndex=-1;this.handleResize=()=>{this.positionContainer()};this.handleScroll=()=>{this.positionContainer()};this.anchorElement=t.anchorElement,this.initialDate=t.initialDate||null,this.onSelect=t.onSelect,this.onClose=t.onClose;let e=this.parseDate(this.initialDate)||new Date;this.currentYear=e.getFullYear(),this.currentMonth=e.getMonth(),this.selectedDate=this.parseDate(this.initialDate)}show(){this.mounted||(this.mounted=!0,this.backdrop=this.createBackdrop(),this.container=this.createContainer(),document.body.appendChild(this.backdrop),document.body.appendChild(this.container),this.positionContainer(),this.focusInitialDay(),window.addEventListener("resize",this.handleResize),window.addEventListener("scroll",this.handleScroll,!0))}hide(){this.mounted&&(this.mounted=!1,window.removeEventListener("resize",this.handleResize),window.removeEventListener("scroll",this.handleScroll,!0),this.container&&this.container.parentElement&&this.container.remove(),this.backdrop&&this.backdrop.parentElement&&this.backdrop.remove(),this.container=null,this.backdrop=null,this.dayButtons=[],this.focusedIndex=-1,this.onClose())}createBackdrop(){let t=document.createElement("div");return t.style.position="fixed",t.style.top="0",t.style.left="0",t.style.right="0",t.style.bottom="0",t.style.zIndex="999",t.style.background="transparent",t.addEventListener("click",e=>{e.stopPropagation(),this.hide()}),t.addEventListener("keydown",e=>{e.key==="Escape"&&(e.preventDefault(),e.stopPropagation(),this.hide())}),t}createContainer(){let t=document.createElement("div");return t.style.position="absolute",t.style.background="var(--vscode-menu-background)",t.style.border="1px solid var(--vscode-menu-border)",t.style.borderRadius="4px",t.style.boxShadow="0 2px 8px rgba(0, 0, 0, 0.2)",t.style.padding="8px",t.style.minWidth="220px",t.style.maxWidth="260px",t.style.zIndex="1000",t.style.fontSize="13px",t.style.color="var(--vscode-foreground)",t.setAttribute("role","dialog"),t.setAttribute("aria-label","Select date"),t.addEventListener("keydown",e=>this.handleKeyDown(e)),this.buildCalendar(t),t}buildCalendar(t){t.innerHTML="",this.dayButtons=[],this.focusedIndex=-1;let e=document.createElement("div");e.style.display="flex",e.style.alignItems="center",e.style.justifyContent="space-between",e.style.marginBottom="4px";let n=document.createElement("button");n.type="button",n.textContent="<",n.title="Previous month",n.style.border="1px solid var(--vscode-button-border)",n.style.background="var(--vscode-button-secondaryBackground)",n.style.color="var(--vscode-button-secondaryForeground)",n.style.borderRadius="2px",n.style.cursor="pointer",n.style.width="24px",n.style.height="24px",n.addEventListener("click",v=>{v.preventDefault(),this.changeMonth(-1)});let i=document.createElement("button");i.type="button",i.textContent=">",i.title="Next month",i.style.border="1px solid var(--vscode-button-border)",i.style.background="var(--vscode-button-secondaryBackground)",i.style.color="var(--vscode-button-secondaryForeground)",i.style.borderRadius="2px",i.style.cursor="pointer",i.style.width="24px",i.style.height="24px",i.addEventListener("click",v=>{v.preventDefault(),this.changeMonth(1)});let s=document.createElement("div");s.style.flex="1",s.style.display="flex",s.style.justifyContent="center",s.style.gap="4px";let o=document.createElement("select");o.style.border="1px solid var(--vscode-input-border)",o.style.background="var(--vscode-input-background)",o.style.color="var(--vscode-input-foreground)",o.style.borderRadius="2px",o.style.fontSize="12px",o.style.padding="2px 4px",["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].forEach((v,S)=>{let E=document.createElement("option");E.value=String(S),E.textContent=v,S===this.currentMonth&&(E.selected=!0),o.appendChild(E)}),o.addEventListener("change",()=>{let v=parseInt(o.value,10);isNaN(v)||(this.currentMonth=v,this.container&&(this.buildCalendar(this.container),this.focusInitialDay()))});let a=document.createElement("input");a.type="number",a.value=String(this.currentYear),a.min="1970",a.max="2100",a.style.width="64px",a.style.border="1px solid var(--vscode-input-border)",a.style.background="var(--vscode-input-background)",a.style.color="var(--vscode-input-foreground)",a.style.borderRadius="2px",a.style.fontSize="12px",a.style.padding="2px 4px",a.style.boxSizing="border-box";let d=()=>{let v=parseInt(a.value,10);isNaN(v)||(this.currentYear=v,this.container&&(this.buildCalendar(this.container),this.focusInitialDay()))};a.addEventListener("change",()=>{d()}),a.addEventListener("keydown",v=>{v.key==="Enter"&&(v.preventDefault(),d())}),s.appendChild(o),s.appendChild(a),e.appendChild(n),e.appendChild(s),e.appendChild(i),t.appendChild(e);let c=["Su","Mo","Tu","We","Th","Fr","Sa"],l=document.createElement("div");l.style.display="grid",l.style.gridTemplateColumns="repeat(7, 1fr)",l.style.marginTop="4px",l.style.marginBottom="2px",c.forEach(v=>{let S=document.createElement("div");S.textContent=v,S.style.textAlign="center",S.style.fontSize="11px",S.style.color="var(--vscode-descriptionForeground)",l.appendChild(S)}),t.appendChild(l);let p=document.createElement("div");p.style.display="grid",p.style.gridTemplateColumns="repeat(7, 1fr)",p.style.gap="2px";let x=new Date(this.currentYear,this.currentMonth,1).getDay(),C=new Date(this.currentYear,this.currentMonth+1,0).getDate();for(let v=0;v<x;v++){let S=document.createElement("div");p.appendChild(S)}let b=new Date,m=b.getFullYear(),h=b.getMonth(),g=b.getDate();for(let v=1;v<=C;v++){let S=new Date(this.currentYear,this.currentMonth,v),E=document.createElement("button");E.type="button",E.textContent=String(v),E.style.width="100%",E.style.height="24px",E.style.border="1px solid transparent",E.style.borderRadius="2px",E.style.background="transparent",E.style.color="var(--vscode-foreground)",E.style.cursor="pointer",E.style.fontSize="12px",E.setAttribute("aria-label",S.toDateString()),this.isSameDate(S,b)&&(E.style.borderColor="var(--vscode-focusBorder)"),this.selectedDate&&this.isSameDate(S,this.selectedDate)&&(E.style.background="var(--vscode-list-activeSelectionBackground)",E.style.color="var(--vscode-list-activeSelectionForeground)"),E.addEventListener("mouseenter",()=>{E.style.background="var(--vscode-list-hoverBackground)"}),E.addEventListener("mouseleave",()=>{this.selectedDate&&this.isSameDate(S,this.selectedDate)?(E.style.background="var(--vscode-list-activeSelectionBackground)",E.style.color="var(--vscode-list-activeSelectionForeground)"):(E.style.background="transparent",E.style.color="var(--vscode-foreground)")}),E.addEventListener("click",M=>{M.preventDefault(),M.stopPropagation();let f=this.toIsoString(S);this.onSelect(f?f.split("T")[0]:null),this.hide()}),p.appendChild(E),this.dayButtons.push({date:S,element:E})}t.appendChild(p)}handleKeyDown(t){if(this.dayButtons.length!==0)switch(t.key){case"ArrowRight":t.preventDefault(),this.moveFocusBy(1);break;case"ArrowLeft":t.preventDefault(),this.moveFocusBy(-1);break;case"ArrowDown":t.preventDefault(),this.moveFocusBy(7);break;case"ArrowUp":t.preventDefault(),this.moveFocusBy(-7);break;case"Home":t.preventDefault(),this.focusIndex(0);break;case"End":t.preventDefault(),this.focusIndex(this.dayButtons.length-1);break;case"PageUp":t.preventDefault(),this.changeMonth(-1,!0);break;case"PageDown":t.preventDefault(),this.changeMonth(1,!0);break;case"Enter":case" ":if(t.preventDefault(),this.focusedIndex>=0&&this.focusedIndex<this.dayButtons.length){let{element:e}=this.dayButtons[this.focusedIndex];e.click()}break;case"Escape":t.preventDefault(),this.hide();break}}moveFocusBy(t){if(this.dayButtons.length===0)return;let e=this.focusedIndex<0?0:this.focusedIndex+t;e<0||e>=this.dayButtons.length||this.focusIndex(e)}focusIndex(t){if(t<0||t>=this.dayButtons.length)return;this.focusedIndex=t;let{element:e}=this.dayButtons[t];e.focus()}focusInitialDay(){if(this.dayButtons.length===0)return;let t=-1;if(this.selectedDate&&(t=this.dayButtons.findIndex(({date:e})=>this.isSameDate(e,this.selectedDate))),t===-1){let e=new Date;t=this.dayButtons.findIndex(({date:n})=>this.isSameDate(n,e))}t===-1&&(t=0),this.focusIndex(t)}changeMonth(t,e=!1){this.currentMonth+=t,this.currentMonth<0?(this.currentMonth=11,this.currentYear-=1):this.currentMonth>11&&(this.currentMonth=0,this.currentYear+=1),this.container&&(this.buildCalendar(this.container),e&&this.focusInitialDay())}positionContainer(){if(!this.container)return;let t=this.anchorElement.getBoundingClientRect(),e=this.container.getBoundingClientRect(),n=window.innerHeight,i=window.innerWidth,s=t.bottom+4,o=t.left;s+e.height>n&&t.top>e.height&&(s=t.top-e.height-4),o+e.width>i&&(o=Math.max(4,i-e.width-4)),this.container.style.top=`${s}px`,this.container.style.left=`${o}px`}parseDate(t){if(!t)return null;try{let e=new Date(t);return isNaN(e.getTime())?null:e}catch{return null}}toIsoString(t){try{return isNaN(t.getTime())?null:t.toISOString()}catch{return null}}isSameDate(t,e){return t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate()}};var Ie=class extends V{constructor(){super(...arguments);this.container=null;this.input=null;this.clearBtn=null;this.calendarBtn=null;this.datePicker=null}async createEditor(){this.container=document.createElement("div"),this.container.className="cell-editor-date",this.container.style.display="flex",this.container.style.alignItems="center",this.container.style.gap="4px",this.container.style.width="100%",this.container.style.height="100%",this.input=document.createElement("input"),this.input.type="text",this.input.className="cell-editor-input",this.input.placeholder="YYYY-MM-DD",this.input.autocomplete="off";let e=this.originalValue?.date||this.originalValue?.startDate||this.originalValue?.dueOn;if(e)try{let n=new Date(e);isNaN(n.getTime())||(this.input.value=n.toISOString().split("T")[0])}catch{}return this.input.style.flex="1",this.input.style.minWidth="0",this.input.style.border="1px solid var(--vscode-input-border)",this.input.style.background="var(--vscode-input-background)",this.input.style.color="var(--vscode-input-foreground)",this.input.style.padding="4px 8px",this.input.style.fontSize="13px",this.input.style.fontFamily="var(--vscode-font-family)",this.input.style.outline="none",this.input.style.boxSizing="border-box",this.calendarBtn=document.createElement("button"),this.calendarBtn.type="button",this.calendarBtn.title="Open calendar",this.calendarBtn.className="cell-editor-clear",this.calendarBtn.style.flex="0 0 auto",this.calendarBtn.style.width="24px",this.calendarBtn.style.height="24px",this.calendarBtn.style.border="1px solid var(--vscode-button-border)",this.calendarBtn.style.background="var(--vscode-button-secondaryBackground)",this.calendarBtn.style.color="var(--vscode-button-secondaryForeground)",this.calendarBtn.style.borderRadius="3px",this.calendarBtn.style.cursor="pointer",this.calendarBtn.style.fontSize="14px",this.calendarBtn.style.lineHeight="1",this.calendarBtn.style.padding="0",this.calendarBtn.style.display="flex",this.calendarBtn.style.alignItems="center",this.calendarBtn.style.justifyContent="center",this.calendarBtn.textContent="\u{1F4C5}",this.calendarBtn.addEventListener("click",n=>{n.preventDefault(),n.stopPropagation(),this.openDatePicker()}),this.calendarBtn.addEventListener("mouseenter",()=>{this.calendarBtn&&(this.calendarBtn.style.background="var(--vscode-button-secondaryHoverBackground)")}),this.calendarBtn.addEventListener("mouseleave",()=>{this.calendarBtn&&(this.calendarBtn.style.background="var(--vscode-button-secondaryBackground)")}),this.clearBtn=document.createElement("button"),this.clearBtn.type="button",this.clearBtn.textContent="\xD7",this.clearBtn.title="Clear date",this.clearBtn.className="cell-editor-clear",this.clearBtn.style.flex="0 0 auto",this.clearBtn.style.width="24px",this.clearBtn.style.height="24px",this.clearBtn.style.border="1px solid var(--vscode-button-border)",this.clearBtn.style.background="var(--vscode-button-secondaryBackground)",this.clearBtn.style.color="var(--vscode-button-secondaryForeground)",this.clearBtn.style.borderRadius="3px",this.clearBtn.style.cursor="pointer",this.clearBtn.style.fontSize="18px",this.clearBtn.style.lineHeight="1",this.clearBtn.style.padding="0",this.clearBtn.style.display="flex",this.clearBtn.style.alignItems="center",this.clearBtn.style.justifyContent="center",this.clearBtn.addEventListener("click",n=>{n.preventDefault(),n.stopPropagation(),this.input&&(this.input.value="",this.input.focus())}),this.clearBtn.addEventListener("mouseenter",()=>{this.clearBtn&&(this.clearBtn.style.background="var(--vscode-button-secondaryHoverBackground)")}),this.clearBtn.addEventListener("mouseleave",()=>{this.clearBtn&&(this.clearBtn.style.background="var(--vscode-button-secondaryBackground)")}),this.container.appendChild(this.input),this.container.appendChild(this.calendarBtn),this.container.appendChild(this.clearBtn),this.container}getValue(){if(!this.input)return null;let e=this.input.value.trim();if(e==="")return this.originalValue?.date||this.originalValue?.startDate||this.originalValue?.dueOn||null;try{let n=new Date(e);if(!isNaN(n.getTime()))return n.toISOString()}catch{return null}return null}focusEditor(){this.input&&this.input.focus()}validate(e){if(e===null)return{valid:!0};if(typeof e=="string")try{let n=new Date(e);if(!isNaN(n.getTime()))return{valid:!0}}catch{}return{valid:!1,message:"Please enter a valid date or leave empty"}}openDatePicker(){if(!this.input||this.datePicker)return;let e=this.input.value||this.originalValue?.date||this.originalValue?.startDate||this.originalValue?.dueOn||null;this.datePicker=new Le({anchorElement:this.input,initialDate:typeof e=="string"?e:null,onSelect:n=>{this.input&&(this.input.value=n||"",this.input.focus())},onClose:()=>{this.datePicker=null}}),this.datePicker.show()}};var Ct=300,Te=class{constructor(t,e,n){this.activeEditor=null;this.projectId=t,this.viewKey=e,this.allItems=n}enterEditMode(t,e,n,i){this.enterEditModeInternal(t,e,n,i)}makeEditable(t,e,n,i){let s=e?.type||n?.dataType||n?.type,o=typeof s=="string"?s.toLowerCase():s;if(!["text","number","date"].includes(o))return;t.dataset.editable="true",t.dataset.fieldType=o,t.dataset.fieldId=String(n.id),t.dataset.itemId=String(i.id),t.style.cursor="pointer",t.title=t.title||"Click to edit, or press F2";let r=0,a=null,d=l=>{let p=l.target;p.classList.contains("column-resizer")||p.closest(".column-resizer")||(r++,r===1?(t.focus(),a=setTimeout(()=>{r=0},Ct)):r===2&&(clearTimeout(a),r=0,this.enterEditModeInternal(t,e,n,i)))},c=l=>{(l.key==="Enter"||l.key==="F2")&&(l.preventDefault(),l.stopPropagation(),this.enterEditModeInternal(t,e,n,i))};t.addEventListener("click",d),t.addEventListener("keydown",c),t.hasAttribute("tabindex")||t.setAttribute("tabindex","0")}enterEditModeInternal(t,e,n,i){this.activeEditor&&(this.activeEditor.cancel(),this.activeEditor=null);let s=e?.type||n?.dataType||n?.type,o=typeof s=="string"?s.toLowerCase():s,r=String(n.id),a=String(i.id),d=null;switch(o){case"text":d=new Me(t,r,o,a,this.projectId,this.viewKey,e);break;case"number":d=new ke(t,r,o,a,this.projectId,this.viewKey,e);break;case"date":d=new Ie(t,r,o,a,this.projectId,this.viewKey,e);break;default:return}d&&(d.onCommit(c=>{this.updateFieldValue(i,n,c);let l=this.getFieldValue(i,n);t.innerHTML=te(l,n,i,this.allItems),this.makeEditable(t,l,n,i),this.activeEditor=null}),d.onCancel(()=>{e?t.innerHTML=te(e,n,i,this.allItems):t.innerHTML="",this.makeEditable(t,e,n,i),this.activeEditor=null}),this.activeEditor=d,d.enter())}updateFieldValue(t,e,n){let i=String(e.id),s=e?.dataType||e?.type,o=typeof s=="string"?s.toLowerCase():s,r=t.fieldValues.find(a=>String(a.fieldId)===i||a.fieldName===e.name);switch(r||(r={fieldId:i,fieldName:e.name,type:o},t.fieldValues.push(r)),o){case"text":r.text=n;break;case"number":r.number=n;break;case"date":r.date=n;break}}getFieldValue(t,e){return t.fieldValues.find(n=>String(n.fieldId)===String(e.id)||n.fieldName===e.name)}closeActiveEditor(){this.activeEditor&&(this.activeEditor.cancel(),this.activeEditor=null)}};var Ae=class{constructor(t,e,n,i,s,o,r){this.fields=t;this.allItems=e;this.onResizeStart=n;this.onCellRendered=i;this.projectId=s;this.viewKey=o;this.editorManager=null;this.activePicker=null;this.onFieldUpdate=r,s&&o&&(this.editorManager=new Te(s,o,e))}createRow(t,e){let n=document.createElement("tr");n.classList.add("table-row"),n.setAttribute("data-gh-item-id",t.id),n.setAttribute("role","row"),n.setAttribute("aria-rowindex",String(e+2)),n.style.transition="background-color 0.15s ease",n.addEventListener("mouseenter",()=>{n.style.backgroundColor="var(--vscode-list-hoverBackground)"}),n.addEventListener("mouseleave",()=>{n.style.backgroundColor="transparent"});let i=document.createElement("td");i.textContent=String(e+1),i.setAttribute("role","gridcell"),i.setAttribute("aria-colindex","1"),i.setAttribute("aria-label",`Row ${e+1}`),this.styleCell(i),n.appendChild(i);for(let s=0;s<this.fields.length;s++){let o=this.fields[s],r=document.createElement("td");this.styleCell(r),r.setAttribute("role","gridcell"),r.setAttribute("aria-colindex",String(s+2));let a=o.name||o.id||"Field";r.setAttribute("aria-label",a);let d=t.fieldValues.find(x=>String(x.fieldId)===String(o.id)||x.fieldName===o.name);d&&(r.innerHTML=te(d,o,t,this.allItems)),this.editorManager&&this.editorManager.makeEditable(r,d,o,t);let c=String(o.dataType||o.type||"").toUpperCase(),l=c==="SINGLE_SELECT"||c==="ITERATION",p=c==="LABELS"||c==="ASSIGNEES"||c==="REVIEWERS"||c==="MILESTONE";if(l||p?r.setAttribute("aria-readonly","false"):r.setAttribute("aria-readonly","true"),p){r.style.cursor="pointer";let x=b=>{let m=b.target;m.classList.contains("column-resizer")||m.closest(".column-resizer")||(b.stopPropagation(),this.openFieldPicker(r,o,t,d))},C=b=>{(b.key==="Enter"||b.key===" ")&&(b.preventDefault(),b.stopPropagation(),this.openFieldPicker(r,o,t,d))};r.addEventListener("click",x),r.addEventListener("keydown",C),r.hasAttribute("tabindex")||r.setAttribute("tabindex","0")}this.onCellRendered&&this.onCellRendered(r,o,t,d),r.style.position="relative";let y=document.createElement("div");y.className="column-resizer",y.style.position="absolute",y.style.top="0",y.style.right="0",y.style.width="6px",y.style.height="100%",y.style.cursor="col-resize",y.style.userSelect="none",y.style.zIndex="50",y.addEventListener("mouseenter",()=>y.style.background="var(--vscode-focusBorder)"),y.addEventListener("mouseleave",()=>y.style.background="transparent"),y.addEventListener("mousedown",x=>{x.preventDefault(),x.stopPropagation();let C=n.closest("table");if(!C)return;let m=C.querySelectorAll("col")[s+1],h=m?parseInt(m.style.width)||m.offsetWidth:r.offsetWidth;this.onResizeStart(s+1,x.pageX,h)}),r.appendChild(y),n.appendChild(r)}return n}styleCell(t){t.style.padding="8px",t.style.borderRight="1px solid var(--vscode-panel-border)",t.style.borderBottom="1px solid var(--vscode-panel-border)",t.style.whiteSpace="nowrap",t.style.overflow="hidden",t.style.textOverflow="ellipsis"}openFieldPicker(t,e,n,i){switch(this.activePicker&&(this.activePicker.hide(),this.activePicker=null),String(e.dataType||e.type||"").toUpperCase()){case"LABELS":this.openLabelsPicker(t,e,n,i);break;case"ASSIGNEES":this.openAssigneesPicker(t,e,n,i);break;case"REVIEWERS":this.openReviewersPicker(t,e,n,i);break;case"MILESTONE":this.openMilestonePicker(t,e,n,i);break}}openLabelsPicker(t,e,n,i){let s=i&&i.labels||[];this.activePicker=new xe({anchorElement:t,field:e,item:n,currentLabels:s,onClose:()=>{this.activePicker=null},onUpdate:async o=>{if(this.onFieldUpdate)try{await this.onFieldUpdate(n.id,e.id,{labelIds:o})}catch(r){console.error("Failed to update labels:",r)}},onError:o=>{console.error("Labels picker error:",o)}}),this.activePicker.show()}openAssigneesPicker(t,e,n,i){let s=i&&i.assignees||[];this.activePicker=new we({anchorElement:t,field:e,item:n,currentAssignees:s,onClose:()=>{this.activePicker=null},onUpdate:async o=>{if(this.onFieldUpdate)try{await this.onFieldUpdate(n.id,e.id,{assigneeLogins:o})}catch(r){console.error("Failed to update assignees:",r)}},onError:o=>{console.error("Assignees picker error:",o)}}),this.activePicker.show()}openReviewersPicker(t,e,n,i){let s=i&&i.reviewers||[];this.activePicker=new Se({anchorElement:t,field:e,item:n,currentReviewers:s,onClose:()=>{this.activePicker=null},onUpdate:async o=>{if(this.onFieldUpdate)try{await this.onFieldUpdate(n.id,e.id,{reviewerLogins:o})}catch(r){console.error("Failed to update reviewers:",r)}},onError:o=>{console.error("Reviewers picker error:",o)}}),this.activePicker.show()}openMilestonePicker(t,e,n,i){let s=i&&i.milestone||null;this.activePicker=new Ce({anchorElement:t,field:e,item:n,currentMilestone:s,onClose:()=>{this.activePicker=null},onUpdate:async o=>{if(this.onFieldUpdate)try{await this.onFieldUpdate(n.id,e.id,{milestoneId:o})}catch(r){console.error("Failed to update milestone:",r)}},onError:o=>{console.error("Milestone picker error:",o)}}),this.activePicker.show()}};var _e=class{constructor(t,e,n){this.fields=t;this.allItems=e;this.groupDivisors=n}getIconSvg(t,e=14){return window.getIconSvg?window.getIconSvg(t,{size:e}):""}renderGroup(t,e,n,i){let s=document.createElement("tr");s.className="group-header";let o=document.createElement("td");o.colSpan=this.fields.length+1,o.style.padding="8px",o.style.background="var(--vscode-editor-background)",o.style.fontWeight="600",o.style.borderTop="1px solid var(--vscode-editorGroup-border)",o.style.borderBottom="1px solid var(--vscode-editorGroup-border)",o.style.position="sticky",o.style.top="32px",o.style.zIndex="9",o.style.boxShadow="0 1px 2px rgba(0,0,0,0.1)";let r=document.createElement("div");r.style.display="flex",r.style.alignItems="center",r.style.gap="8px";let a=Ft(this.fields,this.allItems,e,n,{groupDivisors:this.groupDivisors}),d=this.getIconSvg("triangle-down",16),c=this.getIconSvg("triangle-right",16);a.style.position="sticky",a.style.left="0",a.style.zIndex="12",a.style.background=o.style.background,a.style.paddingRight="8px",r.appendChild(a);let l=a.querySelector(".group-toggle");o.appendChild(r),s.appendChild(o),t.appendChild(s);let p=[],x=(e&&e.option&&e.option.id?String(e.option.id):String(Math.random()).replace("0.","_")).replace(/\s+/g,"-").replace(/[^A-Za-z0-9_\-]/g,"_");e.items.forEach(m=>{let h=i.createRow(m.item,m.index);try{h.classList.add("group-row-"+x)}catch{}t.appendChild(h),p.push(h)});let C=!1,b=m=>{C=m,l&&(l.innerHTML=C?c:d),p.forEach(h=>{h.style.display=C?"none":"table-row"});try{C?s.classList.add("collapsed"):s.classList.remove("collapsed")}catch{}};l&&l.addEventListener("click",m=>{m.stopPropagation(),b(!C)}),o.addEventListener("click",m=>{let h=m.target;h&&(h.tagName==="BUTTON"||h.closest("button")||h.closest("a"))||b(!C)})}};function j(u="div"){return document.createElement(u)}function Mt(u){let t=j("div");return t.className="group-color-dot",t.style.width="12px",t.style.height="12px",t.style.borderRadius="50%",t.style.backgroundColor=O(u?.color)||"gray",t.style.marginRight="8px",t}function kt(u,t){let e=j("span");e.className="group-name",e.style.fontWeight="600",e.style.marginRight="8px";let n=u&&(u.name||u.title||u.label)?String(u.name||u.title||u.label):"Unassigned";return e.textContent=n,e}function Lt(u,t){let e=j("span"),n=O(t?.color)||"#848d97";return e.className="gh-count-pill",e.style.background=U(n,.12)||"transparent",e.style.color=n,e.style.border="1px solid rgba(0,0,0,0.04)",e.style.borderRadius="10px",e.style.padding="2px 8px",e.style.fontSize="11px",e.style.fontWeight="600",e.textContent=String(u||0),e}function It(u,t){if(!u)return null;let e=u.id||u.name,n=0;for(let i of t||[]){let s=i&&(i.item||i);if(!s||!Array.isArray(s.fieldValues))continue;let o=s.fieldValues.find(r=>r.fieldId&&String(r.fieldId)===String(e)||r.fieldName&&String(r.fieldName)===String(u.name)||r.type==="number");if(o){let r=Number(o.number!=null?o.number:o.value!=null?o.value:NaN);isNaN(r)||(n+=r)}}if(n!==0){let i=j("div");return i.style.display="inline-block",i.style.padding="2px 8px",i.style.borderRadius="999px",i.style.border="1px solid var(--vscode-panel-border)",i.style.background="var(--vscode-input-background)",i.style.color="var(--vscode-foreground)",i.style.fontSize="12px",i.style.lineHeight="18px",i.style.marginLeft="8px",i.textContent=String(u.name||e)+": "+String(n),i}return null}function Tt(u,t){if(!u)return null;let e=[];Array.isArray(u.fieldValues)&&e.push(u.fieldValues),u.content&&Array.isArray(u.content.fieldValues)&&e.push(u.content.fieldValues),u.raw&&u.raw.itemContent&&Array.isArray(u.raw.itemContent.fieldValues)&&e.push(u.raw.itemContent.fieldValues);for(let n of e){let i=n.find(s=>String(s.fieldId)===String(t?.id)||String(s.fieldName)===String(t?.name)||String(s.type)==="parent_issue");if(i)return i.parent||i.parentIssue||i.issue||i.item||i.value||null}return u.parent||u.parentIssue||u.issue||u.item||u.value||null}function At(u,t,e){if(!t||String(t.dataType||t.type||"").toLowerCase()!=="parent_issue")return null;try{let n=null;if(u&&u.option&&(n=u.option.parent||u.option.parentIssue||u.option.issue||n),!n&&u.items&&u.items.length>0){let l=u.items[0],p=l&&l.item?l.item:l;n=Tt(p,t)||n}if(!n)return null;let i=[],s=l=>{l!=null&&l!==""&&i.push(String(l))};s(n&&n.number),s(n&&n.id),s(n&&n.url),s(n&&n.title),u&&u.option&&(s(u.option.id),s(u.option.name),s(u.option.title));let o=(e||[]).find(l=>{let p=l&&(l.content||l.raw&&l.raw.itemContent)||l||null;if(!p)return!1;let y=[],x=C=>{C!=null&&C!==""&&y.push(String(C))};x(p.number),x(p.id),x(p.url),x(p.title),x(p.name),p.raw&&(x(p.raw.number),x(p.raw.id),x(p.raw.url)),p.itemContent&&typeof p.itemContent=="object"&&(x(p.itemContent.number),x(p.itemContent.id),x(p.itemContent.url),x(p.itemContent.title),x(p.itemContent.name));for(let C of i)for(let b of y)if(C&&b&&String(C)===String(b))return!0;return!1}),r=0,a=0,d=u.items||[],c=l=>{try{let p=l&&(l.content||l.raw&&l.raw.itemContent);if(p){let y=(p.state||(p.merged?"MERGED":void 0)||"").toString().toUpperCase();if(y==="CLOSED"||y==="MERGED")return!0}if(Array.isArray(l.fieldValues)){if(l.fieldValues.find(C=>C&&C.type==="single_select"&&C.option&&C.option.name&&["done","closed","completed","finished"].includes(String(C.option.name).toLowerCase())))return!0;let x=l.fieldValues.find(C=>C&&(String(C.fieldName||"").toLowerCase().includes("progress")||String(C.fieldName||"").toLowerCase().includes("percent")));if(x&&x.number!=null&&Number(x.number||0)>=100)return!0}}catch{}return!1};for(let l of d){let p=l.item||l;p&&(a++,c(p)&&r++)}if(a>0){let l=Math.round(r/a*100),p=j("div");p.className="group-progress",p.style.display="inline-flex",p.style.alignItems="center",p.style.gap="8px",p.style.marginLeft="8px";let y=j("div");y.style.display="inline-block",y.style.width="120px",y.style.height="12px",y.style.background="transparent",y.style.border="1px solid var(--vscode-focusBorder)",y.style.borderRadius="6px",y.style.overflow="hidden";let x=j("div");return x.style.height="100%",x.style.width=String(l)+"%",x.style.background="var(--vscode-focusBorder)",y.appendChild(x),p.appendChild(y),p}}catch{}return null}function _t(u,t){if(!t)return null;try{if(String(t.dataType||t.type||"").toLowerCase()!=="iteration")return null;let n=u.option||{},i=null,s=n.startDate||n.start&&n.startDate||null,o=n.duration||n.length||null;if(s&&o)try{let r=new Date(s),a=Number(o)||0,d=new Date(r.getTime()+a*24*60*60*1e3),c=r.toLocaleDateString("en-US",{month:"short",day:"numeric"}),l=d.toLocaleDateString("en-US",{month:"short",day:"numeric"});i=`${c} \u2014 ${l}`}catch{i=null}if(i||(i=n.title||n.name?String(n.title||n.name):null),i){let r=j("div");return r.style.color="var(--vscode-descriptionForeground)",r.style.fontSize="12px",r.style.marginLeft="8px",r.textContent=String(i).slice(0,120),r}}catch{}return null}function Ht(u,t=14){return window.getIconSvg?window.getIconSvg(u,{size:t}):""}function Ft(u,t,e,n,i){let s=n&&(n.dataType||n.type)?n:(Array.isArray(u)?u.find(c=>String(c.id)===String(n?.id)||String(c.name)===String(n?.name)):n)||n,o=document.createElement("div");if(o.className="group-header group-header-div",o.style.display="flex",o.style.alignItems="center",o.style.padding="8px",o.style.background="var(--vscode-sideBar-background)",!i?.hideToggle){let c=document.createElement("span");c.className="group-toggle",c.style.cursor="pointer",c.style.marginRight="8px";try{c.innerHTML=Ht("triangle-down",16)}catch{}o.appendChild(c)}let r=Mt(e.option||{});r.classList.add("board-card-color-dot"),o.appendChild(r);let a=kt(e.option||{},s);a.classList.add("board-card-title"),o.appendChild(a);let d;try{if(i&&Object.prototype.hasOwnProperty.call(i,"groupDivisors"))d=i.groupDivisors;else if(i&&i.viewKey)try{let c=window.__viewStates||{};d=c[i.viewKey]?c[i.viewKey].groupDivisors:void 0}catch{d=void 0}}catch{d=void 0}if(Array.isArray(d)){if(d.find(c=>String(c)==="__count__")){let c=Lt(e.items&&e.items.length||0,e.option||{});c.classList.add("board-card-count"),o.appendChild(c)}try{let c=(u||[]).filter(l=>String((l.dataType||l.type||"").toLowerCase())==="number"||String(l.name||"").toLowerCase().includes("estimate"));for(let l of d){if(String(l)==="__count__")continue;let p=c.find(y=>String(y.id)===String(l)||String(y.name)===String(l));if(p){let y=It(p,e.items||[]);y&&(y.classList.add("board-card-estimate"),o.appendChild(y))}}}catch{}}try{let c=e&&e.option?e.option:{};if(c&&(c.avatarUrl||c.avatar||c.imageUrl||c.login)||c&&c.name&&String((s&&(s.dataType||s.type)||"").toLowerCase())==="assignees"){let p=c.avatarUrl||c.avatar||c.imageUrl||null;if(!p&&Array.isArray(e.items))for(let y of e.items||[]){let x=y&&(y.item||y);if(!x||!Array.isArray(x.fieldValues))continue;let C=x.fieldValues.find(b=>b&&(b.type==="assignees"||String(b.fieldId)===String(s&&s.id)));if(C&&C.assignees&&Array.isArray(C.assignees)){let b=C.assignees.find(m=>String(m.login||m.name)===String(c.name||c.id));if(b&&(b.avatarUrl||b.avatar)){p=b.avatarUrl||b.avatar;break}}}if(p&&r&&r.parentNode){let y=document.createElement("span");y.innerHTML='<span title="'+L(c&&(c.login||c.name)||"Assignee")+'" style="display:inline-block;width:20px;height:20px;border-radius:50%;overflow:hidden;background-size:cover;background-position:center;background-image:url('+L(p)+');border:2px solid var(--vscode-editor-background)"></span>',r.parentNode.replaceChild(y,r)}}}catch{}try{e&&e.option&&(e.option.name==="Unassigned"||e.option.title==="Unassigned")&&a&&(a.textContent="No "+(s&&(s.name||s.title)?s.name||s.title:"value"))}catch{}try{let c=At(e,s,t);c&&o.appendChild(c)}catch{}try{let c=_t(e,s);c&&o.appendChild(c)}catch{}return o}var He=class{constructor(t,e,n){this.table=t;this.fields=e;this.options=n}setupResizers(){this.table.querySelectorAll("th").forEach((e,n)=>{if(n===0)return;let i=document.createElement("div");i.className="column-resizer",i.style.position="absolute",i.style.top="0",i.style.right="0",i.style.width="4px",i.style.height="100%",i.style.cursor="col-resize",i.style.userSelect="none",i.style.zIndex="100",i.addEventListener("mouseenter",()=>{i.style.background="var(--vscode-focusBorder)"}),i.addEventListener("mouseleave",()=>{i.style.background="transparent"}),i.addEventListener("mousedown",s=>{s.preventDefault(),s.stopPropagation();let r=this.table.querySelectorAll("col")[n],a=r?parseInt(r.style.width)||r.offsetWidth:e.offsetWidth;this.beginColumnResize(n,s.pageX,a)}),e.style.position="relative",e.appendChild(i)}),this.restoreColumnWidths()}beginColumnResize(t,e,n){let i=o=>{let r=Math.max(20,n+(o.pageX-e)),d=this.table.querySelectorAll("col")[t];d&&(d.style.width=`${r}px`,d.style.minWidth=`${r}px`,d.style.maxWidth=`${r}px`)},s=o=>{document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",s);let r=t-1;if(r>=0&&r<this.fields.length){let d=this.table.querySelectorAll("col")[t],c=d?parseInt(d.style.width)||d.offsetWidth:void 0;c&&this.saveColumnWidth(this.fields[r].id,c)}};document.addEventListener("mousemove",i),document.addEventListener("mouseup",s)}saveColumnWidth(t,e){let n=this.getStorageKey("columnWidths");if(n)try{let i=localStorage.getItem(n),s=i?JSON.parse(i):{};s[t]=e,localStorage.setItem(n,JSON.stringify(s))}catch{}}restoreColumnWidths(){let t=this.getStorageKey("columnWidths");if(t)try{let e=localStorage.getItem(t);if(!e)return;let n=JSON.parse(e),i=this.table.querySelectorAll("col");this.fields.forEach((s,o)=>{let r=n[s.id];if(r){let a=i[o+1];a&&(a.style.width=`${r}px`,a.style.minWidth=`${r}px`,a.style.maxWidth=`${r}px`)}})}catch{}}getStorageKey(t){return this.options.viewKey?`ghProjects.table.${this.options.viewKey}.${t}`:""}};var Fe=class{constructor(t){this.selectedIndex=0;this.mounted=!1;this.handleScroll=()=>{this.positionDropdown()};this.handleResize=()=>{this.positionDropdown()};this.config=t,this.container=this.createDropdown(),this.backdrop=this.createBackdrop(),this.selectedIndex=Math.max(0,this.config.options.findIndex(e=>e.id===this.config.currentValue))}createBackdrop(){let t=document.createElement("div");return t.className="field-dropdown-backdrop",t.style.position="fixed",t.style.top="0",t.style.left="0",t.style.right="0",t.style.bottom="0",t.style.zIndex="999",t.style.background="transparent",t.addEventListener("click",e=>{e.stopPropagation(),this.close()}),t.addEventListener("keydown",e=>{e.key==="Escape"&&(e.preventDefault(),e.stopPropagation(),this.close())}),t}createDropdown(){let t=document.createElement("div");if(t.className="field-dropdown",t.style.position="absolute",t.style.background="var(--vscode-menu-background)",t.style.border="1px solid var(--vscode-menu-border)",t.style.borderRadius="4px",t.style.boxShadow="0 2px 8px rgba(0,0,0,0.2)",t.style.minWidth="200px",t.style.maxWidth="350px",t.style.maxHeight="400px",t.style.overflowY="auto",t.style.zIndex="1000",t.style.fontSize="13px",t.setAttribute("role","listbox"),t.setAttribute("aria-label",this.config.title||"Select option"),t.setAttribute("aria-activedescendant",""),this.config.title){let e=document.createElement("div");e.className="field-dropdown-title",e.textContent=this.config.title,e.style.padding="8px 12px",e.style.fontWeight="600",e.style.borderBottom="1px solid var(--vscode-menu-separatorBackground)",e.style.color="var(--vscode-descriptionForeground)",e.style.fontSize="11px",e.style.textTransform="uppercase",t.appendChild(e)}if(this.config.options.length===0){let e=document.createElement("div");e.className="field-dropdown-empty",e.textContent=this.config.emptyMessage||"No options available",e.style.padding="12px",e.style.color="var(--vscode-descriptionForeground)",e.style.fontStyle="italic",t.appendChild(e)}else this.config.options.forEach((e,n)=>{let i=this.createOptionElement(e,n);t.appendChild(i)});return t.addEventListener("keydown",e=>{this.handleKeyDown(e)}),t.tabIndex=0,t}createOptionElement(t,e){let n=document.createElement("div");if(n.className="field-dropdown-option",n.dataset.index=String(e),n.id=`dropdown-option-${e}`,n.style.padding="8px 12px",n.style.cursor="pointer",n.style.display="flex",n.style.alignItems="center",n.style.gap="8px",n.style.color="var(--vscode-menu-foreground)",n.style.transition="background-color 0.1s ease",n.setAttribute("role","option"),n.setAttribute("aria-label",t.label),t.description&&n.setAttribute("aria-description",t.description),t.id===this.config.currentValue?(n.style.background="var(--vscode-menu-selectionBackground)",n.style.color="var(--vscode-menu-selectionForeground)",n.classList.add("selected"),n.setAttribute("aria-selected","true")):n.setAttribute("aria-selected","false"),t.color){let o=document.createElement("div");o.className="field-dropdown-swatch";let r=O(t.color)||"#999";o.style.width="16px",o.style.height="16px",o.style.borderRadius="3px",o.style.background=r,o.style.border="1px solid rgba(0,0,0,0.2)",o.style.flexShrink="0",n.appendChild(o)}let i=document.createElement("div");i.style.flex="1",i.style.minWidth="0";let s=document.createElement("div");if(s.className="field-dropdown-label",s.textContent=t.label,s.style.fontWeight=t.id===null?"600":"normal",s.style.overflow="hidden",s.style.textOverflow="ellipsis",s.style.whiteSpace="nowrap",i.appendChild(s),t.description||t.metadata){let o=document.createElement("div");o.className="field-dropdown-description",o.textContent=t.description||t.metadata?.dateRange||"",o.style.fontSize="11px",o.style.color="var(--vscode-descriptionForeground)",o.style.overflow="hidden",o.style.textOverflow="ellipsis",o.style.whiteSpace="nowrap",o.style.marginTop="2px",i.appendChild(o)}return n.appendChild(i),n.addEventListener("mouseenter",()=>{this.highlightOption(e)}),n.addEventListener("click",o=>{o.stopPropagation(),this.selectOption(t.id)}),n}highlightOption(t){let e=this.container.querySelectorAll(".field-dropdown-option");e.forEach(i=>{let s=i;s.classList.contains("selected")||(s.style.background="transparent",s.style.color="var(--vscode-menu-foreground)")}),this.selectedIndex=t;let n=e[t];n&&(n.classList.contains("selected")||(n.style.background="var(--vscode-list-hoverBackground)",n.style.color="var(--vscode-menu-foreground)")),n&&this.container.setAttribute("aria-activedescendant",n.id)}handleKeyDown(t){switch(t.key){case"ArrowDown":t.preventDefault(),this.selectedIndex=Math.min(this.selectedIndex+1,this.config.options.length-1),this.highlightOption(this.selectedIndex),this.scrollToOption(this.selectedIndex);break;case"ArrowUp":t.preventDefault(),this.selectedIndex=Math.max(this.selectedIndex-1,0),this.highlightOption(this.selectedIndex),this.scrollToOption(this.selectedIndex);break;case"Enter":t.preventDefault();let e=this.config.options[this.selectedIndex];e&&this.selectOption(e.id);break;case"Escape":t.preventDefault(),this.close();break}}scrollToOption(t){let n=this.container.querySelectorAll(".field-dropdown-option")[t];if(n)try{n.scrollIntoView({block:"nearest",behavior:"smooth"})}catch{}}selectOption(t){this.config.onSelect(t),this.close()}close(){this.mounted&&(this.mounted=!1,this.container.parentElement&&this.container.remove(),this.backdrop.parentElement&&this.backdrop.remove(),this.config.onClose())}show(){this.mounted||(this.mounted=!0,document.body.appendChild(this.backdrop),document.body.appendChild(this.container),this.positionDropdown(),setTimeout(()=>{this.container.focus(),this.selectedIndex>=0&&this.scrollToOption(this.selectedIndex)},0),window.addEventListener("scroll",this.handleScroll,!0),window.addEventListener("resize",this.handleResize))}positionDropdown(){let t=this.config.anchorElement.getBoundingClientRect(),e=this.container.getBoundingClientRect(),n=window.innerHeight,i=window.innerWidth,s=t.bottom+4,o=t.left;s+e.height>n&&t.top>e.height&&(s=t.top-e.height-4),o+e.width>i&&(o=Math.max(4,i-e.width-4)),this.container.style.top=`${s}px`,this.container.style.left=`${o}px`}destroy(){window.removeEventListener("scroll",this.handleScroll,!0),window.removeEventListener("resize",this.handleResize),this.close()}};var Nt=3e3,Ne=class{constructor(t){this.activeDropdown=null;this.updatingCells=new Set;this.config=t}attachToCell(t,e,n,i,s,o){let r=e.dataType||e.type;if(r!=="SINGLE_SELECT"&&r!=="ITERATION")return;t.style.cursor="pointer",t.style.userSelect="none",t.classList.add("interactive-cell");let a=c=>{c.stopPropagation();let l=this.getCellKey(n.id,e.id);this.updatingCells.has(l)||this.openDropdownForCell(t,e,n,i,s,o)};t.addEventListener("click",a);let d=c=>{if(c.key==="Enter"||c.key===" "){c.preventDefault(),c.stopPropagation();let l=this.getCellKey(n.id,e.id);if(this.updatingCells.has(l))return;this.openDropdownForCell(t,e,n,i,s,o)}};t.addEventListener("keydown",d),t.tabIndex=0,t.addEventListener("mouseenter",()=>{let c=this.getCellKey(n.id,e.id);this.updatingCells.has(c)||(t.style.outline="1px solid var(--vscode-focusBorder)",t.style.outlineOffset="-1px")}),t.addEventListener("mouseleave",()=>{t.style.outline="none"})}openDropdownForCell(t,e,n,i,s,o){this.activeDropdown&&(this.activeDropdown.destroy(),this.activeDropdown=null);let r=e.dataType||e.type,a=[],d=null;r==="SINGLE_SELECT"?(a=this.buildSingleSelectOptions(e,i),d=i?.option?.id||null):r==="ITERATION"&&(a=this.buildIterationOptions(e,i),d=i?.iterationId||null),this.activeDropdown=new Fe({options:a,currentValue:d,anchorElement:t,title:e.name,emptyMessage:r==="SINGLE_SELECT"?"No options configured":"No iterations configured",onSelect:async c=>{await this.handleOptionSelect(c,n.id,e.id,s,o,t)},onClose:()=>{this.activeDropdown=null}}),this.activeDropdown.show()}buildSingleSelectOptions(t,e){let n=[];return n.push({id:null,label:"Clear",color:void 0}),t.options&&Array.isArray(t.options)&&t.options.forEach(i=>{n.push({id:i.id,label:i.name||i.id,description:i.description,color:i.color})}),n}buildIterationOptions(t,e){let n=[];return n.push({id:null,label:"No iteration",color:void 0}),t.configuration&&t.configuration.iterations&&Array.isArray(t.configuration.iterations)&&t.configuration.iterations.forEach(i=>{let s=this.formatIterationDateRange(i);n.push({id:i.id,label:i.title||"Untitled Iteration",metadata:{dateRange:s}})}),n}formatIterationDateRange(t){if(!t.startDate)return"";try{let e=new Date(t.startDate),n=e.toLocaleDateString("en-US",{month:"short",day:"numeric"});if(t.duration){let i=new Date(e);i.setDate(i.getDate()+t.duration);let s=i.toLocaleDateString("en-US",{month:"short",day:"numeric"});return`${n} - ${s}`}return n}catch{return""}}async handleOptionSelect(t,e,n,i,s,o){let r=this.getCellKey(e,n);this.updatingCells.add(r),this.showCellLoading(o);let a={itemId:e,fieldId:n,value:t,projectId:i,viewKey:s};try{await this.config.onUpdateRequest(a),this.config.onUpdateSuccess(a),this.hideCellLoading(o)}catch(d){let c=d?.message||String(d)||"Update failed";this.config.onUpdateError(a,c),this.showCellError(o,c)}finally{this.updatingCells.delete(r)}}getCellKey(t,e){return`${t}:${e}`}showCellLoading(t){t.style.opacity="0.6",t.style.pointerEvents="none",t.classList.add("updating")}hideCellLoading(t){t.style.opacity="1",t.style.pointerEvents="auto",t.classList.remove("updating")}showCellError(t,e){this.hideCellLoading(t),t.style.outline="2px solid var(--vscode-errorForeground)",t.style.outlineOffset="-2px";let n=document.createElement("div");n.className="cell-error-tooltip",n.textContent=e,n.style.position="absolute",n.style.background="var(--vscode-inputValidation-errorBackground)",n.style.border="1px solid var(--vscode-inputValidation-errorBorder)",n.style.color="var(--vscode-inputValidation-errorForeground)",n.style.padding="6px 10px",n.style.borderRadius="4px",n.style.fontSize="12px",n.style.zIndex="1001",n.style.maxWidth="300px",n.style.wordWrap="break-word",n.style.boxShadow="0 2px 8px rgba(0,0,0,0.3)";let i=t.getBoundingClientRect();n.style.top=`${i.bottom+4}px`,n.style.left=`${i.left}px`,document.body.appendChild(n),setTimeout(()=>{t.style.outline="none",n.remove()},Nt)}destroy(){this.activeDropdown&&(this.activeDropdown.destroy(),this.activeDropdown=null),this.updatingCells.clear()}};var De=class{constructor(t,e={}){this.activePosition=null;this.editMode=!1;this.table=t,this.callbacks=e,this.attachKeyboardHandlers()}attachKeyboardHandlers(){this.table.addEventListener("keydown",t=>this.handleTableKeyDown(t)),this.table.addEventListener("focusin",t=>{let e=t.target;(e.tagName==="TD"||e.tagName==="TH")&&this.updateActivePosition(e)})}handleTableKeyDown(t){let e=t.target;if(!((e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.tagName==="SELECT")&&t.key!=="Escape")){if(this.editMode){this.handleEditModeKeys(t);return}switch(t.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":t.preventDefault(),this.handleArrowNavigation(t.key);break;case"Enter":case"F2":t.preventDefault(),this.enterEditMode();break;case"Tab":break;case" ":let n=this.getActiveCell();n&&n.classList.contains("interactive-cell")&&(t.preventDefault(),this.enterEditMode());break}}}handleEditModeKeys(t){switch(t.key){case"Escape":t.preventDefault(),t.stopPropagation(),this.exitEditMode(!1);break;case"Enter":t.target.tagName!=="TEXTAREA"&&(t.preventDefault(),this.exitEditMode(!0));break}}handleArrowNavigation(t){this.activePosition||(this.activePosition={rowIndex:0,colIndex:0});let{rowIndex:e,colIndex:n}=this.activePosition,i={...this.activePosition};switch(t){case"ArrowUp":i.rowIndex=Math.max(0,e-1);break;case"ArrowDown":i.rowIndex=e+1;break;case"ArrowLeft":i.colIndex=Math.max(0,n-1);break;case"ArrowRight":i.colIndex=n+1;break}this.moveToCell(i)}moveToCell(t){let e=this.table.querySelector("tbody");if(!e)return;let n=Array.from(e.querySelectorAll("tr[data-gh-item-id]"));if(t.rowIndex>=n.length)return;let i=n[t.rowIndex],s=Array.from(i.querySelectorAll("td"));if(t.colIndex>=s.length)return;let o=s[t.colIndex];if(o){this.activePosition=t,o.focus();try{o.scrollIntoView({block:"nearest",inline:"nearest",behavior:"smooth"})}catch{}this.callbacks.onCellFocus&&this.callbacks.onCellFocus(o,t)}}updateActivePosition(t){let e=t.closest("tr[data-gh-item-id]");if(!e)return;let n=this.table.querySelector("tbody");if(!n)return;let s=Array.from(n.querySelectorAll("tr[data-gh-item-id]")).indexOf(e);if(s===-1)return;let r=Array.from(e.querySelectorAll("td")).indexOf(t);r!==-1&&(this.activePosition={rowIndex:s,colIndex:r})}enterEditMode(){let t=this.getActiveCell();!t||!this.activePosition||!(t.classList.contains("interactive-cell")||t.querySelector("input, textarea, select"))||(this.editMode=!0,this.callbacks.onEnterEditMode&&this.callbacks.onEnterEditMode(t,this.activePosition))}exitEditMode(t){this.editMode=!1,this.callbacks.onExitEditMode&&this.callbacks.onExitEditMode(t);let e=this.getActiveCell();e&&e.focus()}getActiveCell(){if(!this.activePosition)return null;let t=this.table.querySelector("tbody");if(!t)return null;let n=Array.from(t.querySelectorAll("tr[data-gh-item-id]"))[this.activePosition.rowIndex];return n&&Array.from(n.querySelectorAll("td"))[this.activePosition.colIndex]||null}makeCellsFocusable(){let t=this.table.querySelector("tbody");if(!t)return;t.querySelectorAll("td").forEach(i=>{let s=i;s.hasAttribute("tabindex")||(s.tabIndex=-1)});let n=t.querySelector("tr[data-gh-item-id]");if(n){let i=n.querySelector("td");i&&(i.tabIndex=0)}}destroy(){}setEditMode(t){this.editMode=t}isInEditMode(){return this.editMode}};var Re=class{constructor(t){this.menuElement=null;this.backdropElement=null;this.options=t}show(){this.hide(),this.backdropElement=document.createElement("div"),this.backdropElement.style.position="fixed",this.backdropElement.style.top="0",this.backdropElement.style.left="0",this.backdropElement.style.right="0",this.backdropElement.style.bottom="0",this.backdropElement.style.zIndex="998",this.backdropElement.addEventListener("click",()=>this.hide()),document.body.appendChild(this.backdropElement),this.menuElement=document.createElement("div"),this.menuElement.className="add-item-menu",this.menuElement.style.position="absolute",this.menuElement.style.background="var(--vscode-menu-background)",this.menuElement.style.border="1px solid var(--vscode-menu-border)",this.menuElement.style.borderRadius="4px",this.menuElement.style.boxShadow="0 2px 8px rgba(0,0,0,0.15)",this.menuElement.style.minWidth="220px",this.menuElement.style.padding="4px 0",this.menuElement.style.zIndex="1000",this.menuElement.style.fontSize="13px",document.body.appendChild(this.menuElement),this.buildMenu();let t=this.options.anchorElement.getBoundingClientRect(),e=this.menuElement.getBoundingClientRect(),n=8,i=window.innerWidth||document.documentElement.clientWidth,s=window.innerHeight||document.documentElement.clientHeight,o=t.bottom+n;t.bottom+e.height+n>s&&(t.top-e.height-n>=0?o=t.top-e.height-n:o=Math.max(n,Math.min(s-e.height-n,t.bottom+n)));let r=t.left;t.left+e.width+n>i&&(r=Math.max(n,t.right-e.width)),r=Math.max(n,Math.min(r,i-e.width-n)),this.menuElement.style.top=`${Math.round(o)}px`,this.menuElement.style.left=`${Math.round(r)}px`}hide(){this.menuElement&&(this.menuElement.remove(),this.menuElement=null),this.backdropElement&&(this.backdropElement.remove(),this.backdropElement=null)}buildMenu(){if(!this.menuElement)return;let t=(e,n,i,s)=>{let o=document.createElement("div");o.className="add-item-menu-item",o.style.display="flex",o.style.alignItems="center",o.style.padding="6px 12px",o.style.cursor="pointer",o.style.color="var(--vscode-menu-foreground)";let r=document.createElement("span");r.style.display="inline-flex",r.style.alignItems="center",r.style.justifyContent="center",r.style.marginRight="8px",r.innerHTML=window.getIconSvg?.(e)||"",o.appendChild(r);let a=document.createElement("div");a.style.display="flex",a.style.flexDirection="column",a.style.flex="1";let d=document.createElement("div");if(d.textContent=n,d.style.fontWeight="500",a.appendChild(d),i){let c=document.createElement("div");c.textContent=i,c.style.fontSize="11px",c.style.color="var(--vscode-descriptionForeground)",a.appendChild(c)}o.appendChild(a),o.addEventListener("mouseenter",()=>{o.style.background="var(--vscode-menu-selectionBackground)",o.style.color="var(--vscode-menu-selectionForeground)"}),o.addEventListener("mouseleave",()=>{o.style.background="transparent",o.style.color="var(--vscode-menu-foreground)"}),o.addEventListener("click",()=>{s(),this.hide()}),this.menuElement.appendChild(o)};t("issue-opened","Create new issue","Create a project issue in a repository.",this.options.onCreateIssue),t("repo","Add item from repository","Attach an existing issue or pull request from a repo.",this.options.onAddFromRepo)}};var Pe=class{constructor(t,e,n,i={}){this.activeMenu=null;this.activeFieldsMenu=null;this.activeSlicePanel=null;this.activeSlice=null;this.activeSlicePanelFieldId=null;this.tableResizer=null;this.interactiveCellManager=null;this.keyboardNavigator=null;this.container=t,this.allFields=(e||[]).map(r=>({...r,id:String(r.id)})),this.options=i,this.items=n;let s=this.loadHiddenFields().map(r=>String(r)),o=(i.hiddenFields||[]).map(r=>String(r));this.hiddenFieldIds=new Set([...s,...o]),this.fields=this.allFields.filter(r=>!this.hiddenFieldIds.has(r.id));try{console.debug("[ProjectTable] init: allFieldIds=",this.allFields.map(r=>r.id)),console.debug("[ProjectTable] init: hiddenFieldIds=",Array.from(this.hiddenFieldIds)),console.debug("[ProjectTable] init: visibleFieldIds=",this.fields.map(r=>r.id))}catch{}try{let r={allFieldIds:this.allFields.map(a=>String(a.id)),hiddenFieldIds:Array.from(this.hiddenFieldIds),visibleFieldIds:this.fields.map(a=>String(a.id))};window.__APP_MESSAGING__&&typeof window.__APP_MESSAGING__.postMessage=="function"&&window.__APP_MESSAGING__.postMessage({command:"debugLog",level:"debug",message:"ProjectTable init",data:r,viewKey:this.options.viewKey})}catch{}this.applyFieldOrder(),this.options.onFieldUpdate&&(this.interactiveCellManager=new Ne({onUpdateRequest:async r=>{this.options.onFieldUpdate&&await this.options.onFieldUpdate(r)},onUpdateSuccess:r=>{this.render()},onUpdateError:(r,a)=>{console.error("Field update error:",a)}}))}render(){let t=this.container.querySelector(".slice-panel");this.container.innerHTML="",t&&this.container.appendChild(t);let e=document.createElement("div");e.className="table-wrapper",e.style.overflowX="auto",e.style.overflowY="auto",e.style.width="100%",e.style.display="block",e.style.height="100%";let n=document.createElement("table");n.style.borderCollapse="separate",n.style.borderSpacing="0",n.style.tableLayout="fixed",n.style.width="100%",n.setAttribute("role","grid"),n.setAttribute("aria-label","Project items table"),n.setAttribute("aria-rowcount",String(this.items.length)),n.setAttribute("aria-colcount",String(this.fields.length+1)),this.renderColGroup(n),new se({fields:this.fields,sortConfig:this.options.sortConfig,groupingFieldName:this.options.groupingFieldName,activeSlice:this.activeSlice,activeSlicePanelFieldId:this.activeSlicePanelFieldId,onHeaderMenu:this.showHeaderMenu.bind(this),onShowFieldsMenu:this.showFieldsMenu.bind(this),onClearGroup:this.clearGroup.bind(this),onClearSlice:this.clearSlice.bind(this)}).render(n),this.renderBody(n),e.appendChild(n),this.container.appendChild(e),this.tableResizer=new He(n,this.fields,this.options),this.tableResizer.setupResizers(),this.keyboardNavigator=new De(n,{onEnterEditMode:(i,s)=>{i.classList.contains("interactive-cell")&&i.click()},onExitEditMode:i=>{},onCellFocus:(i,s)=>{this.updateCellFocusIndicator(i)}}),this.keyboardNavigator.makeCellsFocusable()}getVisibleFieldIds(){return this.fields.map(t=>String(t.id))}toggleFieldVisibility(t,e){try{let n=String(t);e?this.hiddenFieldIds.delete(n):this.hiddenFieldIds.add(n),this.fields=this.allFields.filter(i=>!this.hiddenFieldIds.has(i.id));try{this.options.onHiddenFieldsChange&&this.options.onHiddenFieldsChange(Array.from(this.hiddenFieldIds))}catch{}this.render()}catch{}}setGroupingField(t){try{this.options.onGroupChange&&this.options.onGroupChange(t||""),this.options.groupingFieldName=t||void 0;try{let e={action:"setGroupingField",fieldName:t||null,viewKey:this.options.viewKey};window.__APP_MESSAGING__&&typeof window.__APP_MESSAGING__.postMessage=="function"&&(window.__APP_MESSAGING__.postMessage({command:"debugLog",level:"debug",message:"ProjectTable.setGroupingField",data:e,viewKey:this.options.viewKey}),window.__APP_MESSAGING__.postMessage({command:"debugLog",level:"info",message:"ProjectTable.setGroupingField",data:e,viewKey:this.options.viewKey}))}catch{}this.render()}catch{}}renderColGroup(t){let e=document.createElement("colgroup"),n=document.createElement("col");n.style.width="40px",e.appendChild(n);for(let s of this.fields){let o=document.createElement("col");o.style.width="150px",o.dataset.fieldId=s.id,e.appendChild(o)}let i=document.createElement("col");i.style.width="50px",e.appendChild(i),t.appendChild(e)}showFieldsMenu(t){this.activeMenu&&(this.activeMenu.hide(),this.activeMenu=null),this.activeFieldsMenu&&(this.activeFieldsMenu.hide(),this.activeFieldsMenu=null);let e=new Set(this.allFields.filter(i=>!this.hiddenFieldIds.has(String(i.id))).map(i=>String(i.id)));try{console.debug("[ProjectTable] showFieldsMenu: hiddenFieldIds=",Array.from(this.hiddenFieldIds)),console.debug("[ProjectTable] showFieldsMenu: allFieldIds=",this.allFields.map(i=>i.id))}catch{}let n=new Ze({fields:this.allFields.map(i=>({id:i.id,name:i.name,iconClass:i.iconClass,dataType:i.dataType||i.type,locked:i.name==="Title"})),visibleFieldIds:e,onToggleVisibility:(i,s)=>{s?this.showField(i):this.hideField(i)},onCreateField:()=>{try{console.log("Create field requested")}catch{}}});this.activeFieldsMenu=n,n.show(t)}renderBody(t){let e=document.createElement("tbody"),n=this.items;this.options.sortConfig&&(n=ae(this.items,this.fields,this.options.sortConfig)),this.activeSlice&&(n=n.filter(o=>{let r=o.fieldValues.find(l=>String(l.fieldId)===String(this.activeSlice.fieldId)),a=this.allFields.find(l=>l.id===this.activeSlice.fieldId),d=a?(a.dataType||a.type||"").toLowerCase():"",c=null;if(!r)c=null;else if(r.text!==void 0)c=r.text;else if(r.title!==void 0)c=r.title;else if(r.number!==void 0)c=r.number;else if(r.date!==void 0)c=r.date;else if(r.option)c=r.option.name;else if(r.iteration)c=r.iteration.title;else if(r.assignees)c=r.assignees;else if(r.labels)c=r.labels;else if(d==="parent_issue"){let l=r.parent||r.parentIssue||r.issue||r.item||r.value||null;l&&(c=l.title||l.name||l.number||l.id||l.url||null)}else d==="milestone"?c=r.milestone?.title||r.milestone?.name||r.value||null:d==="repository"?c=r.repository?.nameWithOwner||r.repository?.full_name||r.repository?.name||r.value||null:c=r.value;if(this.activeSlice.value===null)return d==="assignees"||d==="labels"?!c||Array.isArray(c)&&c.length===0:c==null;if(d==="assignees"||d==="labels"){if(!Array.isArray(c))return!1;if(d==="assignees")return c.some(l=>l&&(l.login===this.activeSlice.value?.login||l.id===this.activeSlice.value?.id));if(d==="labels")return c.some(l=>l&&(l.name===this.activeSlice.value||l.id===this.activeSlice.value))}else return c===this.activeSlice.value}));let i=this.getGroupingField(),s=new Ae(this.fields,this.items,(o,r,a)=>{this.tableResizer&&this.tableResizer.beginColumnResize(o,r,a)},(o,r,a,d)=>{this.interactiveCellManager&&this.options.projectId&&this.options.viewKey&&this.interactiveCellManager.attachToCell(o,r,a,d,this.options.projectId,this.options.viewKey)},this.options.projectId,this.options.viewKey,this.options.onFieldUpdate&&this.options.projectId&&this.options.viewKey?(o,r,a)=>this.options.onFieldUpdate({itemId:o,fieldId:r,value:a,projectId:this.options.projectId,viewKey:this.options.viewKey}):void 0);i?this.renderGroupedRows(e,i,n,s):this.renderFlatRows(e,n,s),this.renderAddItemRow(e),t.appendChild(e)}getGroupingField(){return this.options.groupingFieldName?this.fields.find(t=>t.name&&t.name.toLowerCase()===this.options.groupingFieldName?.toLowerCase()||t.id&&t.id===this.options.groupingFieldName):null}renderFlatRows(t,e,n){e.forEach((i,s)=>{let o=n.createRow(i,s);t.appendChild(o)})}renderAddItemRow(t){let e=document.createElement("tr");e.className="add-item-row",e.setAttribute("role","row"),e.style.transition="background-color 0.15s ease",e.addEventListener("mouseenter",()=>{e.style.backgroundColor="var(--vscode-list-hoverBackground)"}),e.addEventListener("mouseleave",()=>{e.style.backgroundColor="transparent"});let n=document.createElement("td");n.colSpan=this.fields.length+1,n.setAttribute("data-add-item-row","true"),n.setAttribute("role","gridcell"),n.setAttribute("aria-colspan",String(this.fields.length+1)),n.setAttribute("aria-label","+ Add item"),n.style.padding="8px 12px",n.style.cursor="pointer",n.style.userSelect="none",n.style.borderBottom="1px solid var(--vscode-panel-border)",n.style.color="var(--vscode-foreground)",n.style.fontWeight="400",n.style.textAlign="left";let i=document.createElement("span");i.textContent="+ Add item",i.style.opacity="0.9",n.appendChild(i),e.appendChild(n),e.tabIndex=0;let s=()=>{new Re({anchorElement:n,onCreateIssue:()=>{try{let r=window.__APP_MESSAGING__;r&&typeof r.postMessage=="function"&&r.postMessage({command:"addItem:createIssue",viewKey:this.options.viewKey,projectId:this.options.projectId})}catch(r){console.error("[ProjectTable] create-issue action failed",r)}},onAddFromRepo:()=>{try{let r=window.__APP_MESSAGING__;r&&typeof r.postMessage=="function"&&r.postMessage({command:"addItem:addFromRepo",viewKey:this.options.viewKey,projectId:this.options.projectId})}catch(r){console.error("[ProjectTable] add-from-repo action failed",r)}}}).show()};e.addEventListener("click",()=>{s()}),e.addEventListener("keydown",o=>{(o.key==="Enter"||o.key===" ")&&(o.preventDefault(),o.stopPropagation(),s())}),t.appendChild(e)}renderGroupedRows(t,e,n,i){let s=J.groupItems(n,e),o=this.options&&this.options.viewKey&&window.__viewStates?window.__viewStates[this.options.viewKey]?.groupDivisors:void 0,r=new _e(this.fields,this.items,o);for(let a of s)r.renderGroup(t,a,e,i)}showHeaderMenu(t,e,n){t.stopPropagation(),this.activeMenu&&this.activeMenu.hide();let i=String(e.dataType||e.type||"").toLowerCase(),s=new Set(["assignees","single_select","parent_issue","iteration","number","date","milestone","repository","text","single_line_text"]),o=new Set(["assignees","single_select","parent_issue","iteration","number","date","milestone","repository","labels","text","single_line_text"]),r=s.has(i),a=o.has(i),d=!!(this.options.groupingFieldName&&e.name&&e.name.toLowerCase()===this.options.groupingFieldName.toLowerCase()),c=!!(this.activeSlice&&this.activeSlice.fieldId===e.id||this.activeSlicePanelFieldId&&String(this.activeSlicePanelFieldId)===String(e.id)),l=this.options.sortConfig&&this.options.sortConfig.fieldId===e.id?this.options.sortConfig.direction:null,p=this.fields.findIndex(C=>C.id===e.id),y=p===0,x=p===this.fields.length-1;this.activeMenu=new ie(e,{canGroup:r,canSlice:a,canFilter:!1,isGrouped:d,isSliced:c,currentSort:l,isFirst:y,isLast:x,onSort:C=>this.handleSort(e,C),onClearSort:()=>this.clearSort(e),onGroup:()=>this.handleGroup(e),onClearGroup:()=>this.clearGroup(e),onSlice:()=>this.handleSlice(e),onClearSlice:()=>this.clearSlice(e),onHide:()=>this.hideField(e.id),onMove:C=>this.handleMove(e,C)}),this.activeMenu.show(n)}clearGroup(t){if(this.options.groupingFieldName=void 0,this.options.onGroupChange)try{this.options.onGroupChange("")}catch{}this.render()}clearSlice(t){this.activeSlice=null,this.activeSlicePanel&&(this.activeSlicePanel.close(),this.activeSlicePanel=null),this.activeSlicePanelFieldId=null,this.container.style.display="block",this.render(),this.options.onSliceChange&&this.options.onSliceChange(null)}clearSort(t){this.options.sortConfig=void 0,this.render(),this.options.onSortChange&&this.options.onSortChange(null)}showHiddenFieldsMenu(t){this.activeMenu&&this.activeMenu.hide();let e=this.allFields.filter(a=>this.hiddenFieldIds.has(String(a.id)));if(e.length===0){let a=document.createElement("div");a.textContent="No hidden fields",a.style.position="absolute",a.style.background="var(--vscode-menu-background)",a.style.border="1px solid var(--vscode-menu-border)",a.style.borderRadius="4px",a.style.padding="12px",a.style.fontSize="13px",a.style.color="var(--vscode-descriptionForeground)",a.style.zIndex="1000";let d=t.getBoundingClientRect();a.style.top=`${d.bottom+4}px`,a.style.left=`${d.left}px`,document.body.appendChild(a),setTimeout(()=>a.remove(),2e3);return}let n=document.createElement("div");n.style.position="absolute",n.style.background="var(--vscode-menu-background)",n.style.border="1px solid var(--vscode-menu-border)",n.style.borderRadius="4px",n.style.padding="4px 0",n.style.minWidth="180px",n.style.zIndex="1000",n.style.fontSize="13px";let i=t.getBoundingClientRect();n.style.top=`${i.bottom+4}px`,n.style.left=`${i.left}px`;let s=document.createElement("div");s.textContent="Show field",s.style.padding="6px 12px",s.style.fontWeight="600",s.style.color="var(--vscode-descriptionForeground)",s.style.fontSize="11px",s.style.textTransform="uppercase",n.appendChild(s);let o=document.createElement("div");o.style.height="1px",o.style.background="var(--vscode-menu-separatorBackground)",o.style.margin="4px 0",n.appendChild(o),e.forEach(a=>{let d=document.createElement("div");d.textContent=a.name||a.id,d.style.padding="6px 12px",d.style.cursor="pointer",d.style.color="var(--vscode-menu-foreground)",d.addEventListener("mouseenter",()=>{d.style.background="var(--vscode-menu-selectionBackground)",d.style.color="var(--vscode-menu-selectionForeground)"}),d.addEventListener("mouseleave",()=>{d.style.background="transparent",d.style.color="var(--vscode-menu-foreground)"}),d.addEventListener("click",()=>{this.showField(a.id),n.remove(),r.remove()}),n.appendChild(d)});let r=document.createElement("div");r.style.position="fixed",r.style.top="0",r.style.left="0",r.style.right="0",r.style.bottom="0",r.style.zIndex="999",r.addEventListener("click",()=>{n.parentElement&&n.remove(),r.parentElement&&r.remove()}),document.body.appendChild(n),document.body.appendChild(r)}handleSort(t,e){let n={fieldId:t.id,direction:e};this.options.sortConfig=n,this.render(),this.options.onSortChange&&this.options.onSortChange(n)}handleGroup(t){if(t&&t.name&&(this.options.groupingFieldName=t.name,this.render(),this.options.onGroupChange))try{this.options.onGroupChange(t.name)}catch{}}handleSlice(t){this.activeSlicePanel&&(this.activeSlicePanel.close(),this.activeSlicePanel=null),this.activeSlicePanel=new oe(this.container,t,this.items,this.allFields),this.activeSlicePanel.render();try{this.activeSlicePanelFieldId=String(t.id)}catch{this.activeSlicePanelFieldId=null}let e=this.container.querySelector(".table-wrapper");if(e){let n=this.container.querySelector(".slice-panel");n&&this.container.insertBefore(n,e)}this.container.style.display="flex",this.container.style.flexDirection="row",this.container.style.gap="0",this.render(),this.activeSlicePanel.onValueSelect(n=>{this.activeSlice={fieldId:t.id,value:n},this.render()}),this.activeSlicePanel.onFieldChange(n=>{this.activeSlice=null,this.handleSlice(n),this.options.onSliceChange&&this.options.onSliceChange(n)}),this.options.onSliceChange&&this.options.onSliceChange(t)}hideField(t){let e=String(t);this.hiddenFieldIds.add(e);try{console.debug("[ProjectTable] hideField -> added",e,"hiddenFieldIds=",Array.from(this.hiddenFieldIds))}catch{}if(this.options.onHiddenFieldsChange){this.fields=this.allFields.filter(n=>!this.hiddenFieldIds.has(n.id));try{this.applyFieldOrder()}catch{}try{this.options.onHiddenFieldsChange(Array.from(this.hiddenFieldIds))}catch{}this.render()}else{this.saveHiddenFields(),this.fields=this.allFields.filter(n=>!this.hiddenFieldIds.has(n.id));try{this.applyFieldOrder()}catch{}this.render()}}showField(t){let e=String(t);this.hiddenFieldIds.delete(e);try{console.debug("[ProjectTable] showField -> removed",e,"hiddenFieldIds=",Array.from(this.hiddenFieldIds))}catch{}if(this.options.onHiddenFieldsChange){this.fields=this.allFields.filter(n=>!this.hiddenFieldIds.has(n.id));try{this.applyFieldOrder()}catch{}try{this.options.onHiddenFieldsChange(Array.from(this.hiddenFieldIds))}catch{}this.render()}else{this.saveHiddenFields(),this.fields=this.allFields.filter(n=>!this.hiddenFieldIds.has(n.id));try{this.applyFieldOrder()}catch{}this.render()}}handleMove(t,e){let n=this.fields.findIndex(i=>i.id===t.id);e==="left"&&n>0?[this.fields[n],this.fields[n-1]]=[this.fields[n-1],this.fields[n]]:e==="right"&&n<this.fields.length-1&&([this.fields[n],this.fields[n+1]]=[this.fields[n+1],this.fields[n]]),this.saveFieldOrder(),this.render()}getStorageKey(t){return this.options.viewKey?`ghProjects.table.${this.options.viewKey}.${t}`:""}loadHiddenFields(){let t=this.getStorageKey("hiddenFields");if(!t)return[];try{let e=localStorage.getItem(t),i=((e?JSON.parse(e):[])||[]).map(s=>String(s));try{console.debug("[ProjectTable] loadHiddenFields ->",i)}catch{}return i}catch{return[]}}saveHiddenFields(){let t=this.getStorageKey("hiddenFields");if(!t)return;let e=Array.from(this.hiddenFieldIds).map(n=>String(n));try{console.debug("[ProjectTable] saveHiddenFields ->",e)}catch{}localStorage.setItem(t,JSON.stringify(e))}saveSortConfig(t){let e=this.getStorageKey("sortConfig");e&&localStorage.setItem(e,JSON.stringify(t))}saveFieldOrder(){let t=this.getStorageKey("fieldOrder");if(!t)return;let e=this.fields.map(n=>n.id);localStorage.setItem(t,JSON.stringify(e))}applyFieldOrder(){let t=this.getStorageKey("fieldOrder");if(t)try{let e=localStorage.getItem(t);if(!e)return;let n=JSON.parse(e),i=[];for(let s of n){let o=this.fields.find(r=>String(r.id)===String(s));o&&i.push(o)}for(let s of this.fields)i.find(o=>o.id===s.id)||i.push(s);this.fields=i}catch{}}async handleFieldUpdate(t,e,n){try{if(window.__APP_MESSAGING__&&typeof window.__APP_MESSAGING__.postMessage=="function"){window.__APP_MESSAGING__.postMessage({command:"updateFieldValue",viewKey:this.options.viewKey,itemId:t,fieldId:e,value:n});let i=this.items.find(s=>String(s.id)===String(t));if(i){let s=i.fieldValues.find(o=>String(o.fieldId)===String(e)||o.fieldName===this.fields.find(r=>String(r.id)===String(e))?.name);s&&(n.labelIds!==void 0?s.labels=n.labelIds.map(o=>({id:o})):n.assigneeLogins!==void 0?s.assignees=n.assigneeLogins.map(o=>({login:o})):n.reviewerLogins!==void 0?s.reviewers=n.reviewerLogins.map(o=>({login:o})):n.milestoneId!==void 0&&(s.milestone=n.milestoneId?{id:n.milestoneId}:null)),this.render()}}}catch(i){throw console.error("Failed to update field value:",i),i}}updateCellFocusIndicator(t){this.container.querySelectorAll("td.focused").forEach(n=>{n.classList.remove("focused")}),t.classList.add("focused")}};function qe(u,t){u.innerHTML='<div class="title">'+t+'</div><div class="loading"><em>Loading...</em></div>'}function Ke(u,t,e){u.innerHTML='<div class="title">'+t+'</div><div style="color:var(--vscode-editor-foreground)">'+e+"</div>"}function Ye(u){let t=document.createElement("button");return t.type="button",t.textContent="Load more",t.style.marginLeft="8px",t.style.border="1px solid var(--vscode-editorWidget-border)",t.addEventListener("click",()=>{u(),t.disabled=!0,t.textContent="Loading..."}),t}function ut(u,t,e){if(window.filterBarHelper&&typeof window.filterBarHelper.create=="function")try{return window.filterBarHelper.create({parent:u,suffix:e.suffix||t,effFilter:typeof e.effFilter=="string"?e.effFilter:void 0,viewKey:t,step:e.step||50,onLoadMore:e.onLoadMore,onSave:e.onSave,onDiscard:e.onDiscard})}catch{return null}return null}var z=class z{static closeAll(){try{for(let t of Array.from(z.menus)){try{try{let e=t&&t.dataset&&t.dataset.menuType||null;if(e){let n=Array.from(document.querySelectorAll(`[data-menu-type="${e}"]`));for(let i of n)try{i.remove()}catch{}}}catch{}t&&t.parentElement&&t.parentElement.removeChild(t)}catch{}z.refreshMap.delete(t)}}catch{}z.menus.clear()}static register(t,e){t&&(z.menus.add(t),e&&z.refreshMap.set(t,e))}static unregister(t){t&&(z.menus.delete(t),z.refreshMap.delete(t))}static refreshAll(){try{for(let t of Array.from(z.menus)){let e=z.refreshMap.get(t);try{e&&e()}catch{}}}catch{}}};z.menus=new Set,z.refreshMap=new WeakMap;var Je=z,Be=Je;var Xe=class{constructor(t){this.buttonEl=null;this.menuEl=null;this.backdropEl=null;this.openSubmenuEl=null;this.externalSubmenuRefresh=null;this.anchorElement=t.anchorElement,this.itemsSource=t.items||[],this.attachButton()}attachButton(){let t=document.createElement("button");t.className="active-tab-menu-button",t.type="button",t.title="Open view menu",t.style.border="none",t.style.background="transparent",t.style.padding="0 4px",t.style.marginLeft="8px",t.style.cursor="pointer",t.style.display="inline-flex",t.style.alignItems="center";try{let i=window.getComputedStyle(this.anchorElement);i&&i.color&&(t.style.color=i.color)}catch{}let e=document.createElement("span");e.style.display="inline-flex",e.style.alignItems="center",e.style.justifyContent="center",e.style.height="16px",e.style.width="16px",e.style.lineHeight="1",e.innerHTML=window.getIconSvg?.("triangle-down")||"",e.querySelectorAll("svg").forEach(i=>i.setAttribute("fill","currentColor")),t.appendChild(e),t.addEventListener("click",i=>{i.stopPropagation(),this.toggle()}),this.buttonEl=t,this.anchorElement.parentElement&&this.anchorElement.parentElement.insertBefore(t,this.anchorElement.nextSibling)}toggle(){this.menuEl?this.hide():this.show()}show(){try{Be.closeAll()}catch{}this.hide(),this.backdropEl=document.createElement("div"),this.backdropEl.style.position="fixed",this.backdropEl.style.top="0",this.backdropEl.style.left="0",this.backdropEl.style.right="0",this.backdropEl.style.bottom="0",this.backdropEl.style.zIndex="998",this.backdropEl.addEventListener("click",()=>this.hide()),this.backdropEl.dataset.menuType="active-tab-menu",document.body.appendChild(this.backdropEl),this.menuEl=document.createElement("div"),this.menuEl.className="active-tab-menu",this.menuEl.dataset.menuType="active-tab-menu",this.menuEl.style.position="absolute",this.menuEl.style.background="var(--vscode-menu-background)",this.menuEl.style.border="1px solid var(--vscode-menu-border)",this.menuEl.style.borderRadius="4px",this.menuEl.style.boxShadow="0 2px 8px rgba(0,0,0,0.15)",this.menuEl.style.width="320px",this.menuEl.style.padding="4px 0",this.menuEl.style.zIndex="1000",this.menuEl.style.fontSize="13px",document.body.appendChild(this.menuEl);let t=typeof this.itemsSource=="function"?this.itemsSource():this.itemsSource;this.buildMenu(this.menuEl,t);let e=(this.buttonEl||this.anchorElement).getBoundingClientRect(),n=this.menuEl.getBoundingClientRect(),i=8,s=window.innerWidth||document.documentElement.clientWidth,o=window.innerHeight||document.documentElement.clientHeight,r=e.bottom+i;e.bottom+n.height+i>o&&(e.top-n.height-i>=0?r=e.top-n.height-i:r=Math.max(i,Math.min(o-n.height-i,e.bottom+i)));try{Be.register(this.menuEl,this.refresh.bind(this))}catch{}let a=e.left;e.left+n.width+i>s&&(a=Math.max(i,e.right-n.width)),a=Math.max(i,Math.min(a,s-n.width-i)),this.menuEl.style.top=`${Math.round(r)}px`,this.menuEl.style.left=`${Math.round(a)}px`}hide(){this.menuEl&&(this.menuEl.remove(),this.menuEl=null),this.backdropEl&&(this.backdropEl.remove(),this.backdropEl=null),this.closeOpenSubmenu()}refresh(){if(this.menuEl){this.menuEl.innerHTML="";let t=typeof this.itemsSource=="function"?this.itemsSource():this.itemsSource;this.buildMenu(this.menuEl,t);try{this.externalSubmenuRefresh&&this.externalSubmenuRefresh()}catch{}}}destroy(){try{this.hide()}catch{}if(this.buttonEl){try{this.buttonEl.remove()}catch{}this.buttonEl=null}}buildMenu(t,e){e.forEach(n=>{let i=document.createElement("div");if(i.className="active-tab-menu-item",i.style.display="flex",i.style.alignItems="center",i.style.padding="6px 12px",i.style.cursor="pointer",i.style.color="var(--vscode-menu-foreground)",n.iconName&&window.getIconSvg){let o=document.createElement("span");o.style.display="inline-flex",o.style.alignItems="center",o.style.justifyContent="center",o.style.marginRight="8px",o.innerHTML=window.getIconSvg(n.iconName)||"";try{o.querySelectorAll&&o.querySelectorAll("svg").forEach(r=>r.setAttribute("fill","currentColor"))}catch{}i.appendChild(o)}let s=document.createElement("div");if(s.style.flex="1",s.style.minWidth="0",s.style.overflow="hidden",s.style.whiteSpace="nowrap",s.style.textOverflow="ellipsis",s.style.marginRight="8px",n.info){let o=document.createElement("span");o.style.fontWeight="600",o.textContent=n.label+": ",s.appendChild(o);let r=document.createElement("span");r.style.opacity="0.7",r.textContent=n.info,s.appendChild(r)}else s.style.fontWeight="500",s.textContent=n.label;if(i.appendChild(s),n.children&&n.children.length||n.forceChevron){let o=document.createElement("span");o.innerHTML=window.getIconSvg?.("chevron-right")||"\u203A",o.style.marginLeft="auto",o.style.flex="0 0 auto",o.style.opacity="0.7",i.appendChild(o),n.children&&n.children.length&&(i.addEventListener("mouseenter",r=>{this.openSubmenuForRow(i,n.children)}),i.addEventListener("mouseleave",r=>{}))}n.children&&n.children.length||i.addEventListener("click",o=>{try{o.stopPropagation()}catch{}try{try{this.closeOpenSubmenu()}catch{}try{document.querySelectorAll(".roadmap-dropdown-menu").forEach(d=>d.remove())}catch{}let r=i.getBoundingClientRect(),a=n.onClick?n.onClick(i,r):void 0;a&&typeof a.then=="function"?a.then(d=>{d||this.hide()}).catch(()=>this.hide()):a||this.hide()}catch{try{this.hide()}catch{}}}),i.addEventListener("mouseenter",()=>{i.style.background="var(--vscode-menu-selectionBackground)",i.style.color="var(--vscode-menu-selectionForeground)"}),i.addEventListener("mouseleave",()=>{i.style.background="transparent",i.style.color="var(--vscode-menu-foreground)"}),t.appendChild(i)})}openSubmenuForRow(t,e){if(this.closeOpenSubmenu(),!this.menuEl)return;let n=document.createElement("div");n.className="active-tab-submenu",n.style.position="absolute",n.style.background="var(--vscode-menu-background)",n.style.border="1px solid var(--vscode-menu-border)",n.style.borderRadius="4px",n.style.boxShadow="0 2px 8px rgba(0,0,0,0.15)",n.style.minWidth="160px",n.style.padding="4px 0",n.style.zIndex="1001",n.style.fontSize="13px",document.body.appendChild(n),this.buildMenu(n,e);let i=t.getBoundingClientRect(),s=n.getBoundingClientRect(),o=this.menuEl.getBoundingClientRect(),r=window.innerWidth||document.documentElement.clientWidth,a=window.innerHeight||document.documentElement.clientHeight,d=4,c=i.top;c+s.height>a&&(c=Math.max(d,Math.min(a-s.height-d,c)));try{document.querySelectorAll(".roadmap-dropdown-menu").forEach(p=>p.remove())}catch{}let l=i.right+4;l+s.width>r&&(l=i.left-s.width-4,l<d&&(l=Math.max(d,Math.min(o.right+4,r-s.width-d)))),n.style.top=`${Math.round(c)}px`,n.style.left=`${Math.round(l)}px`,this.openSubmenuEl=n,n.addEventListener("mouseleave",()=>{setTimeout(()=>{this.openSubmenuEl===n&&this.closeOpenSubmenu()},150)})}closeOpenSubmenu(){this.openSubmenuEl&&(this.openSubmenuEl.remove(),this.openSubmenuEl=null,this.externalSubmenuRefresh=null)}registerExternalSubmenu(t,e){try{this.closeOpenSubmenu()}catch{}if(t){this.openSubmenuEl=t,this.externalSubmenuRefresh=e||null;try{Be.register(t,e||null)}catch{}}}},pt=Xe;function yt(){let u=document.getElementById("tabs-container");if(!u)return;let t=null,e=u;function n(o){if(!o)return;let r=o.__activeTabMenu;if(r&&typeof r.destroy=="function")try{r.destroy()}catch{}try{let a=o.__activeTabMenuDateListener;if(a){try{window.removeEventListener("roadmap:dateFieldsChanged",a)}catch{}try{window.removeEventListener("roadmap:zoomChanged",a)}catch{}}}catch{}try{delete o.__activeTabMenu,delete o.__activeTabMenuDateListener}catch{}}function i(){let o=e.querySelector(".tab.active");if(!o){n(t),t=null;return}let r=o.getAttribute("data-layout");if(!r){n(t),t=null;return}let a=o.querySelector(".tab-label");if(!a)return;if(a.__activeTabMenu){t=a;return}n(t);let d=o.getAttribute("data-viewkey")||null,c=()=>{let l=d&&window.__viewStates?window.__viewStates[d]:null,p="";if(l&&l.fields){let b=new Set(Array.from(l.visibleFieldIds||[]));p=l.fields.filter(h=>b.has(String(h.id))).map(h=>h.name).join(", ")}let y="";l&&l.current&&(y=l.current);let x="";l&&l.currentColumn&&(x=l.currentColumn);let C=[];if((r==="table"||r==="board")&&C.push({label:"Fields",info:p,forceChevron:!0,iconName:"note",onClick:(b,m)=>Promise.resolve().then(()=>($e(),st)).then(({FieldsMenu:h})=>{try{try{a.__activeTabMenu&&a.__activeTabMenu.closeOpenSubmenu&&a.__activeTabMenu.closeOpenSubmenu()}catch{}let g=l&&l.fields||[],v=new Set(l&&l.visibleFieldIds?Array.from(l.visibleFieldIds).map(M=>String(M)):[]),E=new h({fields:(g||[]).map(M=>({id:String(M.id),name:M.name,iconClass:M.iconClass,dataType:M.dataType,locked:M.name==="Title"})),visibleFieldIds:v,onToggleVisibility:(M,f)=>{try{l&&typeof l.onToggleVisibility=="function"&&l.onToggleVisibility(String(M),f),setTimeout(()=>{let A=a.__activeTabMenu;A&&typeof A.refresh=="function"&&A.refresh()},50)}catch{}}}).show(b||a,m);try{let M=a.__activeTabMenu;if(M&&typeof M.registerExternalSubmenu=="function"&&E&&E.el)try{M.registerExternalSubmenu(E.el,E.refresh)}catch{}}catch{}}catch{}return!0}).catch(()=>!1)}),r==="board"&&C.push({label:"Column by",info:x,forceChevron:!0,iconName:"columns",onClick:(b,m)=>Promise.resolve().then(()=>(et(),Qe)).then(({default:h})=>{try{try{a.__activeTabMenu&&a.__activeTabMenu.closeOpenSubmenu&&a.__activeTabMenu.closeOpenSubmenu()}catch{}let v=(l&&l.fields||[]||[]).filter(M=>{let f=String(M.dataType||M.type||"").toLowerCase();return f==="single_select"||f.includes("iteration")}),E=new h({title:"Column by",fields:(v||[]).map(M=>({id:String(M.id),name:M.name,iconClass:M.iconClass,dataType:M.dataType})),items:l&&l.items?l.items:[],current:l&&l.currentColumn?l.currentColumn:null,onSelect:M=>{try{l&&typeof l.onSetColumnBy=="function"&&l.onSetColumnBy(M),setTimeout(()=>{let f=a.__activeTabMenu;f&&typeof f.refresh=="function"&&f.refresh()},50)}catch{}}}).show(b||a,m);try{let M=a.__activeTabMenu;if(M&&typeof M.registerExternalSubmenu=="function"&&E&&E.el)try{M.registerExternalSubmenu(E.el,E.refresh)}catch{}}catch{}}catch{}return!0}).catch(()=>!1)}),C.push({label:r==="board"?"Swimlanes":"Group by",info:y,forceChevron:!0,iconName:"rows",onClick:(b,m)=>Promise.resolve().then(()=>(et(),Qe)).then(({default:h})=>{try{try{a.__activeTabMenu&&a.__activeTabMenu.closeOpenSubmenu&&a.__activeTabMenu.closeOpenSubmenu()}catch{}let v=(l&&l.fields||[]||[]).filter(M=>{let f=String(M.dataType||M.type||M.name||"").toLowerCase();return!!(f.includes("assign")||f.includes("assignee")||f.includes("repo")||f.includes("repository")||f.includes("parent")||f.includes("num")||f.includes("number")||f.includes("numeric")||f.includes("iteration")||f.includes("single")&&f.includes("select")||f.includes("milestone")||f.includes("date")||f.includes("text"))}),E=new h({title:r==="board"?"Swimlanes":"Group by",fields:(v||[]).map(M=>({id:String(M.id),name:M.name,iconClass:M.iconClass,dataType:M.dataType})),items:l&&l.items?l.items:[],current:l&&(l.current||l.currentGrouping)?l.current||l.currentGrouping:null,onSelect:M=>{try{l&&typeof l.onSetGroupBy=="function"&&l.onSetGroupBy(M),setTimeout(()=>{let f=a.__activeTabMenu;f&&typeof f.refresh=="function"&&f.refresh()},50)}catch{}}}).show(b||a,m);try{let M=a.__activeTabMenu;if(M&&typeof M.registerExternalSubmenu=="function"&&E&&E.el)try{M.registerExternalSubmenu(E.el,E.refresh)}catch{}}catch{}}catch{}return!0}).catch(()=>!1)}),r==="roadmap"){let b="";try{let m=l&&l.roadmapRenderer;if(m&&typeof m.getActiveMarkers=="function"){let h=m.getActiveMarkers();Array.isArray(h)&&h.length>0?b=h.map(v=>{if(String(v)==="milestones")return"Milestones";let S=l&&l.fields?l.fields.find(E=>String(E.id)===String(v)||E.name===v):null;return S?S.name:String(v)}).join(", "):b="None"}}catch{}C.push({label:"Markers",info:b,forceChevron:!0,iconName:"location",onClick:(m,h)=>{try{let g=l&&l.roadmapRenderer;if(g&&typeof g.showMarkersMenu=="function"){try{document.querySelectorAll(".roadmap-dropdown-menu").forEach(S=>S.remove())}catch{}try{a.__activeTabMenu&&a.__activeTabMenu.closeOpenSubmenu&&a.__activeTabMenu.closeOpenSubmenu()}catch{}let v={currentTarget:h?{getBoundingClientRect:()=>h}:m||a};try{let S=g.showMarkersMenu(v),E=a.__activeTabMenu;if(S&&S.el&&E&&typeof E.registerExternalSubmenu=="function")try{E.registerExternalSubmenu(S.el,S.refresh)}catch{}}catch{}}}catch{}return!0}})}if(r==="table"||r==="board"||r==="roadmap"){let b="None",m=null;try{let h=l&&(l.currentSort||l.currentSortName);if(h)if(typeof h=="string"){let g=(l&&l.fields?l.fields:[]).find(v=>String(v.id)===String(h)||v.name===h);g?(b=g.name||String(g.id),m=String(g.id)):(b="None",m=null)}else if(typeof h=="object"&&h.fieldId){let g=(l&&l.fields?l.fields:[]).find(v=>String(v.id)===String(h.fieldId));g?(b=g.name||String(g.id),m=String(g.id)):(b="None",m=null)}else b="None",m=null;else b="None",m=null}catch{b="None",m=null}C.push({label:"Sort by",info:b,forceChevron:!0,iconName:"arrow-up-down",onClick:(h,g)=>Promise.resolve().then(()=>(mt(),ht)).then(({SortByMenu:v})=>{try{try{a.__activeTabMenu&&a.__activeTabMenu.closeOpenSubmenu&&a.__activeTabMenu.closeOpenSubmenu()}catch{}let S=l&&l.fields||[],M=new v({fields:(S||[]).map(f=>({id:String(f.id),name:f.name,iconClass:f.iconClass,dataType:f.dataType})),current:m,onSelect:f=>{try{l&&typeof l.onSetSort=="function"&&l.onSetSort(f),setTimeout(()=>{let A=a.__activeTabMenu;A&&typeof A.refresh=="function"&&A.refresh()},50)}catch{}}}).show(h||a,g);try{let f=a.__activeTabMenu;if(f&&typeof f.registerExternalSubmenu=="function"&&M&&M.el)try{f.registerExternalSubmenu(M.el,M.refresh)}catch{}}catch{}}catch{}return!0}).catch(()=>!1)})}if(r==="table"||r==="board")try{let b="";try{let m=l&&(l.groupDivisors||null);if(Array.isArray(m)&&m.length>0){let h=l&&l.fields||[];b=m.map(v=>{if(String(v)==="__count__")return"Count";let S=(h||[]).find(E=>String(E.id)===String(v)||E.name===v);return S?S.name:String(v)}).join(", ")}else m===null&&(b="None")}catch{}C.push({label:"Field sum",info:b,forceChevron:!0,iconName:"number",onClick:(m,h)=>Promise.resolve().then(()=>(nt(),tt)).then(({default:g,FieldSumMenu:v})=>{try{try{a.__activeTabMenu&&a.__activeTabMenu.closeOpenSubmenu&&a.__activeTabMenu.closeOpenSubmenu()}catch{}let S=l&&l.fields||[],E=l&&(l.groupDivisors||[])||[],f=new(v||g)({fields:(S||[]).map(A=>({id:String(A.id),name:A.name,dataType:A.dataType})),current:Array.isArray(E)?E:[],title:"Field sum",onChange:A=>{try{l&&typeof l.onSetGroupDivisors=="function"&&l.onSetGroupDivisors(A&&A.length?A:null),setTimeout(()=>{let T=a.__activeTabMenu;T&&typeof T.refresh=="function"&&T.refresh()},50)}catch{}}}).show(m||a,h);try{let A=a.__activeTabMenu;if(A&&typeof A.registerExternalSubmenu=="function"&&f&&f.el)try{A.registerExternalSubmenu(f.el,f.refresh)}catch{}}catch{}}catch{}return!0}).catch(()=>!1)})}catch{}if(r==="roadmap"){let b="";try{let m=l&&l.roadmapRenderer;if(m){let h=m.startDateFieldId||m.startDateField||null,g=m.endDateFieldId||m.endDateField||null,v=l&&l.fields||[],S=h?v.find(M=>String(M.id)===String(h))?.name:null,E=g?v.find(M=>String(M.id)===String(g))?.name:null;S&&E?b=S===E?S:`${S} & ${E}`:S?b=S:E&&(b=E)}}catch{}C.push({label:"Date",info:b,forceChevron:!0,iconName:"calendar",onClick:(m,h)=>{try{let g=l&&l.roadmapRenderer;if(g&&typeof g.showDateFieldsMenu=="function"){try{document.querySelectorAll(".roadmap-dropdown-menu").forEach(E=>E.remove())}catch{}try{a.__activeTabMenu&&a.__activeTabMenu.closeOpenSubmenu&&a.__activeTabMenu.closeOpenSubmenu()}catch{}let v=a.__activeTabMenu&&a.__activeTabMenu.menuEl?a.__activeTabMenu.menuEl:void 0,S={currentTarget:h?{getBoundingClientRect:()=>h}:m||v||a};try{let E=g.showDateFieldsMenu(S),M=a.__activeTabMenu;if(E&&E.el&&M&&typeof M.registerExternalSubmenu=="function")try{M.registerExternalSubmenu(E.el,E.refresh)}catch{}}catch{}}}catch{}return!0}});try{let m="",h=l&&l.roadmapRenderer;if(h){let g=h.zoomLevel||"month";m=g.charAt(0).toUpperCase()+g.slice(1)}C.push({label:"Zoom level",info:m,forceChevron:!0,iconName:"zoom-in",onClick:(g,v)=>{try{let S=l&&l.roadmapRenderer;if(S&&typeof S.showZoomMenu=="function"){try{document.querySelectorAll(".roadmap-dropdown-menu").forEach(f=>f.remove())}catch{}try{a.__activeTabMenu&&a.__activeTabMenu.closeOpenSubmenu&&a.__activeTabMenu.closeOpenSubmenu()}catch{}let E=a.__activeTabMenu&&a.__activeTabMenu.menuEl?a.__activeTabMenu.menuEl:void 0,M={currentTarget:v?{getBoundingClientRect:()=>v}:g||E||a};try{let f=S.showZoomMenu(M),A=a.__activeTabMenu;if(f&&f.el&&A&&typeof A.registerExternalSubmenu=="function")try{A.registerExternalSubmenu(f.el,f.refresh)}catch{}else try{let T=document.querySelector(".slice-panel");if(T&&A&&typeof A.registerExternalSubmenu=="function")try{A.registerExternalSubmenu(T,()=>{})}catch{}}catch{}}catch{}}}catch{}return!0}})}catch{}try{let m="";try{let h=l&&(l.groupDivisors||null);if(Array.isArray(h)&&h.length>0){let g=l&&l.fields||[];m=h.map(S=>{if(String(S)==="__count__")return"Count";let E=(g||[]).find(M=>String(M.id)===String(S)||M.name===S);return E?E.name:String(S)}).join(", ")}else h===null&&(m="None")}catch{}C.push({label:"Field sum",info:m,forceChevron:!0,iconName:"number",onClick:(h,g)=>Promise.resolve().then(()=>(nt(),tt)).then(({default:v,FieldSumMenu:S})=>{try{try{a.__activeTabMenu&&a.__activeTabMenu.closeOpenSubmenu&&a.__activeTabMenu.closeOpenSubmenu()}catch{}let E=l&&l.fields||[],M=l&&(l.groupDivisors||[])||[],A=new(S||v)({fields:(E||[]).map(T=>({id:String(T.id),name:T.name,dataType:T.dataType})),current:Array.isArray(M)?M:[],title:"Field sum",onChange:T=>{try{l&&typeof l.onSetGroupDivisors=="function"&&l.onSetGroupDivisors(T&&T.length?T:null),setTimeout(()=>{let H=a.__activeTabMenu;H&&typeof H.refresh=="function"&&H.refresh()},50)}catch{}}}).show(h||a,g);try{let T=a.__activeTabMenu;if(T&&typeof T.registerExternalSubmenu=="function"&&A&&A.el)try{T.registerExternalSubmenu(A.el,A.refresh)}catch{}}catch{}}catch{}return!0}).catch(()=>!1)})}catch{}}try{let b="";try{let m=l&&(l.currentSlice||l.currentSliceField||l.slice||null);if(m)typeof m=="string"?b=m:m&&typeof m=="object"&&(b=m.name||String(m.fieldId||m.id||""));else if(d)try{let h=localStorage.getItem(`ghProjects.table.${d}.slice`);if(h){let g=JSON.parse(h);g&&g.fieldId&&(b=String(g.fieldId))}}catch{}}catch{}(r==="table"||r==="board"||r==="roadmap")&&C.push({label:"Slice by",info:b||"None",forceChevron:!0,iconName:"sliceby",onClick:(m,h)=>{try{if(l&&typeof l.showSlicePanel=="function"){try{window.__sliceMenuRefresh=()=>{let v=a.__activeTabMenu;v&&typeof v.refresh=="function"&&v.refresh()};let g=l.showSlicePanel(m,h)}catch{}return!0}try{let g=l&&l.fields||[],v=new Set(["assignees","single_select","parent_issue","iteration","number","date","milestone","repository","labels","text","single_line_text"]),S=(g||[]).find(E=>v.has(String((E.dataType||"").toLowerCase())));if(S)try{if(l&&typeof l.onSetSlice=="function")return l.onSetSlice(S.id||S.name||S),!0}catch{}}catch{}}catch{}try{let g=h||m&&m.getBoundingClientRect&&m.getBoundingClientRect();if(g){try{document.querySelectorAll(".active-tab-slice-placeholder").forEach(S=>S.remove())}catch{}let v=document.createElement("div");v.className="active-tab-slice-placeholder",v.style.position="absolute",v.style.top=Math.round(g.top)+"px",v.style.left=Math.round(g.right)+8+"px",v.style.width="8px",v.style.height="8px",v.style.zIndex="1001",v.style.pointerEvents="none",document.body.appendChild(v);try{let S=a.__activeTabMenu;S&&typeof S.registerExternalSubmenu=="function"&&S.registerExternalSubmenu(v,()=>{})}catch{}}}catch{}return!0}})}catch{}return C};try{let l=new pt({anchorElement:a,items:c});a.__activeTabMenu=l;let p=()=>{try{let y=a.__activeTabMenu;y&&typeof y.refresh=="function"&&y.refresh()}catch{}};try{window.addEventListener("roadmap:dateFieldsChanged",p),window.addEventListener("roadmap:zoomChanged",p),window.addEventListener("roadmap:markersChanged",p),a.__activeTabMenuDateListener=p}catch{}t=a}catch{}}i(),e.addEventListener("click",()=>setTimeout(i,0)),new MutationObserver(o=>{for(let r of o){r.type==="attributes"&&i();for(let a of Array.from(r.addedNodes||[]))a.nodeType===1&&i()}}).observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["class"]})}window.__activeTabMenusInitialized||(window.__activeTabMenusInitialized=!0,document.readyState==="loading"?document.addEventListener("DOMContentLoaded",yt):setTimeout(yt,0));var zt=1e4;window.tableViewFetcher=function(u,t,e){let n=u&&(u.name||u.id)?u.name||u.id:"Table View";try{qe(t,n)}catch{}let i=window.__project_data__&&window.__project_data__.id||void 0,s=30,o,r,a=null,d=null,c,l=null,p;function y(b,m){l=b,m!==void 0?p=m:m=p;let h=b||{},g=h.fields||[],v=h.items||[],S=v.slice(0,s);t.innerHTML="",t.style.margin="0",t.style.padding="0",t.style.height="100%",t.style.display="flex",t.style.flexDirection="column",t.style.overflow="hidden";let E=document.createElement("div");E.style.flex="0 0 auto",E.style.background="var(--vscode-editor-background)",E.style.zIndex="20",E.style.position="relative",E.style.display="flex",E.style.justifyContent="space-between",E.style.alignItems="center",E.style.width="100%";let M=document.createElement("div");M.style.flex="1 1 auto",M.style.marginRight="8px",E.appendChild(M);let f=ut(M,e,{suffix:e?String(e).split(":").pop():"",step:s,onLoadMore:()=>{s+=30,C()},onSave:w=>{let k=!1;try{if(o!==void 0&&(window.__APP_MESSAGING__&&typeof window.__APP_MESSAGING__.postMessage=="function"&&window.__APP_MESSAGING__.postMessage({command:"setViewGrouping",viewKey:e,grouping:o||null}),o=void 0,k=!0),a!==null){let I=Array.from(a);window.__APP_MESSAGING__&&typeof window.__APP_MESSAGING__.postMessage=="function"&&window.__APP_MESSAGING__.postMessage({command:"setViewHiddenFields",viewKey:e,hiddenFields:I});try{let D=e?`ghProjects.table.${e}.hiddenFields`:null;D&&localStorage.setItem(D,JSON.stringify(I))}catch{}a=null,k=!0}if(d!==null){window.__APP_MESSAGING__&&typeof window.__APP_MESSAGING__.postMessage=="function"&&window.__APP_MESSAGING__.postMessage({command:"setViewSlice",viewKey:e,slice:d});try{let I=e?`ghProjects.table.${e}.slice`:null;I&&localStorage.setItem(I,JSON.stringify(d))}catch{}d=null,k=!0}if(c!==void 0){try{let I=e?`ghProjects.table.${e}.sortConfig`:null;I&&(c===null?localStorage.removeItem(I):localStorage.setItem(I,JSON.stringify(c)))}catch{}c=void 0}if(r!==void 0){try{window.__APP_MESSAGING__&&typeof window.__APP_MESSAGING__.postMessage=="function"&&window.__APP_MESSAGING__.postMessage({command:"setViewGroupDivisors",viewKey:e,groupDivisors:r})}catch{}try{let I=e?`ghProjects.table.${e}.groupDivisors`:null;I&&(r===null?localStorage.removeItem(I):localStorage.setItem(I,JSON.stringify(r)))}catch{}r=void 0,k=!0}}catch{}k&&C()},onDiscard:()=>{try{let w=!1;if((o!==void 0||a!==null||d!==null||c!==void 0||r!==void 0)&&(w=!0),w){if(o!==void 0&&(window.__APP_MESSAGING__&&typeof window.__APP_MESSAGING__.postMessage=="function"&&window.__APP_MESSAGING__.postMessage({command:"discardViewGrouping",viewKey:e}),o=void 0),a!==null&&(window.__APP_MESSAGING__&&typeof window.__APP_MESSAGING__.postMessage=="function"&&window.__APP_MESSAGING__.postMessage({command:"discardViewHiddenFields",viewKey:e}),a=null),d!==null){window.__APP_MESSAGING__&&typeof window.__APP_MESSAGING__.postMessage=="function"&&window.__APP_MESSAGING__.postMessage({command:"discardViewSlice",viewKey:e}),d=null;try{let k=e?`ghProjects.table.${e}.slice`:null;k&&localStorage.removeItem(k)}catch{}}if(r!==void 0){window.__APP_MESSAGING__&&typeof window.__APP_MESSAGING__.postMessage=="function"&&window.__APP_MESSAGING__.postMessage({command:"discardViewGroupDivisors",viewKey:e});try{let k=e?`ghProjects.table.${e}.groupDivisors`:null;k&&localStorage.removeItem(k)}catch{}r=void 0}c!==void 0&&(c=void 0),C()}}catch{}}});try{if(m&&f&&typeof f.setEffectiveFilter=="function")try{f.setEffectiveFilter(m)}catch{}}catch{}if(f){if(typeof f.setLoadState=="function"&&f.setLoadState(v.length<s,v.length>=s?"Load more":"All loaded"),typeof f.registerItems=="function"&&f.registerItems(v,{fields:g}),o!==void 0||a!==null||d!==null||c!==void 0)try{f.saveBtn&&(f.saveBtn.disabled=!1,f.saveBtn.style.opacity="1",f.saveBtn.style.cursor="pointer"),f.discardBtn&&(f.discardBtn.disabled=!1,f.discardBtn.style.opacity="1",f.discardBtn.style.cursor="pointer")}catch{}}else{let w=document.createElement("div");w.className="title",w.textContent=n,w.style.padding="8px",E.appendChild(w);let k=document.createElement("div");if(k.style.padding="8px",v.length>s){let I=Ye(()=>{s+=30,C()});k.appendChild(I)}else{let I=document.createElement("span");I.textContent="All loaded",I.style.color="var(--vscode-descriptionForeground)",k.appendChild(I)}E.appendChild(k)}t.appendChild(E);try{let w=null,k=h.allFields&&Array.isArray(h.allFields)?h.allFields:h.fields||[],I=null;if(c!==void 0)I=c||null;else if(e)try{let N=localStorage.getItem(`ghProjects.table.${e}.sortConfig`);N&&(I=JSON.parse(N))}catch{}if(I||(I=Ve(h.details?.sortByFields)),I&&I.fieldId){let N=k.find($=>String($.id)===String(I.fieldId));w=N?N.name:null}let D=ft(h);o!==void 0&&(D=o);let R=h.details?.fields?.nodes&&Array.isArray(h.details.fields.nodes)?h.details.fields.nodes:null,B;a!==null?(B=new Set,k.forEach(N=>{a.has(String(N.id))||B.add(String(N.id))})):R?B=new Set(R.map(N=>String(N.id))):B=new Set(g.map(N=>String(N.id)));let K=null;try{if(r!==void 0)K=r===null?null:r||null;else if(e)try{let N=localStorage.getItem(`ghProjects.table.${e}.groupDivisors`);N&&(K=JSON.parse(N))}catch{}try{let N=h.details&&h.details.groupDivisors&&Array.isArray(h.details.groupDivisors.nodes)?h.details.groupDivisors.nodes.map($=>String($.id||$.name)):null;K===null&&N&&(K=N)}catch{}}catch{}window.__viewStates=window.__viewStates||{},window.__viewStates[e]={fields:k,items:v||[],visibleFieldIds:B,current:D,currentSort:w,groupDivisors:K,onToggleVisibility:(N,$)=>{try{if(a===null){a=new Set;let gt=B;k.forEach(it=>{gt.has(String(it.id))||a.add(String(it.id))})}let Ue=String(N);$?a.delete(Ue):a.add(Ue),l&&y(l,p)}catch{}},onSetGroupBy:N=>{try{o=N,l&&y(l,p)}catch{}},onSetGroupDivisors:N=>{try{r=N===null?null:N||[],l&&y(l,p)}catch{}},onSetSort:N=>{try{N===null?c=null:c={fieldId:N,direction:"ASC"},l&&y(l,p)}catch{}}}}catch{}let A=document.createElement("div");A.style.flex="1 1 auto",A.style.overflow="hidden",A.style.position="relative",t.appendChild(A);let T=ft(h);o!==void 0&&(T=o);let H=Ve(h.details?.sortByFields);if(e)try{let w=localStorage.getItem(`ghProjects.table.${e}.sortConfig`);w&&(H=JSON.parse(w))}catch{}c!==void 0&&(H=c||null);let q=S;H&&(q=ae(S,g,H));let F=h.allFields&&Array.isArray(h.allFields)?h.allFields:h.fields||[],P=h.details&&h.details.fields&&Array.isArray(h.details.fields.nodes)?h.details.fields.nodes:null,G;if(P&&Array.isArray(P)){let w=new Set(P.map(k=>String(k.id)));G=(F||[]).map(k=>String(k.id)).filter(k=>!w.has(k))}a!==null&&(G=Array.from(a));try{window.__APP_MESSAGING__}catch{}let _=new Pe(A,F,q,{groupingFieldName:T||void 0,sortConfig:H,viewKey:e,projectId:i||h.project?.id,hiddenFields:G,onFieldUpdate:async w=>{if(window.__APP_MESSAGING__&&typeof window.__APP_MESSAGING__.postMessage=="function")return window.__APP_MESSAGING__.postMessage({command:"updateFieldValue",itemId:w.itemId,fieldId:w.fieldId,value:w.value,projectId:w.projectId,viewKey:w.viewKey}),new Promise((k,I)=>{let D=R=>{let B=R.data;B.command==="updateFieldValueResult"&&(window.removeEventListener("message",D),B.success?(B.payload&&y(B.payload,B.effectiveFilter),k()):I(new Error(B.error||"Update failed")))};window.addEventListener("message",D),setTimeout(()=>{window.removeEventListener("message",D),I(new Error("Update timeout"))},zt)});throw new Error("Messaging not available")},onHiddenFieldsChange:w=>{try{if(a=new Set((w||[]).map(k=>String(k))),f&&f.saveBtn&&f.discardBtn)try{f.saveBtn.disabled=!1,f.discardBtn.disabled=!1,f.saveBtn.style.opacity="1",f.saveBtn.style.cursor="pointer",f.discardBtn.style.opacity="1",f.discardBtn.style.cursor="pointer"}catch{}}catch{}},onSortChange:w=>{try{if(c=w||null,f&&f.saveBtn&&f.discardBtn)try{f.saveBtn.disabled=!1,f.discardBtn.disabled=!1,f.saveBtn.style.opacity="1",f.saveBtn.style.cursor="pointer",f.discardBtn.style.opacity="1",f.discardBtn.style.cursor="pointer"}catch{}}catch{}},onGroupChange:w=>{try{if(o=w||null,f&&f.saveBtn&&f.discardBtn)try{f.saveBtn.disabled=!1,f.discardBtn.disabled=!1,f.saveBtn.style.opacity="1",f.saveBtn.style.cursor="pointer",f.discardBtn.style.opacity="1",f.discardBtn.style.cursor="pointer"}catch{}}catch{}},onSliceChange:w=>{try{if(d=w?{fieldId:w.id,value:null}:null,f&&f.saveBtn&&f.discardBtn)try{f.saveBtn.disabled=!1,f.discardBtn.disabled=!1,f.saveBtn.style.opacity="1",f.saveBtn.style.cursor="pointer",f.discardBtn.style.opacity="1",f.discardBtn.style.cursor="pointer"}catch{}}catch{}}});_.render();try{window.__viewStates=window.__viewStates||{},window.__viewStates[e]={fields:F,items:q||[],get visibleFieldIds(){return new Set(_.getVisibleFieldIds())},get current(){let w=_.getGroupingField();return w?w.name:null},get currentSort(){try{let w=_.options&&_.options.sortConfig;if(!w||!w.fieldId)return null;let k=F.find(I=>String(I.id)===String(w.fieldId));return k?k.name:w.fieldId}catch{return null}},onToggleVisibility:(w,k)=>{try{_.toggleFieldVisibility(w,k)}catch{}},onSetGroupBy:w=>{try{_.setGroupingField(w)}catch{}},onSetSort:w=>{try{if(w===null)_.options.sortConfig=void 0,_.options&&typeof _.options.onSortChange=="function"&&_.options.onSortChange(null);else{let k={fieldId:String(w),direction:"ASC"};_.options.sortConfig=k,_.options&&typeof _.options.onSortChange=="function"&&_.options.onSortChange(k)}typeof _.render=="function"&&_.render()}catch{}},groupDivisors:(()=>{try{if(r!==void 0)return r===null?null:r;if(e)try{let w=localStorage.getItem(`ghProjects.table.${e}.groupDivisors`);if(w)return JSON.parse(w)}catch{}try{let w=h.details&&h.details.groupDivisors&&Array.isArray(h.details.groupDivisors.nodes)?h.details.groupDivisors.nodes.map(k=>String(k.id||k.name)):null;if(w)return w}catch{}}catch{}return null})(),onSetGroupDivisors:w=>{try{r=w===null?null:w||[],l&&y(l,p)}catch{}},showSlicePanel:(w,k)=>{try{try{let R=t.querySelector(".slice-panel");R&&R.remove()}catch{}let I=new Set(["assignees","single_select","parent_issue","iteration","number","date","milestone","repository","labels","text","single_line_text"]),D=null;try{let R=d?String(d.fieldId):null;R&&(D=F.find(B=>String(B.id)===R))}catch{}if(D||(D=(F||[]).find(R=>I.has(String((R.dataType||"").toLowerCase())))),D){try{_.handleSlice&&_.handleSlice(D)}catch{try{_.render&&_.render()}catch{}}try{let R=_.activeSlicePanel;k&&R&&typeof R.openFieldDropdown=="function"&&R.openFieldDropdown(k)}catch{}try{let R=_.activeSlicePanel,B=R&&R.panelElement?R.panelElement:null;if(B)return{el:B,refresh:()=>{try{}catch{}}}}catch{}}return null}catch{}},get currentSlice(){try{let w=d?String(d.fieldId):null;if(w){let k=(F||[]).find(I=>String(I.id)===w);return k?k.name:w}if(e)try{let k=localStorage.getItem(`ghProjects.table.${e}.slice`);if(k){let I=JSON.parse(k);if(I&&I.fieldId){let D=(F||[]).find(R=>String(R.id)===String(I.fieldId));return D?D.name:String(I.fieldId)}}}catch{}}catch{}return null}}}catch{}f&&typeof f.onFilterChange=="function"&&f.onFilterChange(w=>{A.querySelectorAll("tr[data-gh-item-id]").forEach(I=>{let D=I.getAttribute("data-gh-item-id");D&&w.has(D)?I.style.display="table-row":I.style.display="none"})})}function x(b){let m=b&&b.data?b.data:b;try{if(m&&m.command==="fields"){if(m.viewKey&&e&&String(m.viewKey)!==String(e))return;m.error?Ke(t,n,String(m.error)):y(m.payload,m.effectiveFilter)}}catch{}}function C(){try{window.__APP_MESSAGING__&&typeof window.__APP_MESSAGING__.postMessage=="function"&&window.__APP_MESSAGING__.postMessage({command:"requestFields",first:s,viewKey:e})}catch{}}try{window.__APP_MESSAGING__.onMessage(x)}catch{window.addEventListener("message",x)}C()};function ft(u){try{if(u&&u.details){let t=u.details.verticalGroupByFields&&u.details.verticalGroupByFields.nodes,e=u.details.groupByFields&&u.details.groupByFields.nodes;if(t&&t.length>0)return t[0].name||null;if(e&&e.length>0)return e[0].name||null}}catch{}return null}window.__GH_OPEN_LISTENER_ADDED__||(window.__GH_OPEN_LISTENER_ADDED__=!0,window.addEventListener("click",u=>{let e=u.target.closest("[data-gh-open]");if(e){u.preventDefault(),u.stopPropagation();let n=e.getAttribute("data-gh-open");try{window.__APP_MESSAGING__&&window.__APP_MESSAGING__.postMessage({command:"debugLog",level:"info",message:"Global Listener Caught Click: "+n})}catch{}n&&window.__APP_MESSAGING__&&typeof window.__APP_MESSAGING__.postMessage=="function"&&window.__APP_MESSAGING__.postMessage({command:"openUrl",url:n,tryExtension:!0})}}));})();
//# sourceMappingURL=tableViewFetcher.js.map
