{
  "version": 3,
  "sources": ["../../src/webviews/client/components/AddItemMenu.ts", "../../src/webviews/client/utils/domUtils.ts", "../../src/webviews/client/viewFetcherUtils.ts", "../../src/webviews/client/utils.ts", "../../src/webviews/client/services/GroupDataService.ts", "../../src/webviews/client/icons/iconRegistry.ts", "../../src/webviews/client/renderers/strategies.ts", "../../src/webviews/client/renderers/cellRenderer.ts", "../../src/webviews/client/renderers/RoadmapRenderer.ts", "../../src/webviews/client/roadmapViewFetcher.ts"],
  "sourcesContent": ["export interface AddItemMenuOptions {\r\n  anchorElement: HTMLElement;\r\n  onCreateIssue: () => void;\r\n  onAddFromRepo: () => void;\r\n}\r\n\r\nexport class AddItemMenu {\r\n  private options: AddItemMenuOptions;\r\n  private menuElement: HTMLElement | null = null;\r\n  private backdropElement: HTMLElement | null = null;\r\n\r\n  constructor(options: AddItemMenuOptions) {\r\n    this.options = options;\r\n  }\r\n\r\n  public show() {\r\n    this.hide();\r\n\r\n    this.backdropElement = document.createElement(\"div\");\r\n    this.backdropElement.style.position = \"fixed\";\r\n    this.backdropElement.style.top = \"0\";\r\n    this.backdropElement.style.left = \"0\";\r\n    this.backdropElement.style.right = \"0\";\r\n    this.backdropElement.style.bottom = \"0\";\r\n    this.backdropElement.style.zIndex = \"998\";\r\n    this.backdropElement.addEventListener(\"click\", () => this.hide());\r\n    document.body.appendChild(this.backdropElement);\r\n\r\n    this.menuElement = document.createElement(\"div\");\r\n    this.menuElement.className = \"add-item-menu\";\r\n    this.menuElement.style.position = \"absolute\";\r\n    this.menuElement.style.background = \"var(--vscode-menu-background)\";\r\n    this.menuElement.style.border = \"1px solid var(--vscode-menu-border)\";\r\n    this.menuElement.style.borderRadius = \"4px\";\r\n    this.menuElement.style.boxShadow = \"0 2px 8px rgba(0,0,0,0.15)\";\r\n    this.menuElement.style.minWidth = \"220px\";\r\n    this.menuElement.style.padding = \"4px 0\";\r\n    this.menuElement.style.zIndex = \"1000\";\r\n    this.menuElement.style.fontSize = \"13px\";\r\n\r\n    document.body.appendChild(this.menuElement);\r\n    this.buildMenu();\r\n\r\n    const rect = this.options.anchorElement.getBoundingClientRect();\r\n    const menuRect = this.menuElement.getBoundingClientRect();\r\n    const margin = 8;\r\n    const vw = window.innerWidth || document.documentElement.clientWidth;\r\n    const vh = window.innerHeight || document.documentElement.clientHeight;\r\n\r\n    let top = rect.bottom + margin;\r\n    if (rect.bottom + menuRect.height + margin > vh) {\r\n      if (rect.top - menuRect.height - margin >= 0) {\r\n        top = rect.top - menuRect.height - margin;\r\n      } else {\r\n        top = Math.max(\r\n          margin,\r\n          Math.min(vh - menuRect.height - margin, rect.bottom + margin),\r\n        );\r\n      }\r\n    }\r\n\r\n    let left = rect.left;\r\n    if (rect.left + menuRect.width + margin > vw) {\r\n      left = Math.max(margin, rect.right - menuRect.width);\r\n    }\r\n    left = Math.max(margin, Math.min(left, vw - menuRect.width - margin));\r\n\r\n    this.menuElement.style.top = `${Math.round(top)}px`;\r\n    this.menuElement.style.left = `${Math.round(left)}px`;\r\n  }\r\n\r\n  public hide() {\r\n    if (this.menuElement) {\r\n      this.menuElement.remove();\r\n      this.menuElement = null;\r\n    }\r\n    if (this.backdropElement) {\r\n      this.backdropElement.remove();\r\n      this.backdropElement = null;\r\n    }\r\n  }\r\n\r\n  private buildMenu() {\r\n    if (!this.menuElement) return;\r\n\r\n    const mkItem = (\r\n      iconName: string,\r\n      label: string,\r\n      description: string,\r\n      onClick: () => void,\r\n    ) => {\r\n      const row = document.createElement(\"div\");\r\n      row.className = \"add-item-menu-item\";\r\n      row.style.display = \"flex\";\r\n      row.style.alignItems = \"center\";\r\n      row.style.padding = \"6px 12px\";\r\n      row.style.cursor = \"pointer\";\r\n      row.style.color = \"var(--vscode-menu-foreground)\";\r\n\r\n      const iconSpan = document.createElement(\"span\");\r\n      iconSpan.style.display = \"inline-flex\";\r\n      iconSpan.style.alignItems = \"center\";\r\n      iconSpan.style.justifyContent = \"center\";\r\n      iconSpan.style.marginRight = \"8px\";\r\n      iconSpan.innerHTML = (window as any).getIconSvg?.(iconName as any) || \"\";\r\n      row.appendChild(iconSpan);\r\n\r\n      const textContainer = document.createElement(\"div\");\r\n      textContainer.style.display = \"flex\";\r\n      textContainer.style.flexDirection = \"column\";\r\n      textContainer.style.flex = \"1\";\r\n\r\n      const titleEl = document.createElement(\"div\");\r\n      titleEl.textContent = label;\r\n      titleEl.style.fontWeight = \"500\";\r\n      textContainer.appendChild(titleEl);\r\n\r\n      if (description) {\r\n        const descEl = document.createElement(\"div\");\r\n        descEl.textContent = description;\r\n        descEl.style.fontSize = \"11px\";\r\n        descEl.style.color = \"var(--vscode-descriptionForeground)\";\r\n        textContainer.appendChild(descEl);\r\n      }\r\n\r\n      row.appendChild(textContainer);\r\n\r\n      row.addEventListener(\"mouseenter\", () => {\r\n        row.style.background = \"var(--vscode-menu-selectionBackground)\";\r\n        row.style.color = \"var(--vscode-menu-selectionForeground)\";\r\n      });\r\n      row.addEventListener(\"mouseleave\", () => {\r\n        row.style.background = \"transparent\";\r\n        row.style.color = \"var(--vscode-menu-foreground)\";\r\n      });\r\n\r\n      row.addEventListener(\"click\", () => {\r\n        onClick();\r\n        this.hide();\r\n      });\r\n\r\n      this.menuElement!.appendChild(row);\r\n    };\r\n\r\n    mkItem(\r\n      \"issue-opened\",\r\n      \"Create new issue\",\r\n      \"Create a project issue in a repository.\",\r\n      this.options.onCreateIssue,\r\n    );\r\n\r\n    mkItem(\r\n      \"repo\",\r\n      \"Add item from repository\",\r\n      \"Attach an existing issue or pull request from a repo.\",\r\n      this.options.onAddFromRepo,\r\n    );\r\n  }\r\n}\r\n", "export function setLoadingState(container: HTMLElement, titleText: string) {\r\n  container.innerHTML =\r\n    '<div class=\"title\">' +\r\n    titleText +\r\n    '</div><div class=\"loading\"><em>Loading...</em></div>';\r\n}\r\n\r\nexport function setErrorState(\r\n  container: HTMLElement,\r\n  titleText: string,\r\n  error: string,\r\n) {\r\n  container.innerHTML =\r\n    '<div class=\"title\">' +\r\n    titleText +\r\n    '</div><div style=\"color:var(--vscode-editor-foreground)\">' +\r\n    error +\r\n    \"</div>\";\r\n}\r\n\r\nexport function createLoadMoreButton(onClick: () => void): HTMLButtonElement {\r\n  const btn = document.createElement(\"button\");\r\n  btn.type = \"button\";\r\n  btn.textContent = \"Load more\";\r\n  btn.style.marginLeft = \"8px\";\r\n  btn.style.border = \"1px solid var(--vscode-editorWidget-border)\";\r\n  btn.addEventListener(\"click\", () => {\r\n    onClick();\r\n    btn.disabled = true;\r\n    btn.textContent = \"Loading...\";\r\n  });\r\n  return btn;\r\n}\r\n\r\nexport function clearElement(element: HTMLElement) {\r\n  while (element.firstChild) {\r\n    element.removeChild(element.firstChild);\r\n  }\r\n}\r\n\r\nexport function toggleClass(\r\n  element: HTMLElement,\r\n  className: string,\r\n  force?: boolean,\r\n) {\r\n  element.classList.toggle(className, force);\r\n}\r\n", "/// <reference path=\"./global.d.ts\" />\r\nimport { logDebug } from \"./utils/logger\";\r\nimport {\r\n  setLoadingState,\r\n  setErrorState,\r\n  createLoadMoreButton,\r\n} from \"./utils/domUtils\";\r\n\r\nexport { logDebug, setLoadingState, setErrorState, createLoadMoreButton };\r\n\r\n/**\r\n * Initializes the filter bar using the shared filterBarHelper.\r\n * Returns the barApi if successful, or null.\r\n */\r\nexport function initFilterBar(\r\n  container: HTMLElement,\r\n  viewKey: string,\r\n  options: {\r\n    suffix?: string;\r\n    step?: number;\r\n    effFilter?: string;\r\n    onLoadMore?: () => void;\r\n    onSave?: (filter: any) => void;\r\n    onDiscard?: () => void;\r\n  },\r\n): any {\r\n  if (\r\n    window.filterBarHelper &&\r\n    typeof window.filterBarHelper.create === \"function\"\r\n  ) {\r\n    try {\r\n      return window.filterBarHelper.create({\r\n        parent: container,\r\n        suffix: options.suffix || viewKey,\r\n        effFilter:\r\n          typeof options.effFilter === \"string\" ? options.effFilter : undefined,\r\n        viewKey: viewKey,\r\n        step: options.step || 50,\r\n        onLoadMore: options.onLoadMore,\r\n        onSave: options.onSave,\r\n        onDiscard: options.onDiscard,\r\n      });\r\n    } catch (e) {\r\n      return null;\r\n    }\r\n  }\r\n  return null;\r\n}\r\n\r\n/**\r\n * Toggles visibility of elements based on matched IDs from the filter.\r\n */\r\nexport function applyFilterVisibility(\r\n  root: HTMLElement | Document,\r\n  selector: string,\r\n  matchedIds: Set<string>,\r\n  displayStyle: string = \"block\",\r\n) {\r\n  try {\r\n    const elements = Array.from(root.querySelectorAll(selector));\r\n    for (let i = 0; i < elements.length; i++) {\r\n      try {\r\n        const el = elements[i] as HTMLElement;\r\n        const id = el.getAttribute(\"data-gh-item-id\");\r\n        el.style.display = matchedIds.has(String(id)) ? displayStyle : \"none\";\r\n      } catch (e) {}\r\n    }\r\n  } catch (e) {}\r\n}\r\n", "export function escapeHtml(s: any): string {\r\n  return s\r\n    ? String(s)\r\n        .replace(/&/g, \"&amp;\")\r\n        .replace(/</g, \"&lt;\")\r\n        .replace(/>/g, \"&gt;\")\r\n    : \"\";\r\n}\r\n\r\nexport function normalizeColor(color: any): string | null {\r\n  if (!color) return null;\r\n  let n = String(color).trim();\r\n  if (\r\n    /^#?[0-9a-f]{3}$/i.test(n) ||\r\n    /^#?[0-9a-f]{6}$/i.test(n) ||\r\n    /^#?[0-9a-f]{8}$/i.test(n)\r\n  ) {\r\n    let b = n[0] === \"#\" ? n.slice(1) : n;\r\n    return \"#\" + (b.length === 8 ? b.substring(0, 6) : b);\r\n  }\r\n  let s = {\r\n    GRAY: \"#848d97\",\r\n    RED: \"#f85149\",\r\n    ORANGE: \"#db6d28\",\r\n    YELLOW: \"#d29922\",\r\n    GREEN: \"#3fb950\",\r\n    BLUE: \"#2f81f7\",\r\n    PURPLE: \"#a371f7\",\r\n    PINK: \"#db61a2\",\r\n    BLACK: \"#000000\",\r\n    WHITE: \"#ffffff\",\r\n  };\r\n  let u = n.toUpperCase();\r\n  return (s as any)[u] || null;\r\n}\r\n\r\nexport function addAlpha(color: any, alpha: any): string | null {\r\n  if (!color) return null;\r\n  let s = color.replace(\"#\", \"\");\r\n  let u = (b: any) => parseInt(b, 16);\r\n  if (s.length === 3) {\r\n    let b = u(s[0] + s[0]),\r\n      S = u(s[1] + s[1]),\r\n      v = u(s[2] + s[2]);\r\n    return \"rgba(\" + b + \",\" + S + \",\" + v + \",\" + alpha + \")\";\r\n  }\r\n  if (s.length === 6 || s.length === 8) {\r\n    let b = s.length === 8 ? s.substring(0, 6) : s,\r\n      S = u(s.substring(0, 2)),\r\n      v = u(b.substring(2, 4)),\r\n      C = u(b.substring(4, 6));\r\n    return \"rgba(\" + S + \",\" + v + \",\" + C + \",\" + alpha + \")\";\r\n  }\r\n  return null;\r\n}\r\n\r\nexport function getContrastColor(color: any): string {\r\n  if (!color) return \"#333333\";\r\n  let n = color.replace(\"#\", \"\");\r\n  let s = (C: any) => parseInt(C, 16);\r\n  let u, b, S;\r\n  if (n.length === 3)\r\n    ((u = s(n[0] + n[0])), (b = s(n[1] + n[1])), (S = s(n[2] + n[2])));\r\n  else if (n.length === 6 || n.length === 8) {\r\n    let C = n.length === 8 ? n.substring(0, 6) : n;\r\n    ((u = s(C.substring(0, 2))),\r\n      (b = s(C.substring(2, 4))),\r\n      (S = s(C.substring(4, 6))));\r\n  } else return \"#333333\";\r\n  return 0.2126 * (u / 255) + 0.7152 * (b / 255) + 0.0722 * (S / 255) > 0.6\r\n    ? \"#111111\"\r\n    : \"#ffffff\";\r\n}\r\n", "export class GroupDataService {\r\n  public static groupItems(items: any[], field: any): any[] {\r\n    // Normalize options: Single Select uses .options, Iteration uses .configuration.iterations\r\n    let options: any[] = [];\r\n    const dType = (field.dataType || \"\").toLowerCase();\r\n    if (dType === \"single_select\") {\r\n      options = field.options || [];\r\n    } else if (dType === \"iteration\") {\r\n      options = (field.configuration && field.configuration.iterations) || [];\r\n    }\r\n    // If we have explicit options (single select/iteration), use them to group.\r\n    if (options && options.length > 0) {\r\n      const groups: any[] = options.map((opt: any) => ({\r\n        option: opt,\r\n        items: [],\r\n      }));\r\n      const unassigned: any[] = [];\r\n\r\n      items.forEach((item, index) => {\r\n        const fv = item.fieldValues.find(\r\n          (v: any) =>\r\n            String(v.fieldId) === String(field.id) ||\r\n            v.fieldName === field.name,\r\n        );\r\n        let placed = false;\r\n\r\n        if (fv) {\r\n          // Match logic\r\n          let matchId: string | null = null;\r\n          let matchName: string | null = null;\r\n\r\n          if (dType === \"single_select\") {\r\n            matchId = fv.optionId || (fv.option && fv.option.id);\r\n            matchName = fv.name || (fv.option && fv.option.name);\r\n          } else if (dType === \"iteration\") {\r\n            matchId =\r\n              fv.iterationId || (fv.iteration && fv.iteration.id) || fv.id;\r\n            matchName = fv.title || (fv.iteration && fv.iteration.title);\r\n          }\r\n\r\n          if (matchId || matchName) {\r\n            const group = groups.find(\r\n              (g: any) =>\r\n                (matchId && String(g.option.id) === String(matchId)) ||\r\n                (matchName &&\r\n                  (String(g.option.name) === String(matchName) ||\r\n                    String(g.option.title) === String(matchName))),\r\n            );\r\n            if (group) {\r\n              group.items.push({ item, index });\r\n              placed = true;\r\n            }\r\n          }\r\n        }\r\n\r\n        if (!placed) {\r\n          unassigned.push({ item, index });\r\n        }\r\n      });\r\n\r\n      if (unassigned.length > 0) {\r\n        groups.push({\r\n          option: { name: \"Unassigned\", title: \"Unassigned\", color: \"GRAY\" },\r\n          items: unassigned,\r\n        });\r\n      }\r\n\r\n      return groups.filter((g: any) => g.items.length > 0);\r\n    }\r\n\r\n    // Fallback grouping: build groups based on actual item values (useful for assignees, repository, date, number, etc.)\r\n    const map = new Map<string, { option: any; items: any[] }>();\r\n    const unassignedFallback: any[] = [];\r\n\r\n    items.forEach((item, index) => {\r\n      const fv = item.fieldValues.find(\r\n        (v: any) =>\r\n          String(v.fieldId) === String(field.id) || v.fieldName === field.name,\r\n      );\r\n      let val: any = null;\r\n      if (fv) {\r\n        // Text/title/number/date straightforward\r\n        if (fv.text !== undefined) val = fv.text;\r\n        else if (fv.title !== undefined) val = fv.title;\r\n        else if (fv.number !== undefined) val = fv.number;\r\n        else if (fv.date !== undefined) val = fv.date;\r\n        // single_select / option\r\n        else if (fv.option)\r\n          val = fv.option.name || fv.option.title || fv.option.id;\r\n        // iteration\r\n        else if (fv.iteration) val = fv.iteration.title || fv.iteration.id;\r\n        // parent_issue - try parent/parentIssue/issue/item/value/raw\r\n        else if (\r\n          fv.parent ||\r\n          fv.parentIssue ||\r\n          fv.issue ||\r\n          fv.item ||\r\n          fv.value\r\n        ) {\r\n          const p =\r\n            fv.parent || fv.parentIssue || fv.issue || fv.item || fv.value;\r\n          if (p) {\r\n            // Prefer number, then id, then url, then title\r\n            val =\r\n              p.number ||\r\n              p.id ||\r\n              (p.raw && (p.raw.number || p.raw.id)) ||\r\n              p.url ||\r\n              p.title ||\r\n              p.name ||\r\n              null;\r\n          }\r\n        }\r\n        // assignees\r\n        else if (fv.assignees)\r\n          val = Array.isArray(fv.assignees)\r\n            ? fv.assignees.map((a: any) => a.login || a.name).join(\", \")\r\n            : fv.assignees;\r\n        // repository\r\n        else if (fv.repository)\r\n          val =\r\n            fv.repository.nameWithOwner ||\r\n            fv.repository.name ||\r\n            fv.repository.full_name ||\r\n            fv.repository.id;\r\n        // milestone\r\n        else if (fv.milestone)\r\n          val = fv.milestone.title || fv.milestone.id || fv.milestone.name;\r\n        else val = fv.value !== undefined ? fv.value : null;\r\n      }\r\n\r\n      if (val === null || val === undefined || val === \"\") {\r\n        unassignedFallback.push({ item, index });\r\n        return;\r\n      }\r\n\r\n      const key = String(val);\r\n      if (!map.has(key)) {\r\n        map.set(key, { option: { id: key, name: key, title: key }, items: [] });\r\n      }\r\n      map.get(key)!.items.push({ item, index });\r\n    });\r\n\r\n    const groupsArr = Array.from(map.values());\r\n    if (unassignedFallback.length > 0) {\r\n      groupsArr.push({\r\n        option: { name: \"Unassigned\", title: \"Unassigned\", color: \"GRAY\" },\r\n        items: unassignedFallback,\r\n      });\r\n    }\r\n\r\n    return groupsArr;\r\n  }\r\n}\r\n", "/**\r\n * Icon Registry\r\n * Central registry for all GitHub-style Octicon SVGs used in webviews.\r\n * Uses official GitHub Octicons SVG paths for consistency.\r\n */\r\n\r\n/**\r\n * All available icon names in the registry\r\n */\r\nexport type IconName =\r\n  // View layouts\r\n  | \"table\"\r\n  | \"project\"\r\n  | \"board\"\r\n  | \"roadmap\"\r\n  // Field types\r\n  | \"list\"\r\n  | \"people\"\r\n  | \"tag\"\r\n  | \"single-select\"\r\n  | \"issue-tracks\"\r\n  | \"issue-tracked-by\"\r\n  | \"iterations\"\r\n  | \"number\"\r\n  | \"calendar\"\r\n  | \"pull-request\"\r\n  | \"milestone\"\r\n  | \"repo\"\r\n  | \"typography\"\r\n  // Issues and pull requests\r\n  | \"issue-opened\"\r\n  | \"issue-closed\"\r\n  | \"issue-draft\"\r\n  | \"git-pull-request\"\r\n  | \"git-pull-request-closed\"\r\n  | \"git-pull-request-draft\"\r\n  | \"git-merge\"\r\n  | \"blocked\"\r\n  // Sorting and grouping\r\n  | \"sort-asc\"\r\n  | \"sort-desc\"\r\n  | \"rows\"\r\n  | \"sliceby\"\r\n  // Navigation and actions\r\n  | \"eye-closed\"\r\n  | \"arrow-left\"\r\n  | \"arrow-right\"\r\n  | \"chevron-left\"\r\n  | \"chevron-right\"\r\n  | \"arrow-both\"\r\n  | \"triangle-down\"\r\n  | \"triangle-right\"\r\n  | \"note\"\r\n  | \"location\"\r\n  | \"search\"\r\n  | \"zoom-in\"\r\n  | \"check\"\r\n  | \"plus\"\r\n  | \"arrow-up-down\"\r\n  | \"sort\";\r\n\r\n/**\r\n * Icon definition with SVG path data and metadata\r\n */\r\ninterface IconDefinition {\r\n  /**\r\n   * SVG path data (d attribute) or full inner HTML for multi-path icons\r\n   */\r\n  path: string;\r\n  /**\r\n   * ViewBox dimensions (default: \"0 0 16 16\")\r\n   */\r\n  viewBox?: string;\r\n  /**\r\n   * Whether this is full inner HTML (multiple paths/elements) vs single path\r\n   */\r\n  isInnerHTML?: boolean;\r\n}\r\n\r\n/**\r\n * Registry of all icon definitions with official GitHub Octicons SVG paths\r\n */\r\nconst ICON_DEFINITIONS: Record<IconName, IconDefinition> = {\r\n  // View layouts\r\n  table: {\r\n    path: \"M0 1.75C0 .784.784 0 1.75 0h12.5C15.216 0 16 .784 16 1.75v12.5A1.75 1.75 0 0 1 14.25 16H1.75A1.75 1.75 0 0 1 0 14.25ZM6.5 6.5v8h7.75a.25.25 0 0 0 .25-.25V6.5Zm8-1.5V1.75a.25.25 0 0 0-.25-.25H6.5V5Zm-13 1.5v7.75c0 .138.112.25.25.25H5v-8ZM5 5V1.5H1.75a.25.25 0 0 0-.25.25V5Z\",\r\n  },\r\n  project: {\r\n    path: \"M1.75 0h12.5C15.216 0 16 .784 16 1.75v12.5A1.75 1.75 0 0 1 14.25 16H1.75A1.75 1.75 0 0 1 0 14.25V1.75C0 .784.784 0 1.75 0ZM1.5 1.75v12.5c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25V1.75a.25.25 0 0 0-.25-.25H1.75a.25.25 0 0 0-.25.25ZM11.75 3a.75.75 0 0 1 .75.75v7.5a.75.75 0 0 1-1.5 0v-7.5a.75.75 0 0 1 .75-.75Zm-8.25.75a.75.75 0 0 1 1.5 0v5.5a.75.75 0 0 1-1.5 0ZM8 3a.75.75 0 0 1 .75.75v3.5a.75.75 0 0 1-1.5 0v-3.5A.75.75 0 0 1 8 3Z\",\r\n  },\r\n  board: {\r\n    // Same as project icon\r\n    path: \"M1.75 0h12.5C15.216 0 16 .784 16 1.75v12.5A1.75 1.75 0 0 1 14.25 16H1.75A1.75 1.75 0 0 1 0 14.25V1.75C0 .784.784 0 1.75 0ZM1.5 1.75v12.5c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25V1.75a.25.25 0 0 0-.25-.25H1.75a.25.25 0 0 0-.25.25ZM11.75 3a.75.75 0 0 1 .75.75v7.5a.75.75 0 0 1-1.5 0v-7.5a.75.75 0 0 1 .75-.75Zm-8.25.75a.75.75 0 0 1 1.5 0v5.5a.75.75 0 0 1-1.5 0ZM8 3a.75.75 0 0 1 .75.75v3.5a.75.75 0 0 1-1.5 0v-3.5A.75.75 0 0 1 8 3Z\",\r\n  },\r\n  roadmap: {\r\n    path: '<path d=\"M4.75 7a.75.75 0 0 0 0 1.5h4.5a.75.75 0 0 0 0-1.5h-4.5ZM5 4.75A.75.75 0 0 1 5.75 4h5.5a.75.75 0 0 1 0 1.5h-5.5A.75.75 0 0 1 5 4.75ZM6.75 10a.75.75 0 0 0 0 1.5h4.5a.75.75 0 0 0 0-1.5h-4.5Z\" /><path d=\"M0 1.75C0 .784.784 0 1.75 0h12.5C15.216 0 16 .784 16 1.75v12.5A1.75 1.75 0 0 1 14.25 16H1.75A1.75 1.75 0 0 1 0 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25V1.75a.25.25 0 0 0-.25-.25Z\" />',\r\n    isInnerHTML: true,\r\n  },\r\n\r\n  // Field types\r\n  list: {\r\n    path: \"M5.75 2.5h8.5a.75.75 0 0 1 0 1.5h-8.5a.75.75 0 0 1 0-1.5Zm0 5h8.5a.75.75 0 0 1 0 1.5h-8.5a.75.75 0 0 1 0-1.5Zm0 5h8.5a.75.75 0 0 1 0 1.5h-8.5a.75.75 0 0 1 0-1.5ZM2 14a1 1 0 1 1 0-2 1 1 0 0 1 0 2Zm1-6a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM2 4a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z\",\r\n  },\r\n  people: {\r\n    path: \"M2 5.5a3.5 3.5 0 1 1 5.898 2.549 5.508 5.508 0 0 1 3.034 4.084.75.75 0 1 1-1.482.235 4 4 0 0 0-7.9 0 .75.75 0 0 1-1.482-.236A5.507 5.507 0 0 1 3.102 8.05 3.493 3.493 0 0 1 2 5.5ZM11 4a3.001 3.001 0 0 1 2.22 5.018 5.01 5.01 0 0 1 2.56 3.012.749.749 0 0 1-.885.954.752.752 0 0 1-.549-.514 3.507 3.507 0 0 0-2.522-2.372.75.75 0 0 1-.574-.73v-.352a.75.75 0 0 1 .416-.672A1.5 1.5 0 0 0 11 5.5.75.75 0 0 1 11 4Zm-5.5-.5a2 2 0 1 0-.001 3.999A2 2 0 0 0 5.5 3.5Z\",\r\n  },\r\n  tag: {\r\n    path: '<path d=\"M1 7.775V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 0 1 0 2.474l-5.026 5.026a1.75 1.75 0 0 1-2.474 0l-6.25-6.25A1.752 1.752 0 0 1 1 7.775Zm1.5 0c0 .066.026.13.073.177l6.25 6.25a.25.25 0 0 0 .354 0l5.025-5.025a.25.25 0 0 0 0-.354l-6.25-6.25a.25.25 0 0 0-.177-.073H2.75a.25.25 0 0 0-.25.25\"></path>',\r\n    isInnerHTML: true,\r\n  },\r\n  \"single-select\": {\r\n    path: '<path d=\"m5.06 7.356 2.795 2.833c.08.081.21.081.29 0l2.794-2.833c.13-.131.038-.356-.145-.356H5.206c-.183 0-.275.225-.145.356Z\"></path><path d=\"M1 2.75C1 1.784 1.784 1 2.75 1h10.5c.966 0 1.75.784 1.75 1.75v10.5A1.75 1.75 0 0 1 13.25 15H2.75A1.75 1.75 0 0 1 1 13.25Zm1.75-.25a.25.25 0 0 0-.25.25v10.5c0 .138.112.25.25.25h10.5a.25.25 0 0 0 .25-.25V2.75a.25.25 0 0 0-.25-.25Z\"></path>',\r\n    isInnerHTML: true,\r\n  },\r\n  \"issue-tracks\": {\r\n    path: '<path d=\"M1.5 8a6.5 6.5 0 0 1 13 0A.75.75 0 0 0 16 8a8 8 0 1 0-8 8 .75.75 0 0 0 0-1.5A6.5 6.5 0 0 1 1.5 8Z\"></path><path d=\"M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm3.573 5.823-2.896-2.896a.25.25 0 0 1 0-.354l2.896-2.896a.25.25 0 0 1 .427.177V11.5h3.25a.75.75 0 0 1 0 1.5H12v2.146a.25.25 0 0 1-.427.177Z\"></path>',\r\n    isInnerHTML: true,\r\n  },\r\n  \"issue-tracked-by\": {\r\n    path: '<path d=\"M1.5 8a6.5 6.5 0 0 1 13 0A.75.75 0 0 0 16 8a8 8 0 1 0-8 8 .75.75 0 0 0 0-1.5A6.5 6.5 0 0 1 1.5 8Z\"></path><path d=\"M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm1.5 1.75a.75.75 0 0 1 .75-.75h5a.75.75 0 0 1 0 1.5h-5a.75.75 0 0 1-.75-.75Zm2.75 2.25a.75.75 0 0 0 0 1.5h3a.75.75 0 0 0 0-1.5h-3Z\"></path>',\r\n    isInnerHTML: true,\r\n  },\r\n  iterations: {\r\n    path: \"M2.5 7.25a4.75 4.75 0 0 1 9.5 0 .75.75 0 0 0 1.5 0 6.25 6.25 0 1 0-6.25 6.25H12v2.146c0 .223.27.335.427.177l2.896-2.896a.25.25 0 0 0 0-.354l-2.896-2.896a.25.25 0 0 0-.427.177V12H7.25A4.75 4.75 0 0 1 2.5 7.25Z\",\r\n  },\r\n  number: {\r\n    path: \"M9 4.75A.75.75 0 0 1 9.75 4h4a.75.75 0 0 1 .53 1.28l-1.89 1.892c.312.076.604.18.867.319.742.391 1.244 1.063 1.244 2.005 0 .653-.231 1.208-.629 1.627-.386.408-.894.653-1.408.777-1.01.243-2.225.063-3.124-.527a.751.751 0 0 1 .822-1.254c.534.35 1.32.474 1.951.322.306-.073.53-.201.67-.349.129-.136.218-.32.218-.596 0-.308-.123-.509-.444-.678-.373-.197-.98-.318-1.806-.318a.75.75 0 0 1-.53-1.28l1.72-1.72H9.75A.75.75 0 0 1 9 4.75Zm-3.587 5.763c-.35-.05-.77.113-.983.572a.75.75 0 1 1-1.36-.632c.508-1.094 1.589-1.565 2.558-1.425 1 .145 1.872.945 1.872 2.222 0 1.433-1.088 2.192-1.79 2.681-.308.216-.571.397-.772.573H7a.75.75 0 0 1 0 1.5H3.75a.75.75 0 0 1-.75-.75c0-.69.3-1.211.67-1.61.348-.372.8-.676 1.15-.92.8-.56 1.18-.904 1.18-1.474 0-.473-.267-.69-.587-.737ZM5.604.089A.75.75 0 0 1 6 .75v4.77h.711a.75.75 0 0 1 0 1.5H3.759a.75.75 0 0 1 0-1.5H4.5V2.15l-.334.223a.75.75 0 0 1-.832-1.248l1.5-1a.75.75 0 0 1 .77-.037Z\",\r\n  },\r\n  calendar: {\r\n    path: \"M4.75 0a.75.75 0 0 1 .75.75V2h5V.75a.75.75 0 0 1 1.5 0V2h1.25c.966 0 1.75.784 1.75 1.75v10.5A1.75 1.75 0 0 1 13.25 16H2.75A1.75 1.75 0 0 1 1 14.25V3.75C1 2.784 1.784 2 2.75 2H4V.75A.75.75 0 0 1 4.75 0ZM2.5 7.5v6.75c0 .138.112.25.25.25h10.5a.25.25 0 0 0 .25-.25V7.5Zm10.75-4H2.75a.25.25 0 0 0-.25.25V6h11V3.75a.25.25 0 0 0-.25-.25Z\",\r\n  },\r\n  \"pull-request\": {\r\n    path: \"M1.5 3.25a2.25 2.25 0 1 1 3 2.122v5.256a2.251 2.251 0 1 1-1.5 0V5.372A2.25 2.25 0 0 1 1.5 3.25Zm5.677-.177L9.573.677A.25.25 0 0 1 10 .854V2.5h1A2.5 2.5 0 0 1 13.5 5v5.628a2.251 2.251 0 1 1-1.5 0V5a1 1 0 0 0-1-1h-1v1.646a.25.25 0 0 1-.427.177L7.177 3.427a.25.25 0 0 1 0-.354ZM3.75 2.5a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Zm0 9.5a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Zm8.25.75a.75.75 0 1 0 1.5 0 .75.75 0 0 0-1.5 0Z\",\r\n  },\r\n  milestone: {\r\n    path: \"M7.75 0a.75.75 0 0 1 .75.75V3h3.634c.414 0 .814.147 1.13.414l2.07 1.75a1.75 1.75 0 0 1 0 2.672l-2.07 1.75a1.75 1.75 0 0 1-1.13.414H8.5v5.25a.75.75 0 0 1-1.5 0V10H2.75A1.75 1.75 0 0 1 1 8.25v-3.5C1 3.784 1.784 3 2.75 3H7V.75A.75.75 0 0 1 7.75 0Zm4.384 8.5a.25.25 0 0 0 .161-.06l2.07-1.75a.248.248 0 0 0 0-.38l-2.07-1.75a.25.25 0 0 0-.161-.06H2.75a.25.25 0 0 0-.25.25v3.5c0 .138.112.25.25.25h9.384Z\",\r\n  },\r\n  repo: {\r\n    path: \"M2 2.5A2.5 2.5 0 0 1 4.5 0h8.75a.75.75 0 0 1 .75.75v12.5a.75.75 0 0 1-.75.75h-2.5a.75.75 0 0 1 0-1.5h1.75v-2h-8a1 1 0 0 0-.714 1.7.75.75 0 1 1-1.072 1.05A2.495 2.495 0 0 1 2 11.5Zm10.5-1h-8a1 1 0 0 0-1 1v6.708A2.486 2.486 0 0 1 4.5 9h8ZM5 12.25a.25.25 0 0 1 .25-.25h3.5a.25.25 0 0 1 .25.25v3.25a.25.25 0 0 1-.4.2l-1.45-1.087a.249.249 0 0 0-.3 0L5.4 15.7a.25.25 0 0 1-.4-.2Z\",\r\n  },\r\n  typography: {\r\n    path: \"M6.71 10H2.332l-.874 2.498a.75.75 0 0 1-1.415-.496l3.39-9.688a1.217 1.217 0 0 1 2.302.018l3.227 9.681a.75.75 0 0 1-1.423.474Zm3.13-4.358C10.53 4.374 11.87 4 13 4c1.5 0 3 .939 3 2.601v5.649a.75.75 0 0 1-1.448.275C13.995 12.82 13.3 13 12.5 13c-.77 0-1.514-.231-2.078-.709-.577-.488-.922-1.199-.922-2.041 0-.694.265-1.411.887-1.944C11 7.78 11.88 7.5 13 7.5h1.5v-.899c0-.54-.5-1.101-1.5-1.101-.869 0-1.528.282-1.84.858a.75.75 0 1 1-1.32-.716ZM6.21 8.5 4.574 3.594 2.857 8.5Zm8.29.5H13c-.881 0-1.375.22-1.637.444-.253.217-.363.5-.363.806 0 .408.155.697.39.896.249.21.63.354 1.11.354.732 0 1.26-.209 1.588-.449.35-.257.412-.495.412-.551Z\",\r\n  },\r\n\r\n  // Issues and pull requests\r\n  \"issue-opened\": {\r\n    path: '<path d=\"M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z\"></path><path d=\"M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Z\"></path>',\r\n    isInnerHTML: true,\r\n  },\r\n  \"issue-closed\": {\r\n    path: '<path d=\"M11.28 6.78a.75.75 0 0 0-1.06-1.06L7.25 8.69 5.78 7.22a.75.75 0 0 0-1.06 1.06l2 2a.75.75 0 0 0 1.06 0l3.5-3.5Z\"></path><path d=\"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0Zm-1.5 0a6.5 6.5 0 1 0-13 0 6.5 6.5 0 0 0 13 0Z\"></path>',\r\n    isInnerHTML: true,\r\n  },\r\n  \"issue-draft\": {\r\n    path: '<path d=\"M14.307 11.655a.75.75 0 0 1 .165 1.048 8.05 8.05 0 0 1-1.769 1.77.75.75 0 0 1-.883-1.214 6.552 6.552 0 0 0 1.44-1.439.75.75 0 0 1 1.047-.165Zm-2.652-9.962a.75.75 0 0 1 1.048-.165 8.05 8.05 0 0 1 1.77 1.769.75.75 0 0 1-1.214.883 6.552 6.552 0 0 0-1.439-1.44.75.75 0 0 1-.165-1.047ZM6.749.097a8.074 8.074 0 0 1 2.502 0 .75.75 0 1 1-.233 1.482 6.558 6.558 0 0 0-2.036 0A.751.751 0 0 1 6.749.097ZM.955 6.125a.75.75 0 0 1 .624.857 6.558 6.558 0 0 0 0 2.036.75.75 0 1 1-1.482.233 8.074 8.074 0 0 1 0-2.502.75.75 0 0 1 .858-.624Zm14.09 0a.75.75 0 0 1 .858.624c.13.829.13 1.673 0 2.502a.75.75 0 1 1-1.482-.233 6.558 6.558 0 0 0 0-2.036.75.75 0 0 1 .624-.857Zm-8.92 8.92a.75.75 0 0 1 .857-.624 6.558 6.558 0 0 0 2.036 0 .75.75 0 1 1 .233 1.482c-.829.13-1.673.13-2.502 0a.75.75 0 0 1-.624-.858Zm-4.432-3.39a.75.75 0 0 1 1.048.165 6.552 6.552 0 0 0 1.439 1.44.751.751 0 0 1-.883 1.212 8.05 8.05 0 0 1-1.77-1.769.75.75 0 0 1 .166-1.048Zm2.652-9.962A.75.75 0 0 1 4.18 2.74a6.556 6.556 0 0 0-1.44 1.44.751.751 0 0 1-1.212-.883 8.05 8.05 0 0 1 1.769-1.77.75.75 0 0 1 1.048.166Z\"></path>',\r\n    isInnerHTML: true,\r\n  },\r\n  \"git-pull-request\": {\r\n    path: \"M1.5 3.25a2.25 2.25 0 1 1 3 2.122v5.256a2.251 2.251 0 1 1-1.5 0V5.372A2.25 2.25 0 0 1 1.5 3.25Zm5.677-.177L9.573.677A.25.25 0 0 1 10 .854V2.5h1A2.5 2.5 0 0 1 13.5 5v5.628a2.251 2.251 0 1 1-1.5 0V5a1 1 0 0 0-1-1h-1v1.646a.25.25 0 0 1-.427.177L7.177 3.427a.25.25 0 0 1 0-.354ZM3.75 2.5a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Zm0 9.5a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Zm8.25.75a.75.75 0 1 0 1.5 0 .75.75 0 0 0-1.5 0Z\",\r\n  },\r\n  \"git-pull-request-closed\": {\r\n    path: \"M3.25 1A2.25 2.25 0 0 1 4 5.372v5.256a2.251 2.251 0 1 1-1.5 0V5.372A2.251 2.251 0 0 1 3.25 1Zm9.5 5.5a.75.75 0 0 1 .75.75v3.378a2.251 2.251 0 1 1-1.5 0V7.25a.75.75 0 0 1 .75-.75Zm-2.03-5.273a.75.75 0 0 1 1.06 0l.97.97.97-.97a.748.748 0 0 1 1.265.332.75.75 0 0 1-.205.729l-.97.97.97.97a.751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018l-.97-.97-.97.97a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734l.97-.97-.97-.97a.75.75 0 0 1 0-1.06ZM2.5 3.25a.75.75 0 1 0 1.5 0 .75.75 0 0 0-1.5 0ZM3.25 12a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Zm9.5 0a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Z\",\r\n  },\r\n  \"git-pull-request-draft\": {\r\n    path: \"M3.25 1A2.25 2.25 0 0 1 4 5.372v5.256a2.251 2.251 0 1 1-1.5 0V5.372A2.251 2.251 0 0 1 3.25 1Zm9.5 14a2.25 2.25 0 1 1 0-4.5 2.25 2.25 0 0 1 0 4.5ZM2.5 3.25a.75.75 0 1 0 1.5 0 .75.75 0 0 0-1.5 0ZM3.25 12a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Zm9.5 0a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5ZM14 7.5a1.25 1.25 0 1 1-2.5 0 1.25 1.25 0 0 1 2.5 0Zm0-4.25a1.25 1.25 0 1 1-2.5 0 1.25 1.25 0 0 1 2.5 0Z\",\r\n  },\r\n  \"git-merge\": {\r\n    path: \"M5.45 5.154A4.25 4.25 0 0 0 9.25 7.5h1.378a2.251 2.251 0 1 1 0 1.5H9.25A5.734 5.734 0 0 1 5 7.123v3.505a2.25 2.25 0 1 1-1.5 0V5.372a2.25 2.25 0 1 1 1.95-.218ZM4.25 13.5a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm8.5-4.5a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM5 3.25a.75.75 0 1 0 0 .005V3.25Z\",\r\n  },\r\n  blocked: {\r\n    path: \"M4.467.22a.749.749 0 0 1 .53-.22h6.006c.199 0 .389.079.53.22l4.247 4.247c.141.14.22.331.22.53v6.006a.749.749 0 0 1-.22.53l-4.247 4.247a.749.749 0 0 1-.53.22H4.997a.749.749 0 0 1-.53-.22L.22 11.533a.749.749 0 0 1-.22-.53V4.997c0-.199.079-.389.22-.53Zm.84 1.28L1.5 5.308v5.384L5.308 14.5h5.384l3.808-3.808V5.308L10.692 1.5ZM4 7.75A.75.75 0 0 1 4.75 7h6.5a.75.75 0 0 1 0 1.5h-6.5A.75.75 0 0 1 4 7.75Z\",\r\n  },\r\n\r\n  // Sorting and grouping\r\n  \"sort-asc\": {\r\n    path: \"m12.927 2.573 3 3A.25.25 0 0 1 15.75 6H13.5v6.75a.75.75 0 0 1-1.5 0V6H9.75a.25.25 0 0 1-.177-.427l3-3a.25.25 0 0 1 .354 0ZM0 12.25a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5H.75a.75.75 0 0 1-.75-.75Zm0-4a.75.75 0 0 1 .75-.75h4.5a.75.75 0 0 1 0 1.5H.75A.75.75 0 0 1 0 8.25Zm0-4a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 1 0 1.5H.75A.75.75 0 0 1 0 4.25Z\",\r\n  },\r\n  \"sort-desc\": {\r\n    path: \"M0 4.25a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5H.75A.75.75 0 0 1 0 4.25Zm0 4a.75.75 0 0 1 .75-.75h4.5a.75.75 0 0 1 0 1.5H.75A.75.75 0 0 1 0 8.25Zm0 4a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 1 0 1.5H.75a.75.75 0 0 1-.75-.75ZM13.5 10h2.25a.25.25 0 0 1 .177.427l-3 3a.25.25 0 0 1-.354 0l-3-3A.25.25 0 0 1 9.75 10H12V3.75a.75.75 0 0 1 1.5 0V10Z\",\r\n  },\r\n  rows: {\r\n    path: \"M16 10.75v2.5A1.75 1.75 0 0 1 14.25 15H1.75A1.75 1.75 0 0 1 0 13.25v-2.5C0 9.784.784 9 1.75 9h12.5c.966 0 1.75.784 1.75 1.75Zm0-8v2.5A1.75 1.75 0 0 1 14.25 7H1.75A1.75 1.75 0 0 1 0 5.25v-2.5C0 1.784.784 1 1.75 1h12.5c.966 0 1.75.784 1.75 1.75Zm-1.75-.25H1.75a.25.25 0 0 0-.25.25v2.5c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25v-2.5a.25.25 0 0 0-.25-.25Zm0 8H1.75a.25.25 0 0 0-.25.25v2.5c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25v-2.5a.25.25 0 0 0-.25-.25Z\",\r\n  },\r\n  sliceby: {\r\n    path: \"M14.5 1.5H6.5V5H10C10.4142 5 10.75 5.33579 10.75 5.75C10.75 6.16421 10.4142 6.5 10 6.5H6.5V7.75C6.5 8.16421 6.16421 8.5 5.75 8.5C5.33579 8.5 5 8.16421 5 7.75V6.5H1.5V14.5H5V12.75C5 12.3358 5.33579 12 5.75 12C6.16421 12 6.5 12.3358 6.5 12.75V14.5H14.5V1.5ZM5 1.5V5H1.5V1.5H5ZM0 14.5V5.75V1.5C0 0.671573 0.671573 0 1.5 0H5.75H14.5C15.3284 0 16 0.671573 16 1.5V14.5C16 15.3284 15.3284 16 14.5 16H5.75H1.5C0.671573 16 0 15.3284 0 14.5ZM9.62012 9.58516C10.8677 9.59206 11.8826 8.58286 11.8826 7.33544V6.32279C11.8826 5.90857 12.2184 5.57279 12.6326 5.57279C13.0468 5.57279 13.3826 5.90857 13.3826 6.32279V7.33544C13.3826 9.4147 11.6909 11.0966 9.61182 11.0851L9.3826 11.0839L9.3826 12.9995C9.3826 13.2178 9.12245 13.3312 8.96248 13.1827L6.07989 10.506C5.97337 10.4071 5.97337 10.2385 6.07989 10.1396L8.96248 7.46291C9.12245 7.31438 9.3826 7.42782 9.3826 7.64611V9.58384L9.62012 9.58516Z\",\r\n  },\r\n\r\n  // Navigation and actions\r\n  \"eye-closed\": {\r\n    path: \"M.143 2.31a.75.75 0 0 1 1.047-.167l14.5 10.5a.75.75 0 1 1-.88 1.214l-2.248-1.628C11.346 13.19 9.792 14 8 14c-1.981 0-3.67-.992-4.933-2.078C1.797 10.832.88 9.577.43 8.9a1.619 1.619 0 0 1 0-1.797c.353-.533.995-1.42 1.868-2.305L.31 3.357A.75.75 0 0 1 .143 2.31Zm1.536 5.622A.12.12 0 0 0 1.657 8c0 .021.006.045.022.068.412.621 1.242 1.75 2.366 2.717C5.175 11.758 6.527 12.5 8 12.5c1.195 0 2.31-.488 3.29-1.191L9.063 9.695A2 2 0 0 1 6.058 7.52L3.529 5.688a14.207 14.207 0 0 0-1.85 2.244ZM8 3.5c-.516 0-1.017.09-1.499.251a.75.75 0 1 1-.473-1.423A6.207 6.207 0 0 1 8 2c1.981 0 3.67.992 4.933 2.078 1.27 1.091 2.187 2.345 2.637 3.023a1.62 1.62 0 0 1 0 1.798c-.11.166-.248.365-.41.587a.75.75 0 1 1-1.21-.887c.148-.201.272-.382.371-.53a.119.119 0 0 0 0-.137c-.412-.621-1.242-1.75-2.366-2.717C10.825 4.242 9.473 3.5 8 3.5Z\",\r\n  },\r\n  \"arrow-left\": {\r\n    path: \"M7.78 12.53a.75.75 0 0 1-1.06 0L2.47 8.28a.75.75 0 0 1 0-1.06l4.25-4.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042L4.81 7h7.44a.75.75 0 0 1 0 1.5H4.81l2.97 2.97a.75.75 0 0 1 0 1.06Z\",\r\n  },\r\n  \"arrow-right\": {\r\n    path: \"M8.22 2.97a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042l2.97-2.97H3.75a.75.75 0 0 1 0-1.5h7.44L8.22 4.03a.75.75 0 0 1 0-1.06Z\",\r\n  },\r\n  \"triangle-down\": {\r\n    path: \"M4.427 7.427l3.396 3.396a.25.25 0 00.354 0l3.396-3.396A.25.25 0 0011.396 7H4.604a.25.25 0 00-.177.427z\",\r\n  },\r\n  \"triangle-right\": {\r\n    path: \"M8.573 4.604a.25.25 0 01.427-.177l3.396 3.396a.25.25 0 010 .354l-3.396 3.396a.25.25 0 01-.427-.177V4.604z\",\r\n  },\r\n  note: {\r\n    path: \"M0 3.75C0 2.784.784 2 1.75 2h12.5c.966 0 1.75.784 1.75 1.75v8.5A1.75 1.75 0 0 1 14.25 14H1.75A1.75 1.75 0 0 1 0 12.25Zm1.75-.25a.25.25 0 0 0-.25.25v8.5c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25v-8.5a.25.25 0 0 0-.25-.25ZM3.5 6.25a.75.75 0 0 1 .75-.75h7a.75.75 0 0 1 0 1.5h-7a.75.75 0 0 1-.75-.75Zm.75 2.25a.75.75 0 0 0 0 1.5h4a.75.75 0 0 0 0-1.5h-4Z\",\r\n  },\r\n  \"chevron-left\": {\r\n    path: \"M9.78 12.78a.75.75 0 0 1-1.06 0L4.47 8.53a.75.75 0 0 1 0-1.06l4.25-4.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042L6.06 8l3.72 3.72a.75.75 0 0 1 0 1.06Z\",\r\n  },\r\n  \"chevron-right\": {\r\n    path: \"M6.22 3.22a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L9.94 8 6.22 4.28a.75.75 0 0 1 0-1.06Z\",\r\n  },\r\n  \"arrow-both\": {\r\n    path: \"M3.72 3.72a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042L2.56 7h10.88l-2.22-2.22a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018l3.5 3.5a.75.75 0 0 1 0 1.06l-3.5 3.5a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734l2.22-2.22H2.56l2.22 2.22a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215l-3.5-3.5a.75.75 0 0 1 0-1.06Z\",\r\n  },\r\n  location: {\r\n    path: \"m12.596 11.596-3.535 3.536a1.5 1.5 0 0 1-2.122 0l-3.535-3.536a6.5 6.5 0 1 1 9.192-9.193 6.5 6.5 0 0 1 0 9.193Zm-1.06-8.132v-.001a5 5 0 1 0-7.072 7.072L8 14.07l3.536-3.534a5 5 0 0 0 0-7.072ZM8 9a2 2 0 1 1-.001-3.999A2 2 0 0 1 8 9Z\",\r\n  },\r\n  \"zoom-in\": {\r\n    path: '<path d=\"M3.75 7.5a.75.75 0 0 1 .75-.75h2.25V4.5a.75.75 0 0 1 1.5 0v2.25h2.25a.75.75 0 0 1 0 1.5H8.25v2.25a.75.75 0 0 1-1.5 0V8.25H4.5a.75.75 0 0 1-.75-.75Z\"></path><path d=\"M7.5 0a7.5 7.5 0 0 1 5.807 12.247l2.473 2.473a.749.749 0 1 1-1.06 1.06l-2.473-2.473A7.5 7.5 0 1 1 7.5 0Zm-6 7.5a6 6 0 1 0 12 0 6 6 0 0 0-12 0Z\"></path>',\r\n    isInnerHTML: true,\r\n  },\r\n  check: {\r\n    path: \"M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z\",\r\n  },\r\n  plus: {\r\n    path: \"M8 0a.75.75 0 0 1 .75.75v6.5h6.5a.75.75 0 0 1 0 1.5h-6.5v6.5a.75.75 0 0 1-1.5 0v-6.5h-6.5a.75.75 0 0 1 0-1.5h6.5v-6.5A.75.75 0 0 1 8 0Z\",\r\n  },\r\n  search: {\r\n    path: \"M10.68 11.74a6 6 0 1 1 1.06-1.06l2.74 2.74a.75.75 0 1 1-1.06 1.06l-2.74-2.74ZM12 7a5 5 0 1 1-10 0 5 5 0 0 1 10 0Z\",\r\n  },\r\n  \"arrow-up-down\": {\r\n    path: \"M8 2.5a.75.75 0 0 1 .53.22l3.5 3.5a.75.75 0 0 1-1.06 1.06L9 5.06v5.88l1.97-1.97a.75.75 0 0 1 1.06 1.06l-3.5 3.5a.75.75 0 0 1-1.06 0l-3.5-3.5a.75.75 0 1 1 1.06-1.06L7 10.94V5.06L5.03 7.03a.75.75 0 0 1-1.06-1.06l3.5-3.5A.75.75 0 0 1 8 2.5Z\",\r\n  },\r\n  sort: {\r\n    path: \"M0 4.25a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5H.75A.75.75 0 0 1 0 4.25Zm0 4a.75.75 0 0 1 .75-.75h4.5a.75.75 0 0 1 0 1.5H.75A.75.75 0 0 1 0 8.25Zm0 4a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 1 0 1.5H.75a.75.75 0 0 1-.75-.75ZM13.5 10h2.25a.25.25 0 0 1 .177.427l-3 3a.25.25 0 0 1-.354 0l-3-3A.25.25 0 0 1 9.75 10H12V3.75a.75.75 0 0 1 1.5 0V10Z\",\r\n  }\r\n};\r\n\r\n/**\r\n * Options for customizing icon rendering\r\n */\r\nexport interface IconOptions {\r\n  /**\r\n   * Icon size (width and height in pixels, default: 14)\r\n   */\r\n  size?: number;\r\n  /**\r\n   * Additional CSS class names\r\n   */\r\n  className?: string;\r\n  /**\r\n   * Color fill (default: currentColor)\r\n   */\r\n  fill?: string;\r\n  /**\r\n   * ARIA label for accessibility (makes icon visible to screen readers)\r\n   */\r\n  ariaLabel?: string;\r\n  /**\r\n   * Title text for tooltip\r\n   */\r\n  title?: string;\r\n}\r\n\r\n/**\r\n * Get an inline SVG string for the specified icon\r\n * @param name - The icon name from the registry\r\n * @param options - Optional customization options\r\n * @returns HTML string containing the SVG element\r\n */\r\nexport function getIconSvg(name: IconName, options: IconOptions = {}): string {\r\n  const icon = ICON_DEFINITIONS[name];\r\n  if (!icon) {\r\n    console.warn(`Icon \"${name}\" not found in registry`);\r\n    return \"\";\r\n  }\r\n\r\n  const size = options.size ?? 14;\r\n  const className = options.className\r\n    ? `octicon octicon-${name} ${options.className}`\r\n    : `octicon octicon-${name}`;\r\n  const fill = options.fill ?? \"currentColor\";\r\n  const viewBox = icon.viewBox ?? \"0 0 16 16\";\r\n  const ariaHidden = options.ariaLabel ? \"false\" : \"true\";\r\n  const ariaLabel = options.ariaLabel\r\n    ? ` aria-label=\"${escapeHtml(options.ariaLabel)}\"`\r\n    : \"\";\r\n  const title = options.title\r\n    ? `<title>${escapeHtml(options.title)}</title>`\r\n    : \"\";\r\n\r\n  // Build SVG string\r\n  let innerContent: string;\r\n  if (icon.isInnerHTML) {\r\n    innerContent = icon.path;\r\n  } else {\r\n    innerContent = `<path d=\"${icon.path}\"/>`;\r\n  }\r\n\r\n  return `<svg class=\"${className}\" viewBox=\"${viewBox}\" width=\"${size}\" height=\"${size}\" fill=\"${fill}\" aria-hidden=\"${ariaHidden}\"${ariaLabel} focusable=\"false\">${title}${innerContent}</svg>`;\r\n}\r\n\r\n/**\r\n * Create a DOM element for the specified icon\r\n * @param name - The icon name from the registry\r\n * @param options - Optional customization options\r\n * @returns HTMLElement containing the icon\r\n */\r\nexport function createIconElement(\r\n  name: IconName,\r\n  options: IconOptions = {},\r\n): HTMLElement {\r\n  const wrapper = document.createElement(\"span\");\r\n  wrapper.innerHTML = getIconSvg(name, options);\r\n  return wrapper.firstElementChild as HTMLElement;\r\n}\r\n\r\n/**\r\n * Helper function to escape HTML special characters\r\n */\r\nfunction escapeHtml(text: string): string {\r\n  return text\r\n    .replace(/&/g, \"&amp;\")\r\n    .replace(/</g, \"&lt;\")\r\n    .replace(/>/g, \"&gt;\")\r\n    .replace(/\"/g, \"&quot;\")\r\n    .replace(/'/g, \"&#39;\");\r\n}\r\n\r\n/**\r\n * Map field data types to icon names\r\n * @param dataType - The field data type\r\n * @returns The corresponding icon name\r\n */\r\nexport function getIconNameForDataType(dataType: string): IconName {\r\n  const normalized = (dataType || \"\").toLowerCase();\r\n\r\n  switch (normalized) {\r\n    case \"title\":\r\n      return \"list\";\r\n    case \"assignees\":\r\n    case \"reviewers\":\r\n      return \"people\";\r\n    case \"single_select\":\r\n      return \"single-select\";\r\n    case \"labels\":\r\n      return \"tag\";\r\n    case \"parent_issue\":\r\n      return \"issue-tracks\";\r\n    case \"sub_issues_progress\":\r\n      return \"issue-tracked-by\";\r\n    case \"iteration\":\r\n      return \"iterations\";\r\n    case \"number\":\r\n    case \"numeric\":\r\n      return \"number\";\r\n    case \"date\":\r\n      return \"calendar\";\r\n    case \"linked_pull_request\":\r\n    case \"linked_pull_requests\":\r\n    case \"pull_request\":\r\n      return \"pull-request\";\r\n    case \"milestone\":\r\n      return \"milestone\";\r\n    case \"repository\":\r\n      return \"repo\";\r\n    case \"text\":\r\n    case \"string\":\r\n      return \"typography\";\r\n    default:\r\n      return \"tag\"; // fallback\r\n  }\r\n}\r\n", "import {\r\n  escapeHtml,\r\n  normalizeColor,\r\n  getContrastColor,\r\n  addAlpha,\r\n} from \"../../client/utils\";\r\nimport { getIconSvg } from \"../icons/iconRegistry\";\r\n\r\nexport interface CellRendererStrategy {\r\n  render(value: any, field: any, item: any, allItems: any): string;\r\n}\r\n\r\nexport class TitleRenderer implements CellRendererStrategy {\r\n  render(value: any, field: any, item: any, allItems: any): string {\r\n    let t =\r\n      (value &&\r\n        value.title &&\r\n        ((value.title.raw && value.title.raw.text) ||\r\n          (value.title.content &&\r\n            (value.title.content.title || value.title.content.name)) ||\r\n          (typeof value.title == \"string\" && value.title))) ||\r\n      (value && value.content && (value.content.title || value.content.name)) ||\r\n      (value && value.raw && value.raw.text) ||\r\n      \"\";\r\n    let o =\r\n      (value &&\r\n        value.title &&\r\n        value.title.content &&\r\n        value.title.content.number) ||\r\n      (value &&\r\n        value.raw &&\r\n        value.raw.itemContent &&\r\n        value.raw.itemContent.number) ||\r\n      (item && item.content && item.content.number) ||\r\n      \"\";\r\n    let l =\r\n      (value &&\r\n        value.title &&\r\n        value.title.content &&\r\n        value.title.content.url) ||\r\n      (value &&\r\n        value.raw &&\r\n        value.raw.itemContent &&\r\n        value.raw.itemContent.url) ||\r\n      (item && item.content && item.content.url) ||\r\n      \"\";\r\n    let r = null;\r\n    if (item && Array.isArray(item.fieldValues)) {\r\n      let w = item.fieldValues.find(\r\n        (x: any) =>\r\n          x &&\r\n          x.type === \"single_select\" &&\r\n          ((x.raw &&\r\n            x.raw.field &&\r\n            String(x.raw.field.name || \"\").toLowerCase() === \"status\") ||\r\n            (x.fieldName &&\r\n              String(x.fieldName || \"\").toLowerCase() === \"status\") ||\r\n            (x.field &&\r\n              x.field.name &&\r\n              String(x.field.name || \"\").toLowerCase() === \"status\")),\r\n      );\r\n      w &&\r\n        (r =\r\n          (w.option && (w.option.color || w.option.id || w.option.name)) ||\r\n          (w.raw && w.raw.color) ||\r\n          null);\r\n    }\r\n    let a = normalizeColor(r) || null,\r\n      p = a && /^#([0-9a-f]{3}|[0-9a-f]{6})$/i.test(a) ? a : \"#666666\",\r\n      g = escapeHtml(String(t || \"\")),\r\n      f = o ? escapeHtml(String(o)) : \"\";\r\n\r\n    // Determine high-level content type (issue vs pull request) and state\r\n    const content =\r\n      (value && value.title && value.title.content) ||\r\n      (value && value.raw && value.raw.itemContent) ||\r\n      (item && item.content) ||\r\n      null;\r\n\r\n    let isPullRequest = false;\r\n    let isDraft = false;\r\n    let isClosed = false;\r\n    let isMerged = false;\r\n    let isBlocked = false;\r\n\r\n    let parentIsDoneByStatus = false;\r\n    try {\r\n      if (content && typeof content.__typename === \"string\") {\r\n        const tname = String(content.__typename).toLowerCase();\r\n        if (tname.includes(\"pullrequest\")) isPullRequest = true;\r\n      }\r\n      if (!isPullRequest && content && typeof content.state === \"string\") {\r\n        const st = String(content.state).toUpperCase();\r\n        if (st === \"CLOSED\") isClosed = true;\r\n        if (st === \"MERGED\") isMerged = true;\r\n      }\r\n      if (isPullRequest) {\r\n        if (typeof (content as any).isDraft === \"boolean\") {\r\n          isDraft = !!(content as any).isDraft;\r\n        }\r\n        const st =\r\n          (content as any).state &&\r\n          String((content as any).state).toUpperCase();\r\n        if (st === \"CLOSED\") isClosed = true;\r\n        if ((content as any).merged) isMerged = true;\r\n      }\r\n      const completedNames = [\"done\", \"closed\", \"completed\", \"finished\"];\r\n      // Canonical blocked state from GraphQL Issue dependencies\r\n      try {\r\n        const deps =\r\n          content && (content as any).issueDependenciesSummary\r\n            ? (content as any).issueDependenciesSummary\r\n            : null;\r\n        const blockedByCount =\r\n          deps && typeof deps.blockedBy === \"number\" ? deps.blockedBy : 0;\r\n        isBlocked = blockedByCount > 0;\r\n      } catch (_) {\r\n        isBlocked = false;\r\n      }\r\n\r\n      let hasDoneFromStatus = false;\r\n      if (Array.isArray(item && item.fieldValues)) {\r\n        const statusFv = (item.fieldValues as any[]).find((fv: any) => {\r\n          if (!fv || fv.type !== \"single_select\") return false;\r\n          const fname =\r\n            (fv.raw && fv.raw.field && fv.raw.field.name) ||\r\n            fv.fieldName ||\r\n            (fv.field && fv.field.name) ||\r\n            \"\";\r\n          return String(fname || \"\").toLowerCase() === \"status\";\r\n        });\r\n        if (statusFv && statusFv.option && statusFv.option.name) {\r\n          const optNameLower = String(statusFv.option.name).toLowerCase();\r\n          if (completedNames.includes(optNameLower)) {\r\n            hasDoneFromStatus = true;\r\n          }\r\n        }\r\n      }\r\n      // Treat issues/PRs as effectively closed when status or labels indicate \"done\"-like states\r\n      const hasDoneLabel = !!(\r\n        content &&\r\n        content.labels &&\r\n        Array.isArray(content.labels.nodes) &&\r\n        content.labels.nodes.some((l: any) =>\r\n          completedNames.includes(String((l && l.name) || \"\").toLowerCase()),\r\n        )\r\n      );\r\n\r\n      if (hasDoneFromStatus || hasDoneLabel) {\r\n        // Do not override \"merged\" (PRs still show merge icon),\r\n        // but otherwise consider this effectively closed for icon purposes.\r\n        if (!isMerged) {\r\n          isClosed = true;\r\n        }\r\n      }\r\n    } catch (e) {}\r\n\r\n    // Choose base icon based on type/state\r\n    let iconName = \"issue-opened\";\r\n    if (isPullRequest) {\r\n      if (isMerged) iconName = \"git-merge\";\r\n      else if (isClosed) iconName = \"git-pull-request-closed\";\r\n      else if (isDraft) iconName = \"git-pull-request-draft\";\r\n      else iconName = \"git-pull-request\";\r\n    } else {\r\n      if (isClosed) iconName = \"issue-closed\";\r\n      else if (isDraft) iconName = \"issue-draft\";\r\n      else iconName = \"issue-opened\";\r\n    }\r\n\r\n    const baseIcon = getIconSvg(iconName as any, {\r\n      size: 14,\r\n      className: \"field-icon title-icon\",\r\n      fill: p,\r\n    });\r\n\r\n    const blockedIcon = isBlocked\r\n      ? getIconSvg(\"blocked\" as any, {\r\n          size: 9,\r\n          className: \"field-icon blocked-icon\",\r\n          fill: \"#dc3545\",\r\n        })\r\n      : \"\";\r\n\r\n    // Create tooltip with full title and number\r\n    const tooltipText = f ? `${t} #${o}` : t;\r\n\r\n    const safeUrl = escapeHtml(String(l || \"\"));\r\n    const safeTooltip = escapeHtml(tooltipText);\r\n\r\n    // When we have a URL, render as an actual anchor so that the tests can\r\n    // assert on href/target attributes. We keep data-gh-open for in-webview\r\n    // click handling while also supporting native browser semantics.\r\n    if (safeUrl) {\r\n      return (\r\n        '<a href=\"' +\r\n        safeUrl +\r\n        '\" data-gh-open=\"' +\r\n        safeUrl +\r\n        '\" title=\"' +\r\n        safeTooltip +\r\n        '\" target=\"_blank\" rel=\"noopener noreferrer\" style=\"cursor:pointer;color:inherit;text-decoration:none;display:inline-flex;align-items:center;gap:8px;width:100%;\">' +\r\n        \"<span style='position:relative;display:inline-flex;align-items:center;justify-content:center;flex-shrink:0'>\" +\r\n        baseIcon +\r\n        (blockedIcon\r\n          ? \"<span class='blocked-overlay' style='position:absolute;right:-3px;bottom:-3px;width:14px;height:14px;border-radius:999px;background:var(--vscode-editor-background);display:flex;align-items:center;justify-content:center;box-sizing:border-box;'>\" +\r\n            blockedIcon +\r\n            \"</span>\"\r\n          : \"\") +\r\n        \"</span>\" +\r\n        '<span style=\"flex:1;min-width:0;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;display:block\">' +\r\n        g +\r\n        \"</span>\" +\r\n        (f\r\n          ? '<span style=\"flex:none;margin-left:6px;color:var(--vscode-descriptionForeground);white-space:nowrap\">#' +\r\n            f +\r\n            \"</span>\"\r\n          : \"\") +\r\n        \"</a>\"\r\n      );\r\n    }\r\n\r\n    // Fallback when there is no URL: keep the non-link wrapper with tooltip.\r\n    return (\r\n      '<span title=\"' +\r\n      safeTooltip +\r\n      '\" style=\"color:inherit;display:inline-flex;align-items:center;gap:8px;width:100%;\">' +\r\n      \"<span style='position:relative;display:inline-flex;align-items:center;justify-content:center;flex-shrink:0'>\" +\r\n      baseIcon +\r\n      (blockedIcon\r\n        ? \"<span class='blocked-overlay' style='position:absolute;right:-3px;bottom:-3px;width:14px;height:14px;border-radius:999px;background:var(--vscode-editor-background);display:flex;align-items:center;justify-content:center;box-sizing:border-box;'>\" +\r\n          blockedIcon +\r\n          \"</span>\"\r\n        : \"\") +\r\n      \"</span>\" +\r\n      '<span style=\"flex:1;min-width:0;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;display:block\">' +\r\n      g +\r\n      \"</span>\" +\r\n      (f\r\n        ? '<span style=\"flex:none;margin-left:6px;color:var(--vscode-descriptionForeground);white-space:nowrap\">#' +\r\n          f +\r\n          \"</span>\"\r\n        : \"\") +\r\n      \"</span>\"\r\n    );\r\n  }\r\n}\r\n\r\nexport class TextRenderer implements CellRendererStrategy {\r\n  render(value: any): string {\r\n    return (\r\n      \"<div>\" +\r\n      escapeHtml((value && value.text) != null ? value.text : \"\") +\r\n      \"</div>\"\r\n    );\r\n  }\r\n}\r\n\r\nexport class NumberRenderer implements CellRendererStrategy {\r\n  render(value: any): string {\r\n    let t =\r\n      value.number !== void 0 && value.number !== null\r\n        ? String(value.number)\r\n        : \"\";\r\n    return (\r\n      '<div style=\"text-align:right;font-variant-numeric:tabular-nums\">' +\r\n      escapeHtml(t) +\r\n      \"</div>\"\r\n    );\r\n  }\r\n}\r\n\r\nexport class DateRenderer implements CellRendererStrategy {\r\n  render(value: any): string {\r\n    let t = value.date || value.startDate || value.dueOn || null;\r\n    if (!t) return \"<div></div>\";\r\n    try {\r\n      let o = new Date(t);\r\n      if (isNaN(o.getTime())) return \"<div>\" + escapeHtml(String(t)) + \"</div>\";\r\n      let l = o.toLocaleDateString(\"en-US\", {\r\n        month: \"short\",\r\n        day: \"numeric\",\r\n        year: \"numeric\",\r\n      });\r\n      return \"<div>\" + escapeHtml(l) + \"</div>\";\r\n    } catch (e) {\r\n      return \"<div>\" + escapeHtml(String(t)) + \"</div>\";\r\n    }\r\n  }\r\n}\r\n\r\nexport class SingleSelectRenderer implements CellRendererStrategy {\r\n  render(value: any): string {\r\n    let n =\r\n      (value && value.option && value.option.name) ||\r\n      (value && value.name) ||\r\n      \"\";\r\n    if (!n) return \"<div></div>\";\r\n    let c =\r\n      (value && value.option && (value.option.color || value.option.id)) ||\r\n      (value && value.color) ||\r\n      null;\r\n    // Match visual style of label field pills\r\n    let p = normalizeColor(c) || null,\r\n      hasHex = !!(p && /^#([0-9a-f]{3}|[0-9a-f]{6})$/i.test(p)),\r\n      border = p || \"#999999\",\r\n      bg = (hasHex && addAlpha(p, 0.12)) || \"rgba(0,0,0,0.06)\",\r\n      fg = p || \"#333333\";\r\n    return (\r\n      \"<span style='display:inline-block;padding:2px 8px;margin-right:6px;border-radius:999px;border:1px solid \" +\r\n      escapeHtml(border) +\r\n      \";background:\" +\r\n      escapeHtml(bg) +\r\n      \";color:\" +\r\n      escapeHtml(fg) +\r\n      \";font-size:12px;line-height:18px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis'>\" +\r\n      escapeHtml(n) +\r\n      \"</span>\"\r\n    );\r\n  }\r\n}\r\n\r\nexport class IterationRenderer implements CellRendererStrategy {\r\n  render(value: any): string {\r\n    let i = value.iteration || value;\r\n    if (!i || !i.title) return \"<div></div>\";\r\n    // Use same pill design as labels/single-select fields\r\n    const name = String(i.title || \"\");\r\n    const rawColor = i.color || i.colour || null;\r\n    let p = normalizeColor(rawColor) || null,\r\n      hasHex = !!(p && /^#([0-9a-f]{3}|[0-9a-f]{6})$/i.test(p)),\r\n      border = p || \"#999999\",\r\n      bg = (hasHex && addAlpha(p, 0.12)) || \"rgba(0,0,0,0.06)\",\r\n      // Ensure text color matches the pill border color\r\n      fg = border;\r\n    return (\r\n      \"<span style='display:inline-block;padding:2px 8px;margin-right:6px;border-radius:999px;border:1px solid \" +\r\n      escapeHtml(border) +\r\n      \";background:\" +\r\n      escapeHtml(bg) +\r\n      \";color:\" +\r\n      escapeHtml(fg) +\r\n      \";font-size:12px;line-height:18px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis'>\" +\r\n      escapeHtml(name) +\r\n      \"</span>\"\r\n    );\r\n  }\r\n}\r\n\r\nexport class RepositoryRenderer implements CellRendererStrategy {\r\n  render(value: any): string {\r\n    const r = value && (value.repository || value);\r\n    if (!r) return \"<div></div>\";\r\n\r\n    const name =\r\n      (r && (r.nameWithOwner || r.full_name || r.name || r.id || \"\")) || \"\";\r\n\r\n    if (!name) return \"<div></div>\";\r\n\r\n    // Extract URL from repository object\r\n    const url =\r\n      (r &&\r\n        (r.url ||\r\n          r.html_url ||\r\n          (r.nameWithOwner && `https://github.com/${r.nameWithOwner}`))) ||\r\n      \"\";\r\n\r\n    const icon = getIconSvg(\"repo\", {\r\n      size: 16,\r\n      className: \"field-icon\",\r\n      ariaLabel: \"Repository\",\r\n    });\r\n\r\n    // If we have a URL, make it clickable via data-gh-open\r\n    if (url) {\r\n      // Create tooltip with name and URL separated by a dash for better HTML rendering\r\n      const tooltip = name + \" - \" + url;\r\n      return (\r\n        '<div data-gh-open=\"' +\r\n        escapeHtml(url) +\r\n        '\" title=\"' +\r\n        escapeHtml(tooltip) +\r\n        '\" style=\"display:flex;align-items:center;gap:6px;cursor:pointer\">' +\r\n        icon +\r\n        \"<span>\" +\r\n        escapeHtml(String(name)) +\r\n        \"</span></div>\"\r\n      );\r\n    }\r\n\r\n    // Fallback: no URL, just display the name\r\n    return (\r\n      '<div style=\"display:flex;align-items:center;gap:6px\">' +\r\n      icon +\r\n      \"<span>\" +\r\n      escapeHtml(String(name)) +\r\n      \"</span></div>\"\r\n    );\r\n  }\r\n}\r\n\r\n// Helper for contrast color (duplicated from utils to avoid circular deps if utils imports this, but utils is safe)\r\n// Removed local getContrastColor since we import it.\r\n\r\nexport class LabelsRenderer implements CellRendererStrategy {\r\n  render(value: any, field: any, item: any, allItems: any): string {\r\n    return (\r\n      \"<div>\" +\r\n      (value.labels || [])\r\n        .map((o: any) => {\r\n          let l = escapeHtml(o.name || \"\"),\r\n            r =\r\n              (item &&\r\n                ((item.content &&\r\n                  item.content.repository &&\r\n                  item.content.repository.nameWithOwner) ||\r\n                  (item.repository && item.repository.nameWithOwner))) ||\r\n              (value.raw &&\r\n                value.raw.itemContent &&\r\n                value.raw.itemContent.repository &&\r\n                value.raw.itemContent.repository.nameWithOwner) ||\r\n              null,\r\n            a = o.color || o.colour || null;\r\n          if (field && field.repoOptions && r && field.repoOptions[r]) {\r\n            let k = field.repoOptions[r].find(\r\n              (L: any) => L && L.name === o.name,\r\n            );\r\n            k && (a = k.color || k.colour || a);\r\n          }\r\n          let p = normalizeColor(a) || null,\r\n            g = !!(p && /^#([0-9a-f]{3}|[0-9a-f]{6})$/i.test(p)),\r\n            f = p || \"#999999\",\r\n            h = (g && addAlpha(p, 0.12)) || \"rgba(0,0,0,0.06)\",\r\n            w = p || \"#333333\";\r\n          return (\r\n            \"<span style='display:inline-block;padding:2px 8px;margin-right:6px;border-radius:999px;border:1px solid \" +\r\n            escapeHtml(f) +\r\n            \";background:\" +\r\n            escapeHtml(h) +\r\n            \";color:\" +\r\n            escapeHtml(w) +\r\n            \";font-size:12px;line-height:18px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis'>\" +\r\n            l +\r\n            \"</span>\"\r\n          );\r\n        })\r\n        .join(\"\") +\r\n      \"</div>\"\r\n    );\r\n  }\r\n}\r\n\r\nexport class PullRequestRenderer implements CellRendererStrategy {\r\n  render(value: any): string {\r\n    const prs = value.pullRequests || [];\r\n    if (!prs || prs.length === 0) return \"\";\r\n    let out =\r\n      \"<div style='display:flex;flex-wrap:wrap;gap:6px;align-items:center'>\";\r\n    for (let i = 0; i < prs.length; i++) {\r\n      let p = prs[i];\r\n      let num = escapeHtml(String((p && p.number) || \"\"));\r\n      let titleText = escapeHtml((p && p.title) || \"\");\r\n      let url = escapeHtml((p && p.url) || \"\");\r\n      let rawColor =\r\n        (p && (p.state_color || p.color || p.colour || p.state)) || null;\r\n      let normColor = normalizeColor(rawColor) || null;\r\n      let hasHex = !!(\r\n        normColor && /^#([0-9a-f]{3}|[0-9a-f]{6})$/i.test(normColor)\r\n      );\r\n      let border = normColor || \"#999999\";\r\n      let bg = (hasHex && addAlpha(normColor, 0.12)) || \"rgba(0,0,0,0.06)\";\r\n      let fg = getContrastColor(normColor) || \"#333333\";\r\n      const isDraft = !!(p && (p as any).isDraft);\r\n      const state = (p && p.state && String(p.state).toUpperCase()) || \"\";\r\n      const isMerged = !!(p && p.merged);\r\n      const isClosed = !isMerged && state === \"CLOSED\";\r\n\r\n      let iconName = \"git-pull-request\";\r\n      if (isMerged) iconName = \"git-merge\";\r\n      else if (isClosed) iconName = \"git-pull-request-closed\";\r\n      else if (isDraft) iconName = \"git-pull-request-draft\";\r\n\r\n      const baseIcon = getIconSvg(iconName as any, {\r\n        size: 12,\r\n        className: \"field-icon pr-icon\",\r\n        fill: normColor || \"#666\",\r\n      });\r\n\r\n      // Blocked heuristic for PR: label named \"blocked\"\r\n      const hasBlockedLabel = !!(\r\n        p &&\r\n        Array.isArray(p.labels) &&\r\n        p.labels.some(\r\n          (l: any) =>\r\n            l &&\r\n            typeof l.name === \"string\" &&\r\n            String(l.name).toLowerCase() === \"blocked\",\r\n        )\r\n      );\r\n\r\n      const blockedIcon = hasBlockedLabel\r\n        ? getIconSvg(\"blocked\" as any, {\r\n            size: 8,\r\n            className: \"field-icon blocked-icon\",\r\n            fill: \"#dc3545\",\r\n          })\r\n        : \"\";\r\n\r\n      // Create tooltip with number and title\r\n      const tooltip = titleText\r\n        ? escapeHtml(`#${p.number} ${p.title}`)\r\n        : escapeHtml(`#${p.number}`);\r\n\r\n      out +=\r\n        \"<a href='\" +\r\n        url +\r\n        \"' title='\" +\r\n        tooltip +\r\n        \"' target='_blank' rel='noopener noreferrer' style='cursor:pointer;text-decoration:none;color:inherit'>\" +\r\n        \"<span style='display:inline-flex;align-items:center;gap:6px;padding:4px 8px;border-radius:999px;border:1px solid \" +\r\n        escapeHtml(border) +\r\n        \";background:\" +\r\n        escapeHtml(bg) +\r\n        \";color:\" +\r\n        escapeHtml(fg) +\r\n        \";font-size:12px;line-height:18px;overflow:hidden;box-sizing:border-box;max-width:160px'>\" +\r\n        \"<span style='position:relative;display:inline-flex;align-items:center;justify-content:center'>\" +\r\n        baseIcon +\r\n        (blockedIcon\r\n          ? \"<span class='blocked-overlay' style='position:absolute;right:-3px;bottom:-3px;width:13px;height:13px;border-radius:999px;background:var(--vscode-editor-background);display:flex;align-items:center;justify-content:center;box-sizing:border-box;'>\" +\r\n            blockedIcon +\r\n            \"</span>\"\r\n          : \"\") +\r\n        \"</span>\" +\r\n        \"<span style='flex:1 1 auto;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap'>#\" +\r\n        num +\r\n        \"</span></span></a>\";\r\n    }\r\n    out += \"</div>\";\r\n    return out;\r\n  }\r\n}\r\n\r\nexport class IssueRenderer implements CellRendererStrategy {\r\n  render(value: any): string {\r\n    return (value.issues || [])\r\n      .map((t: any) => {\r\n        const tooltip = t.title\r\n          ? escapeHtml(`#${t.number} ${t.title}`)\r\n          : escapeHtml(`#${t.number}`);\r\n        return (\r\n          \"<a href='\" +\r\n          escapeHtml(t.url || \"\") +\r\n          \"' target='_blank' rel='noopener noreferrer' title='\" +\r\n          tooltip +\r\n          \"' style='display:inline-block;max-width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap'>#\" +\r\n          escapeHtml(String(t.number || \"\")) +\r\n          \" \" +\r\n          escapeHtml(t.title || \"\") +\r\n          \"</a>\"\r\n        );\r\n      })\r\n      .join(\"<br/>\");\r\n  }\r\n}\r\n\r\nexport class AssigneesRenderer implements CellRendererStrategy {\r\n  render(value: any): string {\r\n    const assignees = value.assignees || [];\r\n    if (!assignees || assignees.length === 0) return \"<div></div>\";\r\n\r\n    // Helper to build a GitHub profile URL for an assignee\r\n    const getProfileUrl = (g: any): string => {\r\n      const login = g && (g.login || g.name || \"\");\r\n      const direct = (g && (g.url || g.html_url)) || \"\";\r\n      if (direct) return String(direct);\r\n      if (login) return `https://github.com/${login}`;\r\n      return \"\";\r\n    };\r\n\r\n    const avatarHtml = assignees\r\n      .slice(0, 3)\r\n      .map((g: any, index: number) => {\r\n        const avatarUrl = escapeHtml(g.avatarUrl || g.avatar || \"\");\r\n        const offset = index === 0 ? \"0px\" : index === 1 ? \"-8px\" : \"-14px\";\r\n        const zIndex = Math.max(1, 3 - index);\r\n        const login = g.login || g.name || \"\";\r\n        const initials = escapeHtml(\r\n          (g.name || g.login || \"\")\r\n            .split(\" \")\r\n            .map((part: any) => part[0] || \"\")\r\n            .join(\"\")\r\n            .toUpperCase()\r\n            .slice(0, 2),\r\n        );\r\n        const profileUrl = escapeHtml(getProfileUrl(g));\r\n\r\n        const commonStyle =\r\n          \"display:inline-flex;align-items:center;justify-content:center;width:20px;height:20px;border-radius:50%;border:2px solid var(--vscode-editor-background);margin-left:\" +\r\n          offset +\r\n          \";vertical-align:middle;position:relative;z-index:\" +\r\n          zIndex +\r\n          \";\";\r\n\r\n        if (avatarUrl) {\r\n          return (\r\n            \"<span title='\" +\r\n            escapeHtml(login || \"\") +\r\n            \"' data-gh-open='\" +\r\n            profileUrl +\r\n            \"' style='\" +\r\n            commonStyle +\r\n            \"overflow:hidden;background-size:cover;background-position:center;background-image:url(\" +\r\n            avatarUrl +\r\n            \");'></span>\"\r\n          );\r\n        }\r\n\r\n        return (\r\n          \"<span title='\" +\r\n          escapeHtml(login || \"\") +\r\n          \"' data-gh-open='\" +\r\n          profileUrl +\r\n          \"' style='\" +\r\n          commonStyle +\r\n          \"background:#777;color:#fff;font-size:11px;'>\" +\r\n          initials +\r\n          \"</span>\"\r\n        );\r\n      })\r\n      .join(\"\");\r\n\r\n    const names = assignees.map((g: any) => g.login || g.name || \"\");\r\n    let summary = \"\";\r\n    if (names.length === 1) summary = names[0];\r\n    else if (names.length === 2) summary = names[0] + \" and \" + names[1];\r\n    else summary = names.slice(0, -1).join(\", \") + \" and \" + names.slice(-1)[0];\r\n\r\n    // Use the first assignee as a primary profile target when clicking the\r\n    // text summary area. Individual avatars already have their own targets.\r\n    const primaryProfileUrl = escapeHtml(getProfileUrl(assignees[0]));\r\n\r\n    return (\r\n      \"<div style='display:flex;align-items:center;gap:8px'>\" +\r\n      \"<span style='display:flex;align-items:center'>\" +\r\n      \"<span style='display:inline-block;vertical-align:middle;height:20px;line-height:20px;margin-right:8px;'>\" +\r\n      avatarHtml +\r\n      \"</span>\" +\r\n      \"</span>\" +\r\n      \"<span data-gh-open='\" +\r\n      primaryProfileUrl +\r\n      \"' style='white-space:nowrap;overflow:hidden;text-overflow:ellipsis;cursor:pointer'>\" +\r\n      escapeHtml(summary) +\r\n      \"</span></div>\"\r\n    );\r\n  }\r\n}\r\n\r\nexport class RequestedReviewersRenderer implements CellRendererStrategy {\r\n  render(value: any): string {\r\n    const reviewers = value.reviewers || [];\r\n    if (!reviewers || reviewers.length === 0) return \"<div></div>\";\r\n\r\n    const parts = reviewers.map((r: any) => {\r\n      const login = r.login || r.name || r.kind || \"\";\r\n      const display = escapeHtml(login);\r\n      const direct = (r && (r.url || r.html_url)) || \"\";\r\n      const url = direct || (login ? `https://github.com/${login}` : \"\");\r\n      const safeUrl = escapeHtml(url);\r\n\r\n      if (!url) {\r\n        return display;\r\n      }\r\n\r\n      return (\r\n        \"<a href='\" +\r\n        safeUrl +\r\n        \"' target='_blank' rel='noopener noreferrer' data-gh-open='\" +\r\n        safeUrl +\r\n        \"' style='text-decoration:none;color:inherit'>\" +\r\n        display +\r\n        \"</a>\"\r\n      );\r\n    });\r\n\r\n    return \"<div>\" + parts.join(\", \") + \"</div>\";\r\n  }\r\n}\r\n\r\nexport class MilestoneRenderer implements CellRendererStrategy {\r\n  render(value: any): string {\r\n    return (\r\n      \"<div>\" +\r\n      escapeHtml((value.milestone && value.milestone.title) || \"\") +\r\n      \"</div>\"\r\n    );\r\n  }\r\n}\r\n\r\nexport class SubIssuesProgressRenderer implements CellRendererStrategy {\r\n  render(value: any): string {\r\n    try {\r\n      if (!value || value.total == null || Number(value.total) <= 0) return \"\";\r\n      const totalCount = Math.max(0, Math.floor(Number(value.total) || 0));\r\n      const doneCount = Math.max(0, Math.floor(Number(value.done || 0)));\r\n      if (totalCount === 0) return \"\";\r\n      let pct = null;\r\n      if (value.percent !== void 0 && value.percent !== null)\r\n        pct = Number(value.percent);\r\n      else pct = Math.round((doneCount / totalCount) * 100);\r\n      if (pct == null || !isFinite(pct)) return \"\";\r\n      pct = Math.max(0, Math.min(100, pct));\r\n\r\n      // Create tooltip with detailed progress information\r\n      const tooltip = escapeHtml(\r\n        `${doneCount} of ${totalCount} sub-issues complete (${pct}%)`,\r\n      );\r\n\r\n      const barHtml =\r\n        \"<div class='sub-issues-progress' title='\" +\r\n        tooltip +\r\n        \"' style='display:flex;align-items:center;gap:8px;width:100%;'>\" +\r\n        \"<div class='sub-issues-progress-count' style='min-width:44px;text-align:left;font-variant-numeric:tabular-nums;color:var(--vscode-descriptionForeground)'>\" +\r\n        escapeHtml(String(doneCount) + \"/\" + String(totalCount)) +\r\n        \"</div>\" +\r\n        \"<div class='sub-issues-progress-bar' style='flex:1;min-width:0'>\" +\r\n        \"<div style='width:100%;height:12px;border-radius:6px;border:1px solid var(--vscode-focusBorder);overflow:hidden;background:transparent;box-sizing:border-box'>\" +\r\n        \"<div style='height:100%;width:\" +\r\n        String(pct) +\r\n        \"%;background:var(--vscode-focusBorder)'></div>\" +\r\n        \"</div>\" +\r\n        \"</div>\" +\r\n        \"<div class='sub-issues-progress-pct' style='min-width:44px;text-align:right;font-variant-numeric:tabular-nums;color:var(--vscode-descriptionForeground)'>\" +\r\n        escapeHtml(String(pct) + \"%\") +\r\n        \"</div>\" +\r\n        \"</div>\";\r\n      return barHtml;\r\n    } catch (e) {\r\n      return \"\";\r\n    }\r\n  }\r\n}\r\n\r\nexport class ParentIssueRenderer implements CellRendererStrategy {\r\n  render(value: any, field: any, item: any, allItems: any): string {\r\n    const completedNames = [\"done\", \"closed\", \"completed\", \"finished\"];\r\n    let parentIsDoneByStatus = false;\r\n\r\n    let t =\r\n        (value &&\r\n          (value.parent ||\r\n            value.parentIssue ||\r\n            value.issue ||\r\n            value.option ||\r\n            value.item ||\r\n            value.value)) ||\r\n        (value &&\r\n          value.raw &&\r\n          (value.raw.parent || value.raw.itemContent || value.raw.item)) ||\r\n        null,\r\n      o =\r\n        (t &&\r\n          (t.number || t.id || (t.raw && t.raw.number)) &&\r\n          (t.number || (t.raw && t.raw.number))) ||\r\n        \"\",\r\n      l =\r\n        (t &&\r\n          (t.title || t.name || (t.raw && t.raw.title)) &&\r\n          (t.title || t.name || (t.raw && t.raw.title))) ||\r\n        \"\",\r\n      r =\r\n        (t &&\r\n          (t.url || t.html_url || (t.raw && t.raw.url)) &&\r\n          (t.url || t.html_url || (t.raw && t.raw.url))) ||\r\n        \"\",\r\n      a = escapeHtml(String(l || \"\")),\r\n      p = o ? escapeHtml(String(o)) : \"\",\r\n      g = escapeHtml(String(r || \"\")),\r\n      f = null;\r\n    try {\r\n      var itemsList = Array.isArray(allItems) ? allItems : allItems || [];\r\n      if (Array.isArray(itemsList) && itemsList.length > 0 && (o || t)) {\r\n        let B =\r\n            (t &&\r\n              t.repository &&\r\n              (t.repository.nameWithOwner || t.repository.name)) ||\r\n            (t &&\r\n              t.content &&\r\n              t.content.repository &&\r\n              t.content.repository.nameWithOwner) ||\r\n            null,\r\n          O: string[] = [];\r\n        (o && O.push(String(o)),\r\n          t &&\r\n            (t.id || (t.raw && t.raw.id)) &&\r\n            O.push(String(t.id || (t.raw && t.raw.id))),\r\n          t &&\r\n            (t.url || (t.raw && t.raw.url)) &&\r\n            O.push(String(t.url || (t.raw && t.raw.url))),\r\n          t && (t.title || t.name) && O.push(String(t.title || t.name)));\r\n        let $ = itemsList.find((A) => {\r\n          let d = (A && (A.content || (A.raw && A.raw.itemContent))) || null;\r\n          if (!d) return !1;\r\n          let M = [];\r\n          if (\r\n            (d.number && M.push(String(d.number)),\r\n            d.id && M.push(String(d.id)),\r\n            d.url && M.push(String(d.url)),\r\n            d.title && M.push(String(d.title)),\r\n            d.name && M.push(String(d.name)),\r\n            d.raw && d.raw.number && M.push(String(d.raw.number)),\r\n            d.raw && d.raw.id && M.push(String(d.raw.id)),\r\n            d.raw && d.raw.url && M.push(String(d.raw.url)),\r\n            B)\r\n          ) {\r\n            let V =\r\n              (d.repository &&\r\n                (d.repository.nameWithOwner || d.repository.name)) ||\r\n              null;\r\n            if (V && String(V) !== String(B)) return !1;\r\n          }\r\n          for (let V = 0; V < O.length; V++)\r\n            for (let X = 0; X < M.length; X++)\r\n              if (O[V] && M[X] && String(O[V]) === String(M[X])) return !0;\r\n          return !1;\r\n        });\r\n        if ($ && Array.isArray($.fieldValues)) {\r\n          let A = $.fieldValues.find(\r\n            (d: any) =>\r\n              d &&\r\n              d.type === \"single_select\" &&\r\n              ((d.raw &&\r\n                d.raw.field &&\r\n                String(d.raw.field.name || \"\").toLowerCase() === \"status\") ||\r\n                (d.fieldName &&\r\n                  String(d.fieldName || \"\").toLowerCase() === \"status\") ||\r\n                (d.field &&\r\n                  d.field.name &&\r\n                  String(d.field.name || \"\").toLowerCase() === \"status\")),\r\n          );\r\n          if (A) {\r\n            f =\r\n              (A.option && (A.option.color || A.option.id || A.option.name)) ||\r\n              (A.raw && A.raw.color) ||\r\n              null;\r\n\r\n            // If the parent issue's Status option is a completed-like state,\r\n            // treat it as closed for icon purposes.\r\n            if (A.option && A.option.name) {\r\n              const optNameLower = String(A.option.name).toLowerCase();\r\n              if (completedNames.includes(optNameLower)) {\r\n                parentIsDoneByStatus = true;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    } catch (e) {}\r\n    f ||\r\n      (f =\r\n        (t &&\r\n          ((t.option && (t.option.color || t.option.id || t.option.name)) ||\r\n            t.color ||\r\n            t.colour)) ||\r\n        null);\r\n    let h = normalizeColor(f) || null,\r\n      w = !!(h && /^#([0-9a-f]{3}|[0-9a-f]{6})$/i.test(h)),\r\n      x = h || \"#999999\",\r\n      k = (w && addAlpha(h, 0.12)) || \"rgba(0,0,0,0.06)\",\r\n      L = getContrastColor(h) || \"#333333\";\r\n\r\n    // Determine icon for parent issue based on state and blocked heuristics\r\n    let isClosed = false;\r\n    let isDraft = false;\r\n    let isBlocked = false;\r\n    try {\r\n      const state =\r\n        (t && t.state && String(t.state).toUpperCase()) ||\r\n        (t &&\r\n          t.parent &&\r\n          t.parent.state &&\r\n          String(t.parent.state).toUpperCase()) ||\r\n        \"\";\r\n      if (state === \"CLOSED\") isClosed = true;\r\n\r\n      const hasBlockedLabel = !!(\r\n        t &&\r\n        Array.isArray(t.labels) &&\r\n        t.labels.some(\r\n          (l: any) =>\r\n            l &&\r\n            typeof l.name === \"string\" &&\r\n            String(l.name).toLowerCase() === \"blocked\",\r\n        )\r\n      );\r\n      isBlocked = hasBlockedLabel;\r\n\r\n      // Treat parent issue as effectively closed when status or labels indicate\r\n      // \"done\"-like states, mirroring the TitleRenderer heuristics.\r\n      const hasDoneLabel = !!(\r\n        t &&\r\n        Array.isArray(t.labels) &&\r\n        t.labels.some((l: any) =>\r\n          completedNames.includes(String((l && l.name) || \"\").toLowerCase()),\r\n        )\r\n      );\r\n\r\n      if (hasDoneLabel || parentIsDoneByStatus) {\r\n        isClosed = true;\r\n      }\r\n    } catch (e) {}\r\n\r\n    let parentIconName = \"issue-opened\";\r\n    if (isClosed) parentIconName = \"issue-closed\";\r\n    else if (isDraft) parentIconName = \"issue-draft\";\r\n\r\n    const parentIcon = getIconSvg(parentIconName as any, {\r\n      size: 14,\r\n      className: \"field-icon parent-issue-icon\",\r\n      fill: h || \"#666\",\r\n    });\r\n\r\n    const blockedIcon = isBlocked\r\n      ? getIconSvg(\"blocked\" as any, {\r\n          size: 9,\r\n          className: \"field-icon blocked-icon\",\r\n          fill: \"#dc3545\",\r\n        })\r\n      : \"\";\r\n\r\n    let q =\r\n      \"<span style='display:block;width:100%;box-sizing:border-box'>\" +\r\n      \"<div style='display:inline-flex;align-items:center;gap:8px;padding:4px 10px;border:1px solid \" +\r\n      escapeHtml(x) +\r\n      \";border-radius:999px;color:\" +\r\n      escapeHtml(L) +\r\n      \";background:\" +\r\n      escapeHtml(k) +\r\n      \";font-size:12px;line-height:18px;overflow:hidden;box-sizing:border-box;width:100%'>\" +\r\n      \"<span style='position:relative;display:inline-flex;align-items:center;justify-content:center'>\" +\r\n      parentIcon +\r\n      (blockedIcon\r\n        ? \"<span class='blocked-overlay' style='position:absolute;right:-3px;bottom:-3px;width:14px;height:14px;border-radius:999px;background:var(--vscode-editor-background);display:flex;align-items:center;justify-content:center;box-sizing:border-box;'>\" +\r\n          blockedIcon +\r\n          \"</span>\"\r\n        : \"\") +\r\n      \"</span>\" +\r\n      \"<span class='parent-issue-title' style='flex:1;min-width:0;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;display:block'>\" +\r\n      a +\r\n      \"</span>\" +\r\n      (p\r\n        ? \"<span style='margin-left:6px;color:var(--vscode-descriptionForeground);white-space:nowrap'>#\" +\r\n          p +\r\n          \"</span>\"\r\n        : \"\") +\r\n      \"</div></span>\";\r\n    const parentWrapper =\r\n      \"<span data-gh-open='\" +\r\n      (g || \"\") +\r\n      \"' class='parent-issue-wrapper' style='display:block;width:100%;cursor:\" +\r\n      (g ? \"pointer\" : \"default\") +\r\n      \"'>\";\r\n    return g ? parentWrapper + q + \"</span>\" : q;\r\n  }\r\n}\r\n", "import {\r\n  CellRendererStrategy,\r\n  TitleRenderer,\r\n  TextRenderer,\r\n  NumberRenderer,\r\n  DateRenderer,\r\n  SingleSelectRenderer,\r\n  IterationRenderer,\r\n  RepositoryRenderer,\r\n  LabelsRenderer,\r\n  PullRequestRenderer,\r\n  IssueRenderer,\r\n  AssigneesRenderer,\r\n  RequestedReviewersRenderer,\r\n  MilestoneRenderer,\r\n  SubIssuesProgressRenderer,\r\n  ParentIssueRenderer,\r\n} from \"./strategies\";\r\n\r\nconst strategies: Record<string, CellRendererStrategy> = {\r\n  title: new TitleRenderer(),\r\n  text: new TextRenderer(),\r\n  number: new NumberRenderer(),\r\n  date: new DateRenderer(),\r\n  single_select: new SingleSelectRenderer(),\r\n  iteration: new IterationRenderer(),\r\n  repository: new RepositoryRenderer(),\r\n  labels: new LabelsRenderer(),\r\n  pull_request: new PullRequestRenderer(),\r\n  issue: new IssueRenderer(),\r\n  assignees: new AssigneesRenderer(),\r\n  reviewers: new RequestedReviewersRenderer(),\r\n  milestone: new MilestoneRenderer(),\r\n  sub_issues_progress: new SubIssuesProgressRenderer(),\r\n  parent_issue: new ParentIssueRenderer(),\r\n  linked_pull_requests: new PullRequestRenderer(),\r\n  tracks: new IssueRenderer(),\r\n};\r\n\r\nexport function renderCell(e: any, n: any, s: any, allItems: any) {\r\n  if (!e) return \"\";\r\n  try {\r\n    const strategy = strategies[e.type];\r\n    if (strategy) {\r\n      return strategy.render(e, n, s, allItems);\r\n    }\r\n    return \"\";\r\n  } catch (err) {\r\n    console.error(\"Error rendering cell\", err);\r\n    return \"\";\r\n  }\r\n}\r\n", "import { escapeHtml, normalizeColor, addAlpha } from \"../utils\";\r\nimport { GroupDataService } from \"../services/GroupDataService\";\r\nimport { getIconSvg, getIconNameForDataType } from \"../icons/iconRegistry\";\r\nimport { renderCell } from \"../renderers/cellRenderer\";\r\nimport { setLoadingState, setErrorState } from \"../utils/domUtils\";\r\n\r\nexport type ZoomLevel = \"month\" | \"quarter\" | \"year\";\r\n\r\nexport class RoadmapRenderer {\r\n    private zoomLevel: ZoomLevel = \"month\";\r\n    private activeMarkers: string[] = [\"milestones\"]; // Toggles for \"Milestones\", Iteration IDs, Date Field IDs\r\n    private activeSortFieldId: string | null = null; // null = \"No sorting\"\r\n    private startDateFieldId: string | null = null;\r\n    private endDateFieldId: string | null = null;\r\n    private initializedFields: boolean = false;\r\n    private collapsedGroups: Set<string> = new Set();\r\n    private dayWidth: number = 24; // px per day\r\n    private listWidth: number = 320; // px for the left list\r\n    private scrollSyncing: boolean = false;\r\n    private container: HTMLElement | null = null;\r\n    private lastSnapshot: any = null;\r\n\r\n    constructor(\r\n        private items: any[],\r\n        private allFields: any[],\r\n        private visibleFieldIds: string[],\r\n        private onFilter: (filter: string) => void,\r\n        private onAction: (action: string, item: any, args: any) => void\r\n    ) {\r\n        this.updateZoomSettings();\r\n    }\r\n\r\n    public updateData(items: any[], fields: any[], visibleIds: string[]) {\r\n        this.items = items;\r\n        this.allFields = fields;\r\n        this.visibleFieldIds = visibleIds;\r\n    }\r\n\r\n    private updateZoomSettings() {\r\n        switch (this.zoomLevel) {\r\n            case \"month\":\r\n                this.dayWidth = 24; // dense week\r\n                break;\r\n            case \"quarter\":\r\n                this.dayWidth = 8; // month view\r\n                break;\r\n            case \"year\":\r\n                this.dayWidth = 2; // year view\r\n                break;\r\n            default:\r\n                this.dayWidth = 24;\r\n        }\r\n    }\r\n\r\n    public renderRoadmap(container: HTMLElement, snapshot: any) {\r\n        this.container = container;\r\n        this.lastSnapshot = snapshot;\r\n        container.innerHTML = \"\";\r\n\r\n        this.ensureStyles();\r\n\r\n        container.className = \"roadmap-root\";\r\n        container.style.display = \"flex\";\r\n        container.style.flexDirection = \"column\";\r\n        container.style.height = \"100%\";\r\n        container.style.background = \"var(--vscode-editor-background)\";\r\n\r\n        // 1. Header with Controls\r\n        const controlHeader = this.createControlHeader();\r\n        container.appendChild(controlHeader);\r\n\r\n        // 2. Main Content Area (Split Pane)\r\n        const splitPane = document.createElement(\"div\");\r\n        splitPane.className = \"roadmap-split-pane\";\r\n        splitPane.style.display = \"flex\";\r\n        splitPane.style.flex = \"1\";\r\n        splitPane.style.overflow = \"hidden\";\r\n        splitPane.style.borderTop = \"1px solid var(--vscode-panel-border)\";\r\n        container.appendChild(splitPane);\r\n\r\n        // 3. Left Side: Items List\r\n        const listContainer = document.createElement(\"div\");\r\n        listContainer.className = \"roadmap-list-container\";\r\n        listContainer.style.width = this.listWidth + \"px\";\r\n        listContainer.style.display = \"flex\";\r\n        listContainer.style.flexDirection = \"column\";\r\n        listContainer.style.background = \"var(--vscode-sideBar-background)\";\r\n        listContainer.style.borderRight = \"1px solid var(--vscode-panel-border)\";\r\n        listContainer.style.flexShrink = \"0\";\r\n        splitPane.appendChild(listContainer);\r\n\r\n        const listHeader = document.createElement(\"div\");\r\n        listHeader.className = \"roadmap-list-header\";\r\n        listHeader.style.height = \"32px\";\r\n        listHeader.style.borderBottom = \"1px solid var(--vscode-panel-border)\";\r\n        listHeader.style.padding = \"0 12px\";\r\n        listHeader.style.display = \"flex\";\r\n        listHeader.style.alignItems = \"center\";\r\n        listHeader.style.fontWeight = \"600\";\r\n        listHeader.style.fontSize = \"11px\";\r\n        listHeader.style.textTransform = \"uppercase\";\r\n        listHeader.style.background = \"var(--vscode-sideBar-background)\";\r\n        listHeader.style.color = \"var(--vscode-descriptionForeground)\";\r\n        listHeader.textContent = \"Items\";\r\n        listContainer.appendChild(listHeader);\r\n\r\n        const listView = document.createElement(\"div\");\r\n        listView.className = \"roadmap-list-view\";\r\n        listView.style.flex = \"1\";\r\n        listView.style.overflowY = \"auto\";\r\n        listView.style.overflowX = \"hidden\";\r\n        listContainer.appendChild(listView);\r\n\r\n        // 4. Right Side: Timeline\r\n        const timelineContainer = document.createElement(\"div\");\r\n        timelineContainer.className = \"roadmap-timeline-container\";\r\n        timelineContainer.style.flex = \"1\";\r\n        timelineContainer.style.display = \"flex\";\r\n        timelineContainer.style.flexDirection = \"column\";\r\n        timelineContainer.style.overflow = \"hidden\";\r\n        splitPane.appendChild(timelineContainer);\r\n\r\n        const gridHeader = this.createTimelineHeader();\r\n        timelineContainer.appendChild(gridHeader);\r\n\r\n        const gridView = document.createElement(\"div\");\r\n        gridView.className = \"roadmap-grid-view\";\r\n        gridView.style.flex = \"1\";\r\n        gridView.style.overflow = \"auto\";\r\n        timelineContainer.appendChild(gridView);\r\n\r\n        // Sync Scrolling\r\n        listView.addEventListener(\"scroll\", () => {\r\n            if (!this.scrollSyncing) {\r\n                this.scrollSyncing = true;\r\n                gridView.scrollTop = listView.scrollTop;\r\n                this.scrollSyncing = false;\r\n            }\r\n        });\r\n        gridView.addEventListener(\"scroll\", () => {\r\n            if (!this.scrollSyncing) {\r\n                this.scrollSyncing = true;\r\n                listView.scrollTop = gridView.scrollTop;\r\n                this.scrollSyncing = false;\r\n            }\r\n        });\r\n\r\n        // 5. Determine Grouping and Sorting\r\n        const groupByFields = snapshot?.details?.groupByFields?.nodes || [];\r\n        const groupingField = this.allFields.find(f =>\r\n            groupByFields.some((v: any) => String(v.id) === String(f.id) || v.name === f.name)\r\n        );\r\n\r\n        let itemsToRender = [...this.items];\r\n\r\n        // Apply Sorting before grouping\r\n        if (this.activeSortFieldId) {\r\n            const sortField = this.allFields.find(f => String(f.id) === String(this.activeSortFieldId));\r\n            if (sortField) {\r\n                const isDateType = [\"date\", \"iteration\", \"milestone\"].includes((sortField.dataType || sortField.type || \"\").toLowerCase());\r\n                itemsToRender.sort((a, b) => {\r\n                    if (isDateType) {\r\n                        const valA = this.getDateFieldValue(a, \"start\")?.getTime() || 0;\r\n                        const valB = this.getDateFieldValue(b, \"start\")?.getTime() || 0;\r\n                        return valA - valB;\r\n                    }\r\n                    const valA = a.fieldValues.find((v: any) => String(v.fieldId) === String(sortField.id))?.value || \"\";\r\n                    const valB = b.fieldValues.find((v: any) => String(v.fieldId) === String(sortField.id))?.value || \"\";\r\n                    if (typeof valA === \"string\" && typeof valB === \"string\") return valA.localeCompare(valB);\r\n                    if (typeof valA === \"number\" && typeof valB === \"number\") return valA - valB;\r\n                    return 0;\r\n                });\r\n            }\r\n        }\r\n\r\n        const groups = groupingField\r\n            ? GroupDataService.groupItems(itemsToRender, groupingField)\r\n            : [{ option: { name: \"\", id: \"none\" }, items: itemsToRender.map((it, idx) => ({ item: it, index: idx })) }];\r\n\r\n        if (!this.initializedFields) {\r\n            this.initDefaultDateFields();\r\n            this.initializedFields = true;\r\n        }\r\n\r\n        this.renderGroups(listView, gridView, groups, groupingField);\r\n    }\r\n\r\n    private initDefaultDateFields() {\r\n        const iterOrDateFields = this.allFields.filter(f => {\r\n            const type = (f.dataType || f.type || \"\").toLowerCase();\r\n            return type === \"iteration\" || type === \"date\";\r\n        });\r\n        if (!this.startDateFieldId) {\r\n            const startField = iterOrDateFields.find(f => f.name.toLowerCase().includes(\"start\")) || iterOrDateFields[0];\r\n            if (startField) this.startDateFieldId = startField.id;\r\n        }\r\n        if (!this.endDateFieldId) {\r\n            const endField = iterOrDateFields.find(f => f.name.toLowerCase().includes(\"end\")) || iterOrDateFields[1] || iterOrDateFields[0];\r\n            if (endField) this.endDateFieldId = endField.id;\r\n        }\r\n    }\r\n\r\n    private ensureStyles() {\r\n        if (document.getElementById(\"roadmap-styles\")) return;\r\n        const style = document.createElement(\"style\");\r\n        style.id = \"roadmap-styles\";\r\n        style.textContent = `\r\n            .roadmap-root, .roadmap-root * {\r\n                box-sizing: border-box;\r\n            }\r\n            .roadmap-root {\r\n                font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Helvetica, Arial, sans-serif;\r\n                color: var(--vscode-foreground);\r\n            }\r\n            .roadmap-list-row, .roadmap-grid-row {\r\n                transition: background 0.1s;\r\n                border-bottom: 1px solid var(--vscode-panel-border);\r\n            }\r\n            .roadmap-list-row:hover, .roadmap-grid-row:hover {\r\n                background: var(--vscode-list-hoverBackground);\r\n            }\r\n            .roadmap-list-row {\r\n                border-right: 1px solid var(--vscode-panel-border);\r\n            }\r\n            .roadmap-bar {\r\n                transition: filter 0.2s, box-shadow 0.2s;\r\n            }\r\n            .roadmap-bar:hover {\r\n                filter: brightness(1.1);\r\n                cursor: pointer;\r\n            }\r\n            .roadmap-grid-view::-webkit-scrollbar {\r\n                width: 12px;\r\n                height: 12px;\r\n            }\r\n            .roadmap-grid-view::-webkit-scrollbar-thumb {\r\n                background: var(--vscode-scrollbarSlider-background);\r\n                border-radius: 6px;\r\n                border: 3px solid transparent;\r\n                background-clip: content-box;\r\n            }\r\n            .roadmap-grid-view::-webkit-scrollbar-thumb:hover {\r\n                background: var(--vscode-scrollbarSlider-hoverBackground);\r\n            }\r\n            .roadmap-list-group-header, .roadmap-grid-group-header {\r\n                z-index: 10;\r\n                position: sticky;\r\n                top: 0;\r\n                background: var(--vscode-sideBar-background); /* Added background */\r\n            }\r\n            .roadmap-grid-header {\r\n                height: 32px;\r\n                flex: 0 0 auto;\r\n                border-bottom: 1px solid var(--vscode-panel-border);\r\n                background: var(--vscode-sideBar-background);\r\n                position: sticky;\r\n                top: 0;\r\n                z-index: 20;\r\n                overflow: hidden;\r\n            }\r\n            .gh-count-pill {\r\n                font-weight: 500;\r\n            }\r\n            .roadmap-marker-label {\r\n                position: absolute;\r\n                top: 4px;\r\n                padding: 2px 6px;\r\n                background: #f1f8ff;\r\n                color: #0366d6;\r\n                border: 1px solid #0366d6;\r\n                border-radius: 4px;\r\n                font-size: 10px;\r\n                white-space: nowrap;\r\n                transform: translateX(-50%);\r\n                z-index: 110;\r\n            }\r\n            .roadmap-marker-circle {\r\n                position: absolute;\r\n                top: 32px;\r\n                left: -4px;\r\n                width: 8px;\r\n                height: 8px;\r\n                border-radius: 50%;\r\n                background: #0366d6;\r\n                z-index: 105;\r\n                transform: translateY(-50%);\r\n            }\r\n            .roadmap-marker-triangle {\r\n                position: absolute;\r\n                top: 0;\r\n                left: -6px;\r\n                width: 0;\r\n                height: 0;\r\n                border-left: 6px solid transparent;\r\n                border-right: 6px solid transparent;\r\n                border-top: 8px solid var(--vscode-descriptionForeground);\r\n                z-index: 105;\r\n            }\r\n        `;\r\n        document.head.appendChild(style);\r\n    }\r\n\r\n    private createControlHeader(): HTMLElement {\r\n        const header = document.createElement(\"div\");\r\n        header.className = \"roadmap-controls\";\r\n        header.style.height = \"48px\";\r\n        header.style.display = \"flex\";\r\n        header.style.alignItems = \"center\";\r\n        header.style.padding = \"0 16px\";\r\n        header.style.background = \"var(--vscode-editor-background)\";\r\n\r\n        const leftLabel = document.createElement(\"div\");\r\n        leftLabel.style.fontWeight = \"600\";\r\n        leftLabel.style.fontSize = \"14px\";\r\n        leftLabel.textContent = \"Roadmap\";\r\n        header.appendChild(leftLabel);\r\n\r\n        const spacer = document.createElement(\"div\");\r\n        spacer.style.flex = \"1\";\r\n        header.appendChild(spacer);\r\n\r\n        const btnStyleBase = `\r\n            background: transparent;\r\n            border: 1px solid transparent;\r\n            color: var(--vscode-foreground);\r\n            border-radius: 6px;\r\n            padding: 4px 8px;\r\n            font-size: 13px;\r\n            cursor: pointer;\r\n            display: flex;\r\n            align-items: center;\r\n            gap: 6px;\r\n            height: 32px;\r\n            transition: all 0.2s;\r\n        `;\r\n\r\n        const createControlBtn = (label: string, icon: string, onClick: (e: MouseEvent) => void, hasDropdown = false) => {\r\n            const btn = document.createElement(\"button\");\r\n            btn.style.cssText = btnStyleBase;\r\n            const iconSvg = icon ? getIconSvg(icon as any, { size: 16, fill: \"var(--vscode-descriptionForeground)\" }) : \"\";\r\n            const dropdownSvg = hasDropdown ? getIconSvg(\"triangle-down\", { size: 12, fill: \"var(--vscode-descriptionForeground)\" }) : \"\";\r\n            btn.innerHTML = `${iconSvg} <span style=\"font-weight: 500;\">${label}</span> ${dropdownSvg}`;\r\n            btn.onclick = onClick;\r\n            btn.onmouseenter = () => {\r\n                btn.style.background = \"var(--vscode-toolbar-hoverBackground)\";\r\n                btn.style.borderColor = \"var(--vscode-panel-border)\";\r\n            };\r\n            btn.onmouseleave = () => {\r\n                btn.style.background = \"transparent\";\r\n                btn.style.borderColor = \"transparent\";\r\n            };\r\n            return btn;\r\n        };\r\n\r\n        const tools = document.createElement(\"div\");\r\n        tools.style.display = \"flex\";\r\n        tools.style.alignItems = \"center\";\r\n        tools.style.gap = \"4px\";\r\n        header.appendChild(tools);\r\n\r\n        tools.appendChild(createControlBtn(\"Markers\", \"location\", (e) => this.showMarkersMenu(e), true));\r\n        tools.appendChild(createControlBtn(\"Sort\", \"arrow-up-down\", (e) => this.showSortMenu(e), true));\r\n        tools.appendChild(createControlBtn(\"Date fields\", \"calendar\", (e) => this.showDateFieldsMenu(e), true));\r\n\r\n        const zoomLabel = this.zoomLevel.charAt(0).toUpperCase() + this.zoomLevel.slice(1);\r\n        tools.appendChild(createControlBtn(zoomLabel, \"zoom-in\", (e) => this.showZoomMenu(e), true));\r\n\r\n        const todayBtn = document.createElement(\"button\");\r\n        todayBtn.style.cssText = btnStyleBase;\r\n        todayBtn.style.fontWeight = \"600\";\r\n        todayBtn.style.marginRight = \"4px\";\r\n        todayBtn.textContent = \"Today\";\r\n        todayBtn.onclick = () => {\r\n            const gridView = this.container?.querySelector(\".roadmap-grid-view\") as HTMLElement;\r\n            if (gridView) {\r\n                const today = new Date();\r\n                const start = this.getTimelineStart();\r\n                const todayOffset = Math.ceil((today.getTime() - start.getTime()) / (1000 * 60 * 60 * 24)) * this.dayWidth;\r\n                gridView.scrollLeft = todayOffset - (gridView.clientWidth / 2);\r\n            }\r\n        };\r\n        tools.appendChild(todayBtn);\r\n\r\n        const navGroup = document.createElement(\"div\");\r\n        navGroup.style.display = \"flex\";\r\n        navGroup.style.gap = \"2px\";\r\n\r\n        const prevBtn = createControlBtn(\"\", \"chevron-left\", () => {\r\n            const gridView = this.container?.querySelector(\".roadmap-grid-view\") as HTMLElement;\r\n            if (gridView) gridView.scrollLeft -= 200;\r\n        });\r\n        const nextBtn = createControlBtn(\"\", \"chevron-right\", () => {\r\n            const gridView = this.container?.querySelector(\".roadmap-grid-view\") as HTMLElement;\r\n            if (gridView) gridView.scrollLeft += 200;\r\n        });\r\n        navGroup.appendChild(prevBtn);\r\n        navGroup.appendChild(nextBtn);\r\n        tools.appendChild(navGroup);\r\n\r\n        return header;\r\n    }\r\n\r\n    private showMarkersMenu(e: MouseEvent) {\r\n        const options: { id: string; label: string; icon?: string }[] = [{ id: \"milestones\", label: \"Milestones\", icon: \"milestone\" }];\r\n        this.allFields.forEach(f => {\r\n            const type = (f.dataType || f.type || \"\").toLowerCase();\r\n            if (type === \"iteration\" || type === \"date\") {\r\n                options.push({ id: f.id, label: f.name, icon: getIconNameForDataType(type) });\r\n            }\r\n        });\r\n        this.showDropdown(e.currentTarget as HTMLElement, options, this.activeMarkers, (id) => {\r\n            if (this.activeMarkers.includes(id)) this.activeMarkers = this.activeMarkers.filter(m => m !== id);\r\n            else this.activeMarkers.push(id);\r\n            this.renderRoadmap(this.container!, this.lastSnapshot);\r\n        }, true);\r\n    }\r\n\r\n    private showSortMenu(e: MouseEvent) {\r\n        const options: { id: string | null; label: string; icon?: string }[] = [{ id: null, label: \"No sorting\" }];\r\n        this.allFields.forEach(f => {\r\n            const icon = getIconNameForDataType(f.dataType || f.type);\r\n            options.push({ id: f.id, label: f.name, icon });\r\n        });\r\n        this.showDropdown(e.currentTarget as HTMLElement, options, [this.activeSortFieldId], (id) => {\r\n            this.activeSortFieldId = id;\r\n            this.renderRoadmap(this.container!, this.lastSnapshot);\r\n        });\r\n    }\r\n\r\n    private showDateFieldsMenu(e: MouseEvent) {\r\n        const iterAndDateFields = this.allFields.filter(f => {\r\n            const type = (f.dataType || f.type || \"\").toLowerCase();\r\n            return type === \"iteration\" || type === \"date\";\r\n        });\r\n        const menu = document.createElement(\"div\");\r\n        menu.className = \"roadmap-dropdown-menu\";\r\n        menu.style.cssText = `position: fixed; z-index: 1000; background: var(--vscode-menu-background); border: 1px solid var(--vscode-menu-border); border-radius: 6px; box-shadow: 0 4px 12px rgba(0,0,0,0.15); min-width: 200px; padding: 8px 0; font-size: 13px; max-height: 400px; overflow-y: auto;`;\r\n\r\n        const renderSection = (title: string, currentId: string | null, onSelect: (id: string) => void, isLast = false) => {\r\n            const header = document.createElement(\"div\");\r\n            header.style.padding = \"4px 12px\"; header.style.fontWeight = \"600\"; header.style.color = \"var(--vscode-descriptionForeground)\"; header.style.fontSize = \"11px\";\r\n            header.textContent = title;\r\n            menu.appendChild(header);\r\n\r\n            iterAndDateFields.forEach(f => {\r\n                const item = document.createElement(\"div\");\r\n                item.style.padding = \"6px 12px 6px 32px\"; item.style.cursor = \"pointer\"; item.style.position = \"relative\"; item.style.display = \"flex\"; item.style.alignItems = \"center\";\r\n                item.onmouseenter = () => item.style.background = \"var(--vscode-menu-selectionBackground)\";\r\n                item.onmouseleave = () => item.style.background = \"transparent\";\r\n\r\n                const typeArr = (f.dataType || f.type || \"\").toLowerCase();\r\n                const icon = getIconNameForDataType(typeArr);\r\n                const sectionLower = title.toLowerCase();\r\n                const suffix = sectionLower.includes(\"start\") ? \"start\" : \"end\";\r\n                const label = typeArr === \"iteration\" ? `${f.name} ${suffix}` : f.name;\r\n\r\n                item.innerHTML = `\r\n                    <div class=\"roadmap-dropdown-check\" style=\"position:absolute; left:10px; display:${f.id === currentId ? \"block\" : \"none\"}\">\r\n                        ${getIconSvg(\"check\", { size: 14, fill: \"var(--vscode-menu-foreground)\" })}\r\n                    </div>\r\n                    <div style=\"margin-right:8px; display:flex; align-items:center;\">\r\n                        ${getIconSvg(icon as any, { size: 14, fill: \"var(--vscode-descriptionForeground)\" })}\r\n                    </div>\r\n                    <span>${label}</span>\r\n                `;\r\n                item.onclick = () => { onSelect(f.id); if (document.body.contains(menu)) document.body.removeChild(menu); this.renderRoadmap(this.container!, this.lastSnapshot); };\r\n                menu.appendChild(item);\r\n            });\r\n\r\n            if (!isLast) {\r\n                const divider = document.createElement(\"div\");\r\n                divider.style.height = \"1px\"; divider.style.background = \"var(--vscode-menu-border)\"; divider.style.margin = \"4px 0\";\r\n                menu.appendChild(divider);\r\n            }\r\n        };\r\n\r\n        renderSection(\"Start date\", this.startDateFieldId, (id) => this.startDateFieldId = id);\r\n        renderSection(\"End date\", this.endDateFieldId, (id) => this.endDateFieldId = id, true);\r\n\r\n        const rect = (e.currentTarget as HTMLElement).getBoundingClientRect();\r\n        menu.style.top = (rect.bottom + 4) + \"px\";\r\n        menu.style.right = (window.innerWidth - rect.right) + \"px\";\r\n\r\n        const closer = (ev: MouseEvent) => {\r\n            if (!menu.contains(ev.target as Node)) {\r\n                if (document.body.contains(menu)) document.body.removeChild(menu);\r\n                window.removeEventListener(\"mousedown\", closer);\r\n            }\r\n        };\r\n        setTimeout(() => window.addEventListener(\"mousedown\", closer), 0);\r\n        document.body.appendChild(menu);\r\n    }\r\n\r\n    private showZoomMenu(e: MouseEvent) {\r\n        const options: { id: ZoomLevel; label: string }[] = [\r\n            { id: \"month\", label: \"Month\" },\r\n            { id: \"quarter\", label: \"Quarter\" },\r\n            { id: \"year\", label: \"Year\" }\r\n        ];\r\n        this.showDropdown(e.currentTarget as HTMLElement, options, [this.zoomLevel], (id) => {\r\n            this.zoomLevel = id as ZoomLevel;\r\n            this.updateZoomSettings();\r\n            this.renderRoadmap(this.container!, this.lastSnapshot);\r\n        });\r\n    }\r\n\r\n    private showDropdown(anchor: HTMLElement, options: { id: any; label: string; icon?: string }[], activeIds: any[], onSelect: (id: any) => void, multi = false) {\r\n        const menu = document.createElement(\"div\");\r\n        menu.className = \"roadmap-dropdown-menu\";\r\n        menu.style.cssText = `position: fixed; z-index: 1000; background: var(--vscode-menu-background); border: 1px solid var(--vscode-menu-border); border-radius: 6px; box-shadow: 0 4px 12px rgba(0,0,0,0.15); min-width: 180px; padding: 4px 0; font-size: 13px; max-height: 400px; overflow-y: auto;`;\r\n\r\n        options.forEach(opt => {\r\n            const item = document.createElement(\"div\");\r\n            item.style.padding = \"6px 12px 6px 32px\"; item.style.cursor = \"pointer\"; item.style.position = \"relative\"; item.style.display = \"flex\"; item.style.alignItems = \"center\";\r\n            item.onmouseenter = () => item.style.background = \"var(--vscode-menu-selectionBackground)\";\r\n            item.onmouseleave = () => item.style.background = \"transparent\";\r\n\r\n            const isSelected = activeIds.includes(opt.id);\r\n            item.innerHTML = `\r\n                <div class=\"roadmap-dropdown-check\" style=\"position:absolute; left:10px; display:${isSelected ? \"block\" : \"none\"}\">\r\n                    ${getIconSvg(\"check\", { size: 14, fill: \"var(--vscode-menu-foreground)\" })}\r\n                </div>\r\n                ${opt.icon ? `<div style=\"margin-right:8px; display:flex; align-items:center;\">${getIconSvg(opt.icon as any, { size: 14, fill: \"var(--vscode-descriptionForeground)\" })}</div>` : \"\"}\r\n                <span>${opt.label}</span>\r\n            `;\r\n\r\n            item.onclick = (ev) => {\r\n                onSelect(opt.id);\r\n                if (!multi) {\r\n                    if (document.body.contains(menu)) document.body.removeChild(menu);\r\n                } else {\r\n                    const check = item.querySelector(\".roadmap-dropdown-check\") as HTMLElement;\r\n                    if (check) check.style.display = check.style.display === \"none\" ? \"block\" : \"none\";\r\n                }\r\n                ev.stopPropagation();\r\n            };\r\n            menu.appendChild(item);\r\n        });\r\n\r\n        const rect = anchor.getBoundingClientRect();\r\n        menu.style.top = (rect.bottom + 4) + \"px\";\r\n        menu.style.right = (window.innerWidth - rect.right) + \"px\";\r\n\r\n        const closer = (ev: MouseEvent) => {\r\n            if (!menu.contains(ev.target as Node)) {\r\n                if (document.body.contains(menu)) document.body.removeChild(menu);\r\n                window.removeEventListener(\"mousedown\", closer);\r\n            }\r\n        };\r\n        setTimeout(() => window.addEventListener(\"mousedown\", closer), 0);\r\n        document.body.appendChild(menu);\r\n    }\r\n\r\n    private getTimelineStart(): Date {\r\n        const dates = this.items.flatMap(it => [this.getDateFieldValue(it, \"start\"), this.getDateFieldValue(it, \"end\")]).filter(d => !!d);\r\n        let start = dates.length ? new Date(Math.min(...dates.map(d => d.getTime()))) : new Date();\r\n        start.setMonth(start.getMonth() - 1);\r\n        start.setDate(1);\r\n        start.setHours(0, 0, 0, 0);\r\n        return start;\r\n    }\r\n\r\n    private createTimelineHeader(): HTMLElement {\r\n        const header = document.createElement(\"div\");\r\n        header.className = \"roadmap-grid-header\";\r\n        header.style.height = \"32px\";\r\n        header.style.borderBottom = \"1px solid var(--vscode-panel-border)\";\r\n        header.style.position = \"sticky\";\r\n        header.style.top = \"0\";\r\n        header.style.zIndex = \"20\";\r\n        header.style.background = \"var(--vscode-sideBar-background)\";\r\n        header.style.display = \"flex\";\r\n        header.style.overflow = \"hidden\";\r\n        return header;\r\n    }\r\n\r\n    private renderGroups(listView: HTMLElement, gridView: HTMLElement, groups: any[], groupingField: any) {\r\n        listView.innerHTML = \"\";\r\n        gridView.innerHTML = \"\";\r\n\r\n        const gridContent = document.createElement(\"div\");\r\n        gridContent.className = \"roadmap-grid-content\";\r\n        gridContent.style.position = \"relative\";\r\n        gridView.appendChild(gridContent);\r\n\r\n        const start = this.getTimelineStart();\r\n        const dates = this.items.flatMap(it => [this.getDateFieldValue(it, \"start\"), this.getDateFieldValue(it, \"end\")]).filter(d => !!d);\r\n\r\n        let end = dates.length ? new Date(Math.max(...dates.map(d => d.getTime()))) : new Date();\r\n        const futureMonths = this.zoomLevel === \"year\" ? 12 : 6;\r\n        end.setMonth(end.getMonth() + futureMonths);\r\n        end.setDate(1);\r\n        end.setHours(0, 0, 0, 0);\r\n\r\n        const totalWidth = this.calculateOffset(end, start);\r\n        gridContent.style.width = totalWidth + \"px\";\r\n\r\n        const gridHeader = this.container?.querySelector(\".roadmap-grid-header\") as HTMLElement;\r\n        gridHeader.innerHTML = \"\";\r\n        const headerScroll = document.createElement(\"div\");\r\n        headerScroll.style.width = totalWidth + \"px\";\r\n        headerScroll.style.flexShrink = \"0\";\r\n        headerScroll.style.display = \"flex\";\r\n        headerScroll.style.height = \"100%\";\r\n        gridHeader.appendChild(headerScroll);\r\n\r\n        const gridLines = document.createElement(\"div\");\r\n        gridLines.className = \"roadmap-grid-lines\";\r\n        gridLines.style.position = \"absolute\";\r\n        gridLines.style.top = \"0\"; gridLines.style.left = \"0\"; gridLines.style.height = \"100%\"; gridLines.style.width = \"100%\"; gridLines.style.pointerEvents = \"none\"; gridLines.style.zIndex = \"0\";\r\n        gridContent.appendChild(gridLines);\r\n\r\n        let iter = new Date(start);\r\n        while (iter < end) {\r\n            const mStart = new Date(iter);\r\n            const mEnd = new Date(iter.getFullYear(), iter.getMonth() + 1, 1);\r\n            const mStartOffset = this.calculateOffset(mStart, start);\r\n            const mEndOffset = this.calculateOffset(mEnd, start);\r\n            const mWidth = mEndOffset - mStartOffset;\r\n\r\n            const m = document.createElement(\"div\");\r\n            m.className = \"roadmap-month-label\";\r\n            m.style.flex = `0 0 ${mWidth}px`;\r\n            m.style.borderRight = \"1px solid var(--vscode-panel-border)\";\r\n            m.style.background = \"var(--vscode-sideBar-background)\";\r\n            m.style.fontSize = \"12px\"; m.style.padding = \"7px 12px\"; m.style.fontWeight = \"600\"; m.style.color = \"var(--vscode-foreground)\";\r\n            let label = (this.zoomLevel === \"year\") ? iter.toLocaleDateString(\"default\", { month: \"short\" }) : iter.toLocaleDateString(\"default\", { month: \"long\", year: \"numeric\" });\r\n            if (this.zoomLevel === \"year\" && iter.getMonth() === 0) label = iter.getFullYear().toString();\r\n            m.textContent = label;\r\n            headerScroll.appendChild(m);\r\n\r\n            const line = document.createElement(\"div\");\r\n            line.style.position = \"absolute\";\r\n            line.style.left = mStartOffset + \"px\";\r\n            line.style.height = \"100%\"; line.style.borderLeft = \"1px solid var(--vscode-panel-border)\"; line.style.opacity = \"0.2\";\r\n            gridLines.appendChild(line);\r\n            iter = mEnd;\r\n        }\r\n\r\n        this.renderMarkers(gridContent, start, end);\r\n        gridView.onscroll = () => { gridHeader.scrollLeft = gridView.scrollLeft; };\r\n\r\n        const rowHeight = 40;\r\n        let globalIndex = 1;\r\n\r\n        groups.forEach(group => {\r\n            const groupId = String(group.option.id || \"unassigned\");\r\n            const isCollapsed = this.collapsedGroups.has(groupId);\r\n\r\n            const listGroupHeader = document.createElement(\"div\");\r\n            listGroupHeader.className = \"roadmap-list-group-header\";\r\n            listGroupHeader.style.height = \"32px\"; listGroupHeader.style.display = \"flex\"; listGroupHeader.style.alignItems = \"center\"; listGroupHeader.style.padding = \"0 8px\"; listGroupHeader.style.background = \"var(--vscode-sideBar-background)\"; listGroupHeader.style.borderBottom = \"1px solid var(--vscode-panel-border)\"; listGroupHeader.style.zIndex = \"10\"; listGroupHeader.style.position = \"sticky\"; listGroupHeader.style.top = \"0\";\r\n\r\n            const toggleIconName = isCollapsed ? \"triangle-right\" : \"triangle-down\";\r\n            const toggleIcon = getIconSvg(toggleIconName, { size: 16, fill: \"var(--vscode-descriptionForeground)\" });\r\n            const color = normalizeColor(group.option.color) || \"#848d97\";\r\n            const groupIcon = `<div style=\"width:12px; height:12px; border-radius:50%; background:${color}; margin: 0 8px; border: 1px solid ${addAlpha(color, 0.4)}\"></div>`;\r\n\r\n            if (groupingField) {\r\n                listGroupHeader.innerHTML = `\r\n                    <div class=\"roadmap-group-toggle\" style=\"cursor:pointer; width:24px; height:24px; display:flex; align-items:center; justify-content:center;\">${toggleIcon}</div>\r\n                    ${groupIcon}\r\n                    <span style=\"font-weight:600; font-size:13px; margin-right:8px;\">${group.option.name || \"Unassigned\"}</span>\r\n                    <span class=\"gh-count-pill\" style=\"background:${addAlpha(color, 0.15)}; color:${color}; border: 1px solid ${addAlpha(color, 0.3)}; border-radius:10px; padding:2px 8px; font-size:11px; font-weight:600;\">${group.items.length}</span>\r\n                `;\r\n                listGroupHeader.querySelector(\".roadmap-group-toggle\")!.addEventListener(\"click\", () => {\r\n                    if (isCollapsed) this.collapsedGroups.delete(groupId); else this.collapsedGroups.add(groupId);\r\n                    this.renderRoadmap(this.container!, this.lastSnapshot);\r\n                });\r\n                listView.appendChild(listGroupHeader);\r\n\r\n                const gridGroupHeader = document.createElement(\"div\");\r\n                gridGroupHeader.className = \"roadmap-grid-group-header\";\r\n                gridGroupHeader.style.height = \"32px\"; gridGroupHeader.style.borderBottom = \"1px solid var(--vscode-panel-border)\"; gridGroupHeader.style.background = \"var(--vscode-sideBar-background)\";\r\n                gridContent.appendChild(gridGroupHeader);\r\n            }\r\n\r\n            if (!isCollapsed) {\r\n                group.items.forEach((gi: any) => {\r\n                    const item = gi.item;\r\n                    const listRow = document.createElement(\"div\");\r\n                    listRow.className = \"roadmap-list-row\";\r\n                    listRow.style.height = rowHeight + \"px\"; listRow.style.display = \"flex\"; listRow.style.alignItems = \"center\"; listRow.style.padding = \"0\";\r\n\r\n                    const rowNum = document.createElement(\"div\");\r\n                    rowNum.style.width = \"40px\"; rowNum.style.textAlign = \"center\"; rowNum.style.fontSize = \"11px\"; rowNum.style.color = \"var(--vscode-descriptionForeground)\";\r\n                    rowNum.textContent = String(globalIndex++);\r\n                    listRow.appendChild(rowNum);\r\n\r\n                    const contentWrapper = document.createElement(\"div\");\r\n                    contentWrapper.style.display = \"flex\"; contentWrapper.style.alignItems = \"center\"; contentWrapper.style.flex = \"1\"; contentWrapper.style.overflow = \"hidden\"; contentWrapper.style.padding = \"0 8px\"; contentWrapper.style.gap = \"8px\";\r\n\r\n                    const titleField = this.allFields.find(f => f.name.toLowerCase() === \"title\");\r\n                    const titleFv = item.fieldValues.find((v: any) => v.fieldId === titleField?.id) || { value: item.title, type: \"title\" };\r\n                    const assigneesField = this.allFields.find(f => (f.dataType || f.type || \"\").toLowerCase() === \"assignees\");\r\n                    const assigneesFv = item.fieldValues.find((v: any) => v.fieldId === assigneesField?.id);\r\n\r\n                    contentWrapper.innerHTML = `<div style=\"display:flex; align-items:center; gap:8px; overflow:hidden; flex:1;\">${renderCell(titleFv, titleField, item, this.items)}</div>`;\r\n                    listRow.appendChild(contentWrapper);\r\n                    listView.appendChild(listRow);\r\n\r\n                    const gridRow = document.createElement(\"div\");\r\n                    gridRow.className = \"roadmap-grid-row\";\r\n                    gridRow.style.height = rowHeight + \"px\"; gridRow.style.position = \"relative\";\r\n                    gridContent.appendChild(gridRow);\r\n\r\n                    listRow.onmouseenter = () => gridRow.style.background = \"var(--vscode-list-hoverBackground)\";\r\n                    listRow.onmouseleave = () => gridRow.style.background = \"transparent\";\r\n                    gridRow.onmouseenter = () => listRow.style.background = \"var(--vscode-list-hoverBackground)\";\r\n                    gridRow.onmouseleave = () => listRow.style.background = \"transparent\";\r\n\r\n                    const iStart = this.getDateFieldValue(item, \"start\");\r\n                    const iEnd = this.getDateFieldValue(item, \"end\");\r\n                    if (iStart) {\r\n                        const startOffset = this.calculateOffset(iStart, start);\r\n                        const duration = iEnd ? Math.max(1, Math.round((iEnd.getTime() - iStart.getTime()) / (1000 * 60 * 60 * 24))) : 14;\r\n                        const barWidth = Math.max(40, duration * this.dayWidth);\r\n                        const bar = document.createElement(\"div\");\r\n                        bar.className = \"roadmap-bar\";\r\n                        bar.style.position = \"absolute\"; bar.style.left = startOffset + \"px\"; bar.style.top = \"6px\"; bar.style.height = \"28px\"; bar.style.minWidth = barWidth + \"px\"; bar.style.background = \"var(--vscode-sideBar-background)\"; bar.style.border = \"1px solid var(--vscode-panel-border)\"; bar.style.borderRadius = \"14px\"; bar.style.display = \"flex\"; bar.style.alignItems = \"center\"; bar.style.zIndex = \"2\"; bar.style.fontSize = \"12px\"; bar.style.overflow = \"hidden\";\r\n\r\n                        const iStartStr = iStart.toLocaleDateString([], { month: 'short', day: 'numeric', year: 'numeric' });\r\n                        const iEndStr = iEnd ? iEnd.toLocaleDateString([], { month: 'short', day: 'numeric', year: 'numeric' }) : \"No end date\";\r\n                        bar.title = `${item.title || \"Item\"} (${iStartStr} - ${iEndStr})`;\r\n\r\n                        const stickyContent = document.createElement(\"div\");\r\n                        stickyContent.style.position = \"sticky\"; stickyContent.style.left = \"0\"; stickyContent.style.padding = \"0 8px\"; stickyContent.style.display = \"flex\"; stickyContent.style.alignItems = \"center\"; stickyContent.style.gap = \"6px\"; stickyContent.style.whiteSpace = \"nowrap\"; stickyContent.style.width = \"100%\";\r\n\r\n                        // For the bar, we only show avatars if available, otherwise just title\r\n                        // This matches \"avatar should appear ONLY on the line element\" (interpreted as no text for assignees on the bar)\r\n                        const avatarOnlyRenderer = (fv: any, field: any) => {\r\n                            if (!fv || (field?.dataType || field?.type)?.toLowerCase() !== \"assignees\") return renderCell(fv, field, item, this.items);\r\n                            const assignees = fv.assignees || [];\r\n                            if (assignees.length === 0) return \"\";\r\n                            // Extract just the avatar part from AssigneesRenderer logic or roughly reimplement\r\n                            return `<div style=\"display:flex; align-items:center;\">${renderCell(fv, field, item, this.items).split('</span></span>')[0]}</span></span></div>`;\r\n                        };\r\n\r\n                        stickyContent.innerHTML = `<div style=\"display:flex; align-items:center; gap:6px; overflow:hidden;\">${renderCell(titleFv, titleField, item, this.items)}</div>${assigneesFv ? `<div style=\"margin-left:auto; display:flex;\">${avatarOnlyRenderer(assigneesFv, assigneesField)}</div>` : \"\"}`;\r\n                        bar.appendChild(stickyContent);\r\n                        if (item.url) bar.onclick = () => this.onAction(\"openUrl\", item, {});\r\n                        gridRow.appendChild(bar);\r\n                    }\r\n                });\r\n\r\n                const addItemRow = document.createElement(\"div\");\r\n                addItemRow.style.height = \"32px\"; addItemRow.style.display = \"flex\"; addItemRow.style.alignItems = \"center\"; addItemRow.style.padding = \"0 8px\"; addItemRow.style.cursor = \"pointer\"; addItemRow.style.color = \"var(--vscode-descriptionForeground)\";\r\n                const plusIcon = getIconSvg(\"plus\", { size: 16, fill: \"currentColor\" });\r\n                addItemRow.innerHTML = `<div style=\"width:40px; display:flex; justify-content:center;\">${plusIcon}</div><span style=\"font-size:13px; opacity: 0.8;\">Add item</span>`;\r\n                addItemRow.onclick = () => this.onAction(\"addItem\", { groupId: group.option.id }, {});\r\n                listView.appendChild(addItemRow);\r\n\r\n                const gridAddRow = document.createElement(\"div\");\r\n                gridAddRow.className = \"roadmap-grid-row\";\r\n                gridAddRow.style.height = \"32px\"; gridAddRow.style.borderBottom = \"1px solid var(--vscode-panel-border)\";\r\n                gridContent.appendChild(gridAddRow);\r\n                addItemRow.onmouseenter = () => gridAddRow.style.background = \"var(--vscode-list-hoverBackground)\";\r\n                addItemRow.onmouseleave = () => gridAddRow.style.background = \"transparent\";\r\n            }\r\n        });\r\n    }\r\n\r\n    private getDateFieldValue(item: any, type: \"start\" | \"end\"): Date | null {\r\n        const fieldId = type === \"start\" ? this.startDateFieldId : this.endDateFieldId;\r\n        const field = fieldId ? this.allFields.find(f => String(f.id) === String(fieldId)) : null;\r\n        if (!field) return null;\r\n\r\n        const fv = item.fieldValues.find((v: any) => String(v.fieldId) === String(field.id));\r\n        if (!fv) return null;\r\n\r\n        let date: Date | null = null;\r\n        if (fv.date) {\r\n            date = new Date(fv.date);\r\n        } else if (fv.iterationId && field.configuration?.iterations) {\r\n            const iter = field.configuration.iterations.find((i: any) => i.id === fv.iterationId);\r\n            if (iter) {\r\n                date = new Date(iter.startDate);\r\n                if (type === \"end\") {\r\n                    date.setDate(date.getDate() + (iter.duration || 14));\r\n                }\r\n            }\r\n        }\r\n\r\n        if (date) {\r\n            date.setHours(0, 0, 0, 0); // Normalize to midnight\r\n        }\r\n        return date;\r\n    }\r\n\r\n    private calculateOffset(date: Date, start: Date): number {\r\n        const d = new Date(date);\r\n        d.setHours(0, 0, 0, 0);\r\n        const s = new Date(start);\r\n        s.setHours(0, 0, 0, 0);\r\n        const diff = d.getTime() - s.getTime();\r\n        return Math.round(diff / (1000 * 60 * 60 * 24)) * this.dayWidth;\r\n    }\r\n\r\n    public applyFilter(matchedIds: Set<string>) {\r\n        if (!this.container) return;\r\n        const rows = this.container.querySelectorAll(\"[data-gh-item-id]\");\r\n        rows.forEach(r => {\r\n            const el = r as HTMLElement; const id = el.getAttribute(\"data-gh-item-id\");\r\n            if (id) el.style.display = matchedIds.has(id) ? \"flex\" : \"none\";\r\n        });\r\n    }\r\n\r\n    private renderMarkers(gridContent: HTMLElement, start: Date, end: Date) {\r\n        // 1. Today Marker (Always active for now, or tied to milestones toggle)\r\n        const today = new Date();\r\n        today.setHours(0, 0, 0, 0);\r\n        if (today >= start && today <= end) {\r\n            const todayOffset = this.calculateOffset(today, start);\r\n            const markerLine = document.createElement(\"div\");\r\n            markerLine.style.position = \"absolute\"; markerLine.style.left = (todayOffset - 1) + \"px\"; markerLine.style.top = \"0\"; markerLine.style.height = \"100%\"; markerLine.style.width = \"2px\"; markerLine.style.background = \"#fd8c73\"; markerLine.style.zIndex = \"100\"; markerLine.style.pointerEvents = \"none\";\r\n            gridContent.appendChild(markerLine);\r\n            const nub = document.createElement(\"div\");\r\n            nub.style.position = \"absolute\"; nub.style.top = \"-4px\"; nub.style.left = \"-3px\"; nub.style.width = \"8px\"; nub.style.height = \"8px\"; nub.style.borderRadius = \"50%\"; nub.style.background = \"#fd8c73\";\r\n            markerLine.appendChild(nub);\r\n        }\r\n\r\n        // 2. Milestone Markers\r\n        if (this.activeMarkers.includes(\"milestones\")) {\r\n            const milestoneField = this.allFields.find(f => {\r\n                const type = (f.dataType || f.type || \"\").toLowerCase();\r\n                return type === \"milestone\" || f.name.toLowerCase() === \"milestone\";\r\n            });\r\n            const milestones = new Map<string, Date>();\r\n\r\n            this.items.forEach(item => {\r\n                const fv = item.fieldValues.find((v: any) => v.fieldId === milestoneField?.id);\r\n                if (fv?.milestone?.dueDate) {\r\n                    milestones.set(fv.milestone.id, new Date(fv.milestone.dueDate));\r\n                }\r\n            });\r\n\r\n            milestones.forEach((date) => {\r\n                date.setHours(0, 0, 0, 0);\r\n                if (date >= start && date <= end) {\r\n                    const offset = this.calculateOffset(date, start);\r\n                    const line = document.createElement(\"div\");\r\n                    line.style.position = \"absolute\"; line.style.left = offset + \"px\"; line.style.top = \"0\"; line.style.height = \"100%\"; line.style.borderLeft = \"1px dashed var(--vscode-descriptionForeground)\"; line.style.zIndex = \"10\"; line.style.pointerEvents = \"none\";\r\n                    gridContent.appendChild(line);\r\n\r\n                    const diamond = document.createElement(\"div\");\r\n                    diamond.style.position = \"absolute\"; diamond.style.top = \"0\"; diamond.style.left = \"-4px\"; diamond.style.width = \"8px\"; diamond.style.height = \"8px\"; diamond.style.background = \"var(--vscode-descriptionForeground)\"; diamond.style.transform = \"rotate(45deg)\"; diamond.style.zIndex = \"11\";\r\n                    line.appendChild(diamond);\r\n                }\r\n            });\r\n        }\r\n\r\n        // 3. Iteration Boundaries and Date Field Markers\r\n        this.activeMarkers.forEach(markerId => {\r\n            const field = this.allFields.find(f => String(f.id) === String(markerId));\r\n            if (!field) return;\r\n\r\n            const type = (field.dataType || field.type || \"\").toLowerCase();\r\n            if (type === \"iteration\" && field.configuration?.iterations) {\r\n                field.configuration.iterations.forEach((iter: any) => {\r\n                    const iStart = new Date(iter.startDate);\r\n                    iStart.setHours(0, 0, 0, 0);\r\n                    if (iStart >= start && iStart <= end) {\r\n                        const offset = this.calculateOffset(iStart, start);\r\n                        const line = document.createElement(\"div\");\r\n                        line.style.position = \"absolute\"; line.style.left = offset + \"px\"; line.style.top = \"0\"; line.style.height = \"100%\"; line.style.borderLeft = \"2px solid #0366d6\"; line.style.opacity = \"0.7\"; line.style.zIndex = \"10\"; line.style.pointerEvents = \"none\";\r\n                        gridContent.appendChild(line);\r\n\r\n                        const circle = document.createElement(\"div\");\r\n                        circle.className = \"roadmap-marker-circle\";\r\n                        line.appendChild(circle);\r\n\r\n                        const label = document.createElement(\"div\");\r\n                        label.className = \"roadmap-marker-label\";\r\n                        const iStartStr = iStart.toLocaleDateString([], { month: \"short\", day: \"numeric\" });\r\n                        const iEnd = new Date(iStart);\r\n                        iEnd.setDate(iEnd.getDate() + (iter.duration || 14));\r\n                        const iEndStr = iEnd.toLocaleDateString([], { month: \"short\", day: \"numeric\" });\r\n                        label.textContent = `${iter.title || iter.name || \"Iteration\"} (${iStartStr} - ${iEndStr})`;\r\n                        line.appendChild(label);\r\n                    }\r\n                });\r\n            } else if (type === \"date\") {\r\n                const uniqueDates = new Set<string>();\r\n                this.items.forEach(item => {\r\n                    const fv = item.fieldValues.find((v: any) => String(v.fieldId) === String(field.id));\r\n                    if (fv?.date) uniqueDates.add(fv.date);\r\n                });\r\n\r\n                uniqueDates.forEach(dateStr => {\r\n                    const d = new Date(dateStr);\r\n                    d.setHours(0, 0, 0, 0);\r\n                    if (!isNaN(d.getTime()) && d >= start && d <= end) {\r\n                        const offset = this.calculateOffset(d, start);\r\n                        const line = document.createElement(\"div\");\r\n                        line.style.position = \"absolute\"; line.style.left = offset + \"px\"; line.style.top = \"0\"; line.style.height = \"100%\"; line.style.borderLeft = \"1px solid var(--vscode-descriptionForeground)\"; line.style.opacity = \"0.4\"; line.style.zIndex = \"10\"; line.style.pointerEvents = \"none\";\r\n                        gridContent.appendChild(line);\r\n\r\n                        const triangle = document.createElement(\"div\");\r\n                        triangle.className = \"roadmap-marker-triangle\";\r\n                        line.appendChild(triangle);\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    }\r\n}\r\n", "import { ProjectTable } from \"./components/ProjectTable\";\r\nimport {\r\n  setLoadingState,\r\n  setErrorState,\r\n  initFilterBar,\r\n  createLoadMoreButton,\r\n  logDebug,\r\n} from \"./viewFetcherUtils\";\r\nimport { RoadmapRenderer } from \"./renderers/RoadmapRenderer\";\r\n\r\n/// <reference path=\"./global.d.ts\" />\r\n\r\nwindow.roadmapViewFetcher = function (\r\n  view: any,\r\n  container: HTMLElement,\r\n  viewKey: string,\r\n) {\r\n  const viewName =\r\n    view && (view.name || view.id) ? view.name || view.id : \"Roadmap View\";\r\n  try {\r\n    setLoadingState(container, viewName);\r\n  } catch (e) { }\r\n\r\n  let itemsLimit = 50;\r\n  let renderer: RoadmapRenderer | null = null;\r\n\r\n  function render(payload: any, effectiveFilter?: string) {\r\n    const snapshot = payload || {};\r\n    const items = snapshot.items || [];\r\n    const fields = snapshot.allFields || snapshot.fields || [];\r\n    const visibleFieldIds = (snapshot.fields || []).map((f: any) => String(f.id));\r\n\r\n    // Reset container layout like table/board view\r\n    container.innerHTML = \"\";\r\n    container.style.margin = \"0\";\r\n    container.style.padding = \"0\";\r\n    container.style.height = \"100%\";\r\n    container.style.display = \"flex\";\r\n    container.style.flexDirection = \"column\";\r\n    container.style.overflow = \"hidden\";\r\n\r\n    // Header / Filter Bar Container\r\n    const headerContainer = document.createElement(\"div\");\r\n    headerContainer.style.flex = \"0 0 auto\";\r\n    headerContainer.style.background = \"var(--vscode-editor-background)\";\r\n    headerContainer.style.zIndex = \"20\";\r\n    headerContainer.style.position = \"relative\";\r\n    headerContainer.style.display = \"flex\";\r\n    headerContainer.style.justifyContent = \"space-between\";\r\n    headerContainer.style.alignItems = \"center\";\r\n    headerContainer.style.width = \"100%\";\r\n\r\n    const filterWrapper = document.createElement(\"div\");\r\n    filterWrapper.style.flex = \"1 1 auto\";\r\n    filterWrapper.style.marginRight = \"8px\";\r\n    headerContainer.appendChild(filterWrapper);\r\n\r\n    const barApi = initFilterBar(filterWrapper, viewKey, {\r\n      suffix: viewKey,\r\n      step: itemsLimit,\r\n      onLoadMore: () => {\r\n        itemsLimit += 50;\r\n        requestFields();\r\n      },\r\n      onSave: () => {\r\n        // Handle save if needed\r\n      },\r\n      onDiscard: () => {\r\n        requestFields();\r\n      },\r\n    });\r\n\r\n    if (effectiveFilter && barApi && typeof barApi.setEffectiveFilter === \"function\") {\r\n      barApi.setEffectiveFilter(effectiveFilter);\r\n    }\r\n\r\n    if (barApi && typeof barApi.registerItems === \"function\") {\r\n      barApi.registerItems(items, { fields });\r\n    }\r\n\r\n    container.appendChild(headerContainer);\r\n\r\n    // Main Content Area (Split Pane)\r\n    const roadmapContainer = document.createElement(\"div\");\r\n    roadmapContainer.style.flex = \"1 1 auto\";\r\n    roadmapContainer.style.overflow = \"hidden\";\r\n    roadmapContainer.style.position = \"relative\";\r\n    container.appendChild(roadmapContainer);\r\n\r\n    // Detect Grouping Field for addItem logic\r\n    const groupByFields = snapshot?.details?.groupByFields?.nodes || [];\r\n    const groupingField = fields.find((f: any) =>\r\n      groupByFields.some((v: any) => String(v.id) === String(f.id) || v.name === f.name)\r\n    );\r\n\r\n    // Initialize/Update Renderer\r\n    if (!renderer) {\r\n      renderer = new RoadmapRenderer(\r\n        items,\r\n        fields,\r\n        visibleFieldIds,\r\n        (filter) => {\r\n          if (barApi && barApi.inputEl) {\r\n            barApi.inputEl.value = filter;\r\n            barApi.inputEl.dispatchEvent(new Event(\"input\", { bubbles: true }));\r\n          }\r\n        },\r\n        (action, item, args) => {\r\n          if (action === \"openUrl\" && item.url) {\r\n            (window as any).__APP_MESSAGING__.postMessage({\r\n              command: \"openUrl\",\r\n              url: item.url\r\n            });\r\n          } else if (action === \"addItem\" && item && args) {\r\n            // Show AddItemMenu\r\n            import(\"./components/AddItemMenu\").then(({ AddItemMenu }) => {\r\n              const menu = new AddItemMenu({\r\n                anchorElement: args.anchorElement || document.body,\r\n                onCreateIssue: () => {\r\n                  (window as any).__APP_MESSAGING__.postMessage({\r\n                    command: \"addItem:createIssue\",\r\n                    viewKey: viewKey,\r\n                    projectId: payload && payload.id,\r\n                    columnFieldId: groupingField ? groupingField.id : null,\r\n                    columnValueId: item.groupId === \"__no_value__\" ? null : item.groupId,\r\n                  });\r\n                },\r\n                onAddFromRepo: () => {\r\n                  (window as any).__APP_MESSAGING__.postMessage({\r\n                    command: \"addItem:addFromRepo\",\r\n                    viewKey: viewKey,\r\n                    projectId: payload && payload.id,\r\n                    columnFieldId: groupingField ? groupingField.id : null,\r\n                    columnValueId: item.groupId === \"__no_value__\" ? null : item.groupId,\r\n                  });\r\n                }\r\n              });\r\n              menu.show();\r\n            }).catch(err => console.error(\"Failed to load AddItemMenu\", err));\r\n          }\r\n        }\r\n      );\r\n    } else {\r\n      renderer.updateData(items, fields, visibleFieldIds);\r\n    }\r\n\r\n    renderer.renderRoadmap(roadmapContainer, snapshot);\r\n\r\n    // Connect Filter to Renderer Visibility\r\n    if (barApi && typeof barApi.onFilterChange === \"function\") {\r\n      barApi.onFilterChange((matchedIds: Set<string>) => {\r\n        if (renderer) {\r\n          renderer.applyFilter(matchedIds);\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  function onMessage(ev: MessageEvent) {\r\n    const msg = ev.data;\r\n    if (msg && msg.command === \"fields\" && msg.viewKey === viewKey) {\r\n      if (msg.error) {\r\n        setErrorState(container, viewName, String(msg.error));\r\n      } else {\r\n        render(msg.payload, msg.effectiveFilter);\r\n      }\r\n    }\r\n  }\r\n\r\n  function requestFields() {\r\n    (window as any).__APP_MESSAGING__.postMessage({\r\n      command: \"requestFields\",\r\n      first: itemsLimit,\r\n      viewKey: viewKey,\r\n    });\r\n  }\r\n\r\n  window.addEventListener(\"message\", onMessage);\r\n  requestFields();\r\n};\r\n"],
  "mappings": "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",
  "names": ["AddItemMenu_exports", "__export", "AddItemMenu", "init_AddItemMenu", "__esmMin", "options", "rect", "menuRect", "margin", "vw", "vh", "top", "left", "mkItem", "iconName", "label", "description", "onClick", "row", "iconSpan", "textContainer", "titleEl", "descEl", "setLoadingState", "container", "titleText", "setErrorState", "error", "initFilterBar", "container", "viewKey", "options", "escapeHtml", "s", "normalizeColor", "color", "n", "b", "u", "addAlpha", "alpha", "S", "v", "C", "getContrastColor", "GroupDataService", "items", "field", "options", "dType", "groups", "opt", "unassigned", "item", "index", "fv", "v", "placed", "matchId", "matchName", "group", "g", "map", "unassignedFallback", "val", "p", "a", "key", "groupsArr", "ICON_DEFINITIONS", "getIconSvg", "name", "options", "icon", "size", "className", "fill", "viewBox", "ariaHidden", "ariaLabel", "escapeHtml", "title", "innerContent", "escapeHtml", "text", "getIconNameForDataType", "dataType", "TitleRenderer", "value", "field", "item", "allItems", "t", "o", "l", "r", "w", "x", "a", "normalizeColor", "p", "g", "escapeHtml", "f", "content", "isPullRequest", "isDraft", "isClosed", "isMerged", "isBlocked", "parentIsDoneByStatus", "st", "completedNames", "deps", "hasDoneFromStatus", "statusFv", "fv", "fname", "optNameLower", "hasDoneLabel", "iconName", "baseIcon", "getIconSvg", "blockedIcon", "tooltipText", "safeUrl", "safeTooltip", "TextRenderer", "NumberRenderer", "DateRenderer", "SingleSelectRenderer", "n", "c", "hasHex", "border", "bg", "addAlpha", "fg", "IterationRenderer", "i", "name", "rawColor", "RepositoryRenderer", "url", "icon", "tooltip", "LabelsRenderer", "k", "L", "h", "PullRequestRenderer", "prs", "out", "num", "titleText", "normColor", "getContrastColor", "state", "IssueRenderer", "AssigneesRenderer", "assignees", "getProfileUrl", "login", "direct", "avatarHtml", "index", "avatarUrl", "offset", "zIndex", "initials", "part", "profileUrl", "commonStyle", "names", "summary", "primaryProfileUrl", "RequestedReviewersRenderer", "reviewers", "display", "MilestoneRenderer", "SubIssuesProgressRenderer", "totalCount", "doneCount", "pct", "ParentIssueRenderer", "itemsList", "B", "O", "$", "A", "d", "M", "V", "X", "parentIconName", "parentIcon", "q", "parentWrapper", "strategies", "TitleRenderer", "TextRenderer", "NumberRenderer", "DateRenderer", "SingleSelectRenderer", "IterationRenderer", "RepositoryRenderer", "LabelsRenderer", "PullRequestRenderer", "IssueRenderer", "AssigneesRenderer", "RequestedReviewersRenderer", "MilestoneRenderer", "SubIssuesProgressRenderer", "ParentIssueRenderer", "renderCell", "e", "n", "s", "allItems", "strategy", "err", "RoadmapRenderer", "items", "allFields", "visibleFieldIds", "onFilter", "onAction", "fields", "visibleIds", "container", "snapshot", "controlHeader", "splitPane", "listContainer", "listHeader", "listView", "timelineContainer", "gridHeader", "gridView", "groupByFields", "groupingField", "f", "itemsToRender", "sortField", "isDateType", "a", "b", "valA", "valB", "v", "groups", "GroupDataService", "it", "idx", "iterOrDateFields", "type", "startField", "endField", "style", "header", "leftLabel", "spacer", "btnStyleBase", "createControlBtn", "label", "icon", "onClick", "hasDropdown", "btn", "iconSvg", "getIconSvg", "dropdownSvg", "tools", "e", "zoomLabel", "todayBtn", "today", "start", "todayOffset", "navGroup", "prevBtn", "nextBtn", "options", "getIconNameForDataType", "id", "m", "iterAndDateFields", "menu", "renderSection", "title", "currentId", "onSelect", "isLast", "item", "typeArr", "suffix", "divider", "rect", "closer", "ev", "anchor", "activeIds", "multi", "opt", "isSelected", "check", "dates", "d", "gridContent", "end", "futureMonths", "totalWidth", "headerScroll", "gridLines", "iter", "mStart", "mEnd", "mStartOffset", "mWidth", "line", "rowHeight", "globalIndex", "group", "groupId", "isCollapsed", "listGroupHeader", "toggleIcon", "color", "normalizeColor", "groupIcon", "addAlpha", "gridGroupHeader", "gi", "listRow", "rowNum", "contentWrapper", "titleField", "titleFv", "assigneesField", "assigneesFv", "renderCell", "gridRow", "iStart", "iEnd", "startOffset", "duration", "barWidth", "bar", "iStartStr", "iEndStr", "stickyContent", "avatarOnlyRenderer", "fv", "field", "addItemRow", "plusIcon", "gridAddRow", "fieldId", "date", "i", "s", "diff", "matchedIds", "r", "el", "markerLine", "nub", "milestoneField", "milestones", "offset", "diamond", "markerId", "circle", "uniqueDates", "dateStr", "triangle", "view", "container", "viewKey", "viewName", "setLoadingState", "itemsLimit", "renderer", "render", "payload", "effectiveFilter", "snapshot", "items", "fields", "visibleFieldIds", "f", "headerContainer", "filterWrapper", "barApi", "initFilterBar", "requestFields", "roadmapContainer", "groupByFields", "groupingField", "v", "RoadmapRenderer", "filter", "action", "item", "args", "AddItemMenu", "err", "matchedIds", "onMessage", "ev", "msg", "setErrorState"]
}
