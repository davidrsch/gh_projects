"use strict";(()=>{function S(n){return n?String(n).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):""}function m(n,e,r){try{window.__APP_MESSAGING__&&typeof window.__APP_MESSAGING__.postMessage=="function"&&window.__APP_MESSAGING__.postMessage({command:"debugLog",level:"debug",viewKey:n,message:e,data:r})}catch{}try{console&&console.log&&console.log(e,r)}catch{}}function L(n,e){n.innerHTML='<div class="title">'+e+'</div><div class="loading"><em>Loading...</em></div>'}function v(n,e,r){n.innerHTML='<div class="title">'+e+'</div><div style="color:var(--vscode-editor-foreground)">'+r+"</div>"}function _(n){let e=document.createElement("button");return e.type="button",e.textContent="Load more",e.style.marginLeft="8px",e.style.border="1px solid var(--vscode-editorWidget-border)",e.addEventListener("click",()=>{n(),e.disabled=!0,e.textContent="Loading..."}),e}function x(n,e,r){if(window.filterBarHelper&&typeof window.filterBarHelper.create=="function")try{return window.filterBarHelper.create({parent:n,suffix:r.suffix||e,effFilter:typeof r.effFilter=="string"?r.effFilter:void 0,viewKey:e,step:r.step||50,onLoadMore:r.onLoadMore,onSave:r.onSave,onDiscard:r.onDiscard})}catch{return null}return null}function w(n,e,r,s="block"){try{let l=Array.from(n.querySelectorAll(e));for(let p=0;p<l.length;p++)try{let u=l[p],y=u.getAttribute("data-gh-item-id");u.style.display=r.has(String(y))?s:"none"}catch{}}catch{}}try{m("global","boardViewFetcher.loaded")}catch{}try{console.log&&console.log("boardViewFetcher script loaded")}catch{}function H(){return function(n,e,r){let s=n&&(n.name||n.id)?n.name||n.id:"Board View";try{L(e,s)}catch{}var l=50;function p(a,i){try{var f=a&&a.items||[];e.innerHTML="";let t=x(e,r,{suffix:r,step:l,onLoadMore:function(){l+=50,y()}});try{if(i&&t&&typeof t.setEffectiveFilter=="function")try{t.setEffectiveFilter(i)}catch{}}catch{}if(!t){var c=document.createElement("div");c.style.display="flex",c.style.justifyContent="space-between",c.style.alignItems="center",c.style.marginBottom="8px";var b=document.createElement("div");b.style.fontWeight="600",b.style.padding="6px",b.textContent=s;var M=document.createElement("div"),C=_(()=>{l+=50,y()});M.appendChild(C),c.appendChild(b),c.appendChild(M),e.appendChild(c)}var E=document.createElement("div");E.style.marginTop="8px";for(var h=0;h<f.length;h++){var o=f[h],g=document.createElement("div");try{g.setAttribute("data-gh-item-id",String(o&&o.id))}catch{}g.style.padding="8px",g.style.border="1px solid var(--vscode-editorWidget-border)",g.style.marginBottom="8px",g.style.borderRadius="2px";var A=o&&o.content&&(o.content.title||o.content.name)||o&&o.title||o&&o.raw&&o.raw.title||"#"+(h+1);g.innerHTML='<div style="font-weight:600">'+S(A)+"</div>"+(o&&o.id?'<div style="color:var(--vscode-descriptionForeground);font-size:12px">'+S(String(o.id))+"</div>":""),E.appendChild(g)}e.appendChild(E);try{if(t&&typeof t.setCount=="function"&&t.setCount(f.length),t&&typeof t.setLoadState=="function"&&t.setLoadState(f.length<l,f.length>=l?"Load more":"All loaded"),t&&t.inputEl){if(typeof t.registerItems=="function"){let d=a&&a.fields||[];t.registerItems(f,{fields:d})}typeof t.onFilterChange=="function"&&t.onFilterChange(function(d,F){w(e,"[data-gh-item-id]",d,"block"),t&&typeof t.setCount=="function"&&t.setCount(d.size),m(r,"filterInput",{filter:F,matched:d.size,original:f.length})})}}catch{}}catch(t){m(r,"boardViewFetcher.render.error",{message:String(t&&t.message),stack:t&&t.stack}),v(e,s,"Error rendering board view: "+String(t&&t.message))}}function u(a){var i=a&&a.data?a.data:a;try{if(i&&i.command==="fields"){if(i.viewKey&&r&&String(i.viewKey)!==String(r))return;i.error?v(e,s,String(i.error)):p(i.payload||i.payload&&i.payload.data||i.payload,i.effectiveFilter)}}catch{}}function y(){try{window.__APP_MESSAGING__&&typeof window.__APP_MESSAGING__.postMessage=="function"&&window.__APP_MESSAGING__.postMessage({command:"requestFields",first:l,viewKey:r})}catch{}}try{window.__APP_MESSAGING__.onMessage(u)}catch{window.addEventListener("message",u)}y()}}try{window.boardViewFetcher=H()}catch{}})();
//# sourceMappingURL=boardViewFetcher.js.map
