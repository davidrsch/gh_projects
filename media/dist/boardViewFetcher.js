"use strict";(()=>{function h(t){return t?String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):""}function b(t,e,r){try{window.__APP_MESSAGING__&&typeof window.__APP_MESSAGING__.postMessage=="function"&&window.__APP_MESSAGING__.postMessage({command:"debugLog",level:"debug",viewKey:t,message:e,data:r})}catch{}try{console&&console.log&&console.log(e,r)}catch{}}function _(t,e){t.innerHTML='<div class="title">'+e+'</div><div class="loading"><em>Loading...</em></div>'}function S(t,e,r){t.innerHTML='<div class="title">'+e+'</div><div style="color:var(--vscode-editor-foreground)">'+r+"</div>"}function L(t){let e=document.createElement("button");return e.type="button",e.textContent="Load more",e.style.marginLeft="8px",e.style.border="1px solid var(--vscode-editorWidget-border)",e.addEventListener("click",()=>{t(),e.disabled=!0,e.textContent="Loading..."}),e}function M(t,e,r){if(window.filterBarHelper&&typeof window.filterBarHelper.create=="function")try{return window.filterBarHelper.create({parent:t,suffix:r.suffix||e,effFilter:void 0,viewKey:e,step:r.step||50,onLoadMore:r.onLoadMore,onSave:r.onSave,onDiscard:r.onDiscard})}catch{return null}return null}function w(t,e,r,l="block"){try{let s=Array.from(t.querySelectorAll(e));for(let u=0;u<s.length;u++)try{let g=s[u],p=g.getAttribute("data-gh-item-id");g.style.display=r.has(String(p))?l:"none"}catch{}}catch{}}try{b("global","boardViewFetcher.loaded")}catch{}try{console.log&&console.log("boardViewFetcher script loaded")}catch{}function G(){return function(t,e,r){let l=t&&(t.name||t.id)?t.name||t.id:"Board View";try{_(e,l)}catch{}var s=50;function u(a){try{var i=a&&a.items||[];e.innerHTML="";let n=M(e,r,{suffix:r,step:s,onLoadMore:function(){s+=50,p()}});if(!n){var d=document.createElement("div");d.style.display="flex",d.style.justifyContent="space-between",d.style.alignItems="center",d.style.marginBottom="8px";var y=document.createElement("div");y.style.fontWeight="600",y.style.padding="6px",y.textContent=l;var E=document.createElement("div"),x=L(()=>{s+=50,p()});E.appendChild(x),d.appendChild(y),d.appendChild(E),e.appendChild(d)}var v=document.createElement("div");v.style.marginTop="8px";for(var m=0;m<i.length;m++){var o=i[m],f=document.createElement("div");try{f.setAttribute("data-gh-item-id",String(o&&o.id))}catch{}f.style.padding="8px",f.style.border="1px solid var(--vscode-editorWidget-border)",f.style.marginBottom="8px",f.style.borderRadius="2px";var A=o&&o.content&&(o.content.title||o.content.name)||o&&o.title||o&&o.raw&&o.raw.title||"#"+(m+1);f.innerHTML='<div style="font-weight:600">'+h(A)+"</div>"+(o&&o.id?'<div style="color:var(--vscode-descriptionForeground);font-size:12px">'+h(String(o.id))+"</div>":""),v.appendChild(f)}e.appendChild(v);try{if(n&&typeof n.setCount=="function"&&n.setCount(i.length),n&&typeof n.setLoadState=="function"&&n.setLoadState(i.length<s,i.length>=s?"Load more":"All loaded"),n&&n.inputEl){if(typeof n.registerItems=="function"){let c=a&&a.fields||[];n.registerItems(i,{fields:c})}typeof n.onFilterChange=="function"&&n.onFilterChange(function(c,C){w(e,"[data-gh-item-id]",c,"block"),n&&typeof n.setCount=="function"&&n.setCount(c.size),b(r,"filterInput",{filter:C,matched:c.size,original:i.length})})}}catch{}}catch(n){b(r,"boardViewFetcher.render.error",{message:String(n&&n.message),stack:n&&n.stack}),S(e,l,"Error rendering board view: "+String(n&&n.message))}}function g(a){var i=a&&a.data?a.data:a;try{if(i&&i.command==="fields"){if(i.viewKey&&r&&String(i.viewKey)!==String(r))return;i.error?S(e,l,String(i.error)):u(i.payload||i.payload&&i.payload.data||i.payload)}}catch{}}function p(){try{window.__APP_MESSAGING__&&typeof window.__APP_MESSAGING__.postMessage=="function"&&window.__APP_MESSAGING__.postMessage({command:"requestFields",first:s,viewKey:r})}catch{}}try{window.__APP_MESSAGING__.onMessage(g)}catch{window.addEventListener("message",g)}p()}}try{window.boardViewFetcher=G()}catch{}})();
//# sourceMappingURL=boardViewFetcher.js.map
