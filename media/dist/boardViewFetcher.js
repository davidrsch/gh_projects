"use strict";(()=>{function S(n){return n?String(n).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):""}function v(n,e,r){try{window.__APP_MESSAGING__&&typeof window.__APP_MESSAGING__.postMessage=="function"&&window.__APP_MESSAGING__.postMessage({command:"debugLog",level:"debug",viewKey:n,message:e,data:r})}catch{}try{console&&console.log&&console.log(e,r)}catch{}}function L(n,e){n.innerHTML='<div class="title">'+e+'</div><div class="loading"><em>Loading...</em></div>'}function E(n,e,r){n.innerHTML='<div class="title">'+e+'</div><div style="color:var(--vscode-editor-foreground)">'+r+"</div>"}function M(n){let e=document.createElement("button");return e.type="button",e.textContent="Load more",e.style.marginLeft="8px",e.style.border="1px solid var(--vscode-editorWidget-border)",e.addEventListener("click",()=>{n(),e.disabled=!0,e.textContent="Loading..."}),e}function w(n,e,r){if(window.filterBarHelper&&typeof window.filterBarHelper.create=="function")try{return window.filterBarHelper.create({parent:n,suffix:r.suffix||e,effFilter:typeof r.effFilter=="string"?r.effFilter:void 0,viewKey:e,step:r.step||50,onLoadMore:r.onLoadMore,onSave:r.onSave,onDiscard:r.onDiscard})}catch{return null}return null}function x(n,e,r,l="block"){try{let s=Array.from(n.querySelectorAll(e));for(let p=0;p<s.length;p++)try{let u=s[p],y=u.getAttribute("data-gh-item-id");u.style.display=r.has(String(y))?l:"none"}catch{}}catch{}}try{v("global","boardViewFetcher.loaded")}catch{}try{console.log&&console.log("boardViewFetcher script loaded")}catch{}function G(){return function(n,e,r){let l=n&&(n.name||n.id)?n.name||n.id:"Board View";try{L(e,l)}catch{}var s=50;function p(a,i){try{var f=a&&a.items||[];e.innerHTML="";let t=w(e,r,{suffix:r,step:s,onLoadMore:function(){s+=50,y()}});try{if(i&&t&&typeof t.setEffectiveFilter=="function")try{t.setEffectiveFilter(i)}catch{}}catch{}if(!t){var c=document.createElement("div");c.style.display="flex",c.style.justifyContent="space-between",c.style.alignItems="center",c.style.marginBottom="8px";var m=document.createElement("div");m.style.fontWeight="600",m.style.padding="6px",m.textContent=l;var _=document.createElement("div"),A=M(()=>{s+=50,y()});_.appendChild(A),c.appendChild(m),c.appendChild(_),e.appendChild(c)}var h=document.createElement("div");h.style.marginTop="8px";for(var b=0;b<f.length;b++){var o=f[b],g=document.createElement("div");try{g.setAttribute("data-gh-item-id",String(o&&o.id))}catch{}g.style.padding="8px",g.style.border="1px solid var(--vscode-editorWidget-border)",g.style.marginBottom="8px",g.style.borderRadius="2px";var C=o&&o.content&&(o.content.title||o.content.name)||o&&o.title||o&&o.raw&&o.raw.title||"#"+(b+1);g.innerHTML='<div style="font-weight:600">'+S(C)+"</div>"+(o&&o.id?'<div style="color:var(--vscode-descriptionForeground);font-size:12px">'+S(String(o.id))+"</div>":""),h.appendChild(g)}e.appendChild(h);try{if(t&&typeof t.setCount=="function"&&t.setCount(f.length),t&&typeof t.setLoadState=="function"&&t.setLoadState(f.length<s,f.length>=s?"Load more":"All loaded"),t&&t.inputEl){if(typeof t.registerItems=="function"){let d=a&&a.fields||[];t.registerItems(f,{fields:d})}typeof t.onFilterChange=="function"&&t.onFilterChange(function(d,F){x(e,"[data-gh-item-id]",d,"block"),t&&typeof t.setCount=="function"&&t.setCount(d.size),v(r,"filterInput",{filter:F,matched:d.size,original:f.length})})}}catch{}}catch(t){v(r,"boardViewFetcher.render.error",{message:String(t&&t.message),stack:t&&t.stack}),E(e,l,"Error rendering board view: "+String(t&&t.message))}}function u(a){var i=a&&a.data?a.data:a;try{if(i&&i.command==="fields"){if(i.viewKey&&r&&String(i.viewKey)!==String(r))return;i.error?E(e,l,String(i.error)):p(i.payload||i.payload&&i.payload.data||i.payload,i.effectiveFilter)}}catch{}}function y(){try{window.__APP_MESSAGING__&&typeof window.__APP_MESSAGING__.postMessage=="function"&&window.__APP_MESSAGING__.postMessage({command:"requestFields",first:s,viewKey:r})}catch{}}try{window.__APP_MESSAGING__.onMessage(u)}catch{window.addEventListener("message",u)}y()}}try{window.boardViewFetcher=G()}catch{}})();
//# sourceMappingURL=boardViewFetcher.js.map
