"use strict";(()=>{function b(e){return e?String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):""}try{window&&window.vscodeApi&&typeof window.vscodeApi.postMessage=="function"&&window.vscodeApi.postMessage({command:"debugLog",level:"debug",message:"boardViewFetcher.loaded"})}catch{}try{console.log&&console.log("boardViewFetcher script loaded")}catch{}function S(){return function(e,i,a){try{i.innerHTML='<div class="title">'+(e&&(e.name||e.id)?e.name||e.id:"Board View")+'</div><div class="loading"><em>Loading board\u2026</em></div>'}catch{}var f=50;function C(s){try{var n=s&&s.items||[];i.innerHTML="";var t=null;if(window.filterBarHelper&&typeof window.filterBarHelper.create=="function")try{t=window.filterBarHelper.create({parent:i,suffix:a,effFilter:void 0,viewKey:a,step:f,onLoadMore:function(){f+=50,y()}})}catch{t=null}if(!t){var l=document.createElement("div");l.style.display="flex",l.style.justifyContent="space-between",l.style.alignItems="center",l.style.marginBottom="8px";var u=document.createElement("div");u.style.fontWeight="600",u.style.padding="6px",u.textContent=e&&(e.name||e.id)?e.name||e.id:"Board View";var L=document.createElement("div"),d=document.createElement("button");d.type="button",d.textContent="Load more",d.style.marginLeft="8px",d.style.border="1px solid var(--vscode-editorWidget-border)",d.addEventListener("click",function(){f+=50,y(),d.disabled=!0,d.textContent="Loading\u2026"}),L.appendChild(d),l.appendChild(u),l.appendChild(L),i.appendChild(l)}var m=document.createElement("div");m.style.marginTop="8px";for(var p=0;p<n.length;p++){var o=n[p],c=document.createElement("div");try{c.setAttribute("data-gh-item-id",String(o&&o.id))}catch{}c.style.padding="8px",c.style.border="1px solid var(--vscode-editorWidget-border)",c.style.marginBottom="8px",c.style.borderRadius="2px";var x=o&&o.content&&(o.content.title||o.content.name)||o&&o.title||o&&o.raw&&o.raw.title||"#"+(p+1);c.innerHTML='<div style="font-weight:600">'+b(x)+"</div>"+(o&&o.id?'<div style="color:var(--vscode-descriptionForeground);font-size:12px">'+b(String(o.id))+"</div>":""),m.appendChild(c)}i.appendChild(m);try{t&&typeof t.setCount=="function"&&t.setCount(n.length),t&&typeof t.setLoadState=="function"&&t.setLoadState(n.length<f,n.length>=f?"Load more":"All loaded");try{if(t&&t.inputEl)try{if(typeof t.registerItems=="function")try{let r=s&&s.fields||[];t.registerItems(n,{fields:r})}catch{}typeof t.onFilterChange=="function"&&t.onFilterChange(function(r,h){try{let g=Array.from(i.querySelectorAll("[data-gh-item-id]"));for(let v=0;v<g.length;v++)try{let w=g[v],M=w.getAttribute("data-gh-item-id");w.style.display=r.has(String(M))?"block":"none"}catch{}}catch{}try{t&&typeof t.setCount=="function"&&t.setCount(r.size)}catch{}try{typeof window.vscodeApi=="object"&&window.vscodeApi&&typeof window.vscodeApi.postMessage=="function"&&window.vscodeApi.postMessage({command:"debugLog",level:"debug",viewKey:a,message:"filterInput",data:{filter:h,matched:r.size,original:n.length}})}catch{}})}catch{}}catch{}}catch{}}catch(r){try{window.vscodeApi&&typeof window.vscodeApi.postMessage=="function"&&window.vscodeApi.postMessage({command:"debugLog",level:"error",viewKey:a,message:"boardViewFetcher.render.error",data:{message:String(r&&r.message),stack:r&&r.stack}})}catch{}try{i.innerHTML='<div class="title">'+(e&&(e.name||e.id)?e.name||e.id:"Board View")+'</div><div style="color:var(--vscode-editor-foreground)">Error rendering board view: '+String(r&&r.message)+"</div>"}catch{}}}function E(s){var n=s&&s.data?s.data:s;try{if(n&&n.command==="fields"){if(n.viewKey&&a&&String(n.viewKey)!==String(a))return;if(n.error)try{i.innerHTML='<div class="title">'+(e&&(e.name||e.id)?e.name||e.id:"Board View")+'</div><div style="color:var(--vscode-editor-foreground)">'+String(n.error)+"</div>"}catch{}else C(n.payload||n.payload&&n.payload.data||n.payload)}}catch{}}function y(){try{typeof window.vscodeApi=="object"&&window.vscodeApi&&typeof window.vscodeApi.postMessage=="function"&&window.vscodeApi.postMessage({command:"requestFields",first:f,viewKey:a})}catch{}}window.addEventListener("message",E),y()}}try{window.boardViewFetcher=S()}catch{}})();
//# sourceMappingURL=boardViewFetcher.js.map
