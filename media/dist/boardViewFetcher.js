"use strict";(()=>{function h(t){return t?String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):""}function b(t,e,r){try{window.vscodeApi&&typeof window.vscodeApi.postMessage=="function"&&window.vscodeApi.postMessage({command:"debugLog",level:"debug",viewKey:t,message:e,data:r})}catch{}try{console&&console.log&&console.log(e,r)}catch{}}function x(t,e){t.innerHTML='<div class="title">'+e+'</div><div class="loading"><em>Loading...</em></div>'}function L(t,e,r){t.innerHTML='<div class="title">'+e+'</div><div style="color:var(--vscode-editor-foreground)">'+r+"</div>"}function E(t){let e=document.createElement("button");return e.type="button",e.textContent="Load more",e.style.marginLeft="8px",e.style.border="1px solid var(--vscode-editorWidget-border)",e.addEventListener("click",()=>{t(),e.disabled=!0,e.textContent="Loading..."}),e}function C(t,e,r){if(window.filterBarHelper&&typeof window.filterBarHelper.create=="function")try{return window.filterBarHelper.create({parent:t,suffix:r.suffix||e,effFilter:void 0,viewKey:e,step:r.step||50,onLoadMore:r.onLoadMore})}catch{return null}return null}function M(t,e,r,a="block"){try{let l=Array.from(t.querySelectorAll(e));for(let g=0;g<l.length;g++)try{let u=l[g],p=u.getAttribute("data-gh-item-id");u.style.display=r.has(String(p))?a:"none"}catch{}}catch{}}try{b("global","boardViewFetcher.loaded")}catch{}try{console.log&&console.log("boardViewFetcher script loaded")}catch{}function F(){return function(t,e,r){let a=t&&(t.name||t.id)?t.name||t.id:"Board View";try{x(e,a)}catch{}var l=50;function g(s){try{var i=s&&s.items||[];e.innerHTML="";let n=C(e,r,{suffix:r,step:l,onLoadMore:function(){l+=50,p()}});if(!n){var d=document.createElement("div");d.style.display="flex",d.style.justifyContent="space-between",d.style.alignItems="center",d.style.marginBottom="8px";var y=document.createElement("div");y.style.fontWeight="600",y.style.padding="6px",y.textContent=a;var w=document.createElement("div"),S=E(()=>{l+=50,p()});w.appendChild(S),d.appendChild(y),d.appendChild(w),e.appendChild(d)}var v=document.createElement("div");v.style.marginTop="8px";for(var m=0;m<i.length;m++){var o=i[m],c=document.createElement("div");try{c.setAttribute("data-gh-item-id",String(o&&o.id))}catch{}c.style.padding="8px",c.style.border="1px solid var(--vscode-editorWidget-border)",c.style.marginBottom="8px",c.style.borderRadius="2px";var A=o&&o.content&&(o.content.title||o.content.name)||o&&o.title||o&&o.raw&&o.raw.title||"#"+(m+1);c.innerHTML='<div style="font-weight:600">'+h(A)+"</div>"+(o&&o.id?'<div style="color:var(--vscode-descriptionForeground);font-size:12px">'+h(String(o.id))+"</div>":""),v.appendChild(c)}e.appendChild(v);try{if(n&&typeof n.setCount=="function"&&n.setCount(i.length),n&&typeof n.setLoadState=="function"&&n.setLoadState(i.length<l,i.length>=l?"Load more":"All loaded"),n&&n.inputEl){if(typeof n.registerItems=="function"){let f=s&&s.fields||[];n.registerItems(i,{fields:f})}typeof n.onFilterChange=="function"&&n.onFilterChange(function(f,H){M(e,"[data-gh-item-id]",f,"block"),n&&typeof n.setCount=="function"&&n.setCount(f.size),b(r,"filterInput",{filter:H,matched:f.size,original:i.length})})}}catch{}}catch(n){b(r,"boardViewFetcher.render.error",{message:String(n&&n.message),stack:n&&n.stack}),L(e,a,"Error rendering board view: "+String(n&&n.message))}}function u(s){var i=s&&s.data?s.data:s;try{if(i&&i.command==="fields"){if(i.viewKey&&r&&String(i.viewKey)!==String(r))return;i.error?L(e,a,String(i.error)):g(i.payload||i.payload&&i.payload.data||i.payload)}}catch{}}function p(){try{typeof window.vscodeApi=="object"&&window.vscodeApi&&typeof window.vscodeApi.postMessage=="function"&&window.vscodeApi.postMessage({command:"requestFields",first:l,viewKey:r})}catch{}}window.addEventListener("message",u),p()}}try{window.boardViewFetcher=F()}catch{}})();
//# sourceMappingURL=boardViewFetcher.js.map
