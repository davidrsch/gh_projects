{
  "version": 3,
  "sources": ["../../src/webviews/client/filterLogic.ts", "../../src/webviews/client/filterBarHelper.ts"],
  "sourcesContent": ["export function computeMatches(\n  filter: any,\n  items: any[],\n  fields: any[],\n): string[] {\n  try {\n    const raw = String(filter || \"\").trim();\n    const q = raw.toLowerCase();\n    // if no filter return all ids\n    if (!q)\n      return items.map((it) => String(it && (it.id || (it.raw && it.raw.id))));\n\n    // build field name -> index map\n    const fieldIndexByName: Record<string, number> = {};\n    try {\n      for (let fi = 0; fi < fields.length; fi++) {\n        const fld = fields[fi];\n        if (!fld) continue;\n        if (fld.name) fieldIndexByName[String(fld.name).toLowerCase()] = fi;\n        if (fld.id) fieldIndexByName[String(fld.id).toLowerCase()] = fi;\n      }\n    } catch (e) {}\n\n    // parse qualifiers like name:\"some value\" or \"name with space\":\"value\" or name:token\n    const qualifiers: Record<string, string[]> = {};\n    // Regex matches: (simple-key OR \"quoted-key\"):(\"quoted-val\" OR simple-val)\n    const qualRe = /(?:(\\-?[\\w\\-]+)|\"([^\"]+)\"):([^\\s\"]+|\"([^\"]+)\")/g;\n    let m;\n    let cleaned = raw;\n    while ((m = qualRe.exec(raw)) !== null) {\n      const name = (m[1] || m[2] || \"\").toLowerCase();\n      // Value is m[3] (full) -> but we want inner if quoted.\n      // m[3] captures `\"val\"` or `val`.\n      // Actually my regex above: `([^\\s\"]+|\"([^\"]+)\")`\n      // Group 3 is whole value part.\n      // Group 4 is inner quoted value.\n      // If group 4 is set, it was quoted.\n      // If group 4 is undefined, use group 3.\n      const isQuoted = !!m[4];\n      const rawVal = m[4] || m[3] || \"\";\n\n      if (!name) continue;\n      // split comma lists for unquoted values, preserve quoted values intact\n      const vals: string[] = [];\n      try {\n        if (isQuoted) {\n          // quoted \u2014 keep as single value\n          vals.push(String(rawVal).toLowerCase());\n        } else {\n          // unquoted \u2014 split on commas for OR semantics\n          String(rawVal)\n            .split(\",\")\n            .map((x) => String(x || \"\").trim())\n            .filter((x) => x.length > 0)\n            .forEach((v) => vals.push(String(v).toLowerCase()));\n        }\n      } catch (e) {\n        vals.push(String(rawVal || \"\").toLowerCase());\n      }\n      qualifiers[name] = qualifiers[name] || [];\n      qualifiers[name] = qualifiers[name].concat(vals);\n      cleaned = cleaned.replace(m[0], \" \");\n    }\n\n    const freeTokens = cleaned\n      .split(/\\s+/)\n      .map((x) => String(x || \"\").trim())\n      .filter((x) => x.length > 0)\n      .map((x) => x.toLowerCase());\n\n    // helper: parse numeric comparator or range\n    function parseNumericExpression(v: any) {\n      try {\n        const rangeRe = /^(-?\\d+(?:\\.\\d+)?)\\.\\.(-?\\d+(?:\\.\\d+)?)$/;\n        const compRe = /^(<=|>=|<|>|=|==)?\\s*(-?\\d+(?:\\.\\d+)?)$/;\n        let m = rangeRe.exec(v);\n        if (m) return { type: \"range\", min: Number(m[1]), max: Number(m[2]) };\n        m = compRe.exec(v);\n        if (m) return { type: \"comp\", op: m[1] || \"=\", val: Number(m[2]) };\n      } catch (e) {}\n      return null;\n    }\n\n    // helper: escape regex\n    function escRegex(s: any) {\n      return String(s || \"\").replace(/[-/\\\\^$+?.()|[\\]{}]/g, \"\\\\$&\");\n    }\n\n    const out: string[] = [];\n    for (let ii = 0; ii < items.length; ii++) {\n      const it = items[ii];\n      // build item text\n      let parts: string[] = [];\n      try {\n        const c =\n          it && it.content\n            ? it.content\n            : (it && it.raw && it.raw.itemContent) || {};\n        if (c) {\n          if (c.title) parts.push(String(c.title));\n          if (c.name) parts.push(String(c.name));\n          if (c.number) parts.push(String(c.number));\n          if (c.url) parts.push(String(c.url));\n        }\n        const fv = Array.isArray(it.fieldValues) ? it.fieldValues : [];\n        for (let vi = 0; vi < fv.length; vi++) {\n          const v = fv[vi];\n          if (!v) continue;\n          try {\n            if (v.type === \"single_select\") {\n              if (v.option && v.option.name) parts.push(String(v.option.name));\n            } else if (v.type === \"labels\" || v.type === \"label\") {\n              (v.labels || []).forEach(\n                (L: any) => L && parts.push(String(L.name || L)),\n              );\n            } else if (v.type === \"text\") {\n              if (v.text) parts.push(String(v.text));\n            } else if (v.type === \"number\") {\n              if (v.number !== undefined) parts.push(String(v.number));\n            } else if (v.type === \"issue\" || v.type === \"parent_issue\") {\n              if (v.parent && v.parent.title)\n                parts.push(String(v.parent.title));\n              if (v.parent && v.parent.number)\n                parts.push(String(v.parent.number));\n            } else if (v.type === \"pull_request\") {\n              if (v.pullRequests && Array.isArray(v.pullRequests.nodes)) {\n                v.pullRequests.nodes.forEach((p: any) => {\n                  if (p && p.title) parts.push(String(p.title));\n                  if (p && p.number) parts.push(String(p.number));\n                });\n              }\n            } else if (v.type === \"milestone\") {\n              if (v.milestone && v.milestone.title)\n                parts.push(String(v.milestone.title));\n            } else if (v.type === \"iteration\") {\n              if (v.title) parts.push(String(v.title));\n            } else if (v.type === \"repository\") {\n              if (v.repositoryName) parts.push(String(v.repositoryName));\n            } else if (v.type === \"assignees\") {\n              if (v.assignees && Array.isArray(v.assignees)) {\n                v.assignees.forEach((a: any) => {\n                  if (a.login) parts.push(String(a.login));\n                  if (a.name) parts.push(String(a.name));\n                });\n              }\n            } else {\n              if (v && v.raw) parts.push(JSON.stringify(v.raw));\n            }\n          } catch (e) {}\n        }\n      } catch (e) {}\n      const txt = parts.join(\" \\u0000 \").toLowerCase();\n\n      let ok = true;\n      // qualifier checks\n      for (const qname in qualifiers) {\n        if (!qualifiers.hasOwnProperty(qname)) continue;\n        const vals = qualifiers[qname] || [];\n        // check for negation prefix\n        const isNeg = qname && String(qname).startsWith(\"-\");\n        const realName = isNeg ? String(qname).slice(1) : qname;\n        for (let vi = 0; vi < vals.length; vi++) {\n          const val = vals[vi];\n          let matched = false;\n          try {\n            // type: match content typename\n            if (realName === \"type\") {\n              const typ = (\n                (it &&\n                  it.content &&\n                  (it.content.__typename || it.content.type)) ||\n                (it && it.raw && it.raw.__typename) ||\n                (it && it.type) ||\n                \"\"\n              )\n                .toString()\n                .toLowerCase();\n              if (typ.indexOf(val) !== -1) matched = true;\n            }\n\n            // is: qualifier maps to typical item states\n            if (!matched && realName === \"is\") {\n              const state = (\n                (it && it.content && it.content.state) ||\n                (it && it.state) ||\n                (it && it.raw && it.raw.state) ||\n                \"\"\n              )\n                .toString()\n                .toLowerCase();\n              if (state.indexOf(val) !== -1) matched = true;\n            }\n\n            // repo: qualifier maps to repository name\n            if (!matched && realName === \"repo\") {\n              const repoName = (\n                (it &&\n                  it.content &&\n                  it.content.repository &&\n                  it.content.repository.nameWithOwner) ||\n                (it && it.repository && it.repository.nameWithOwner) ||\n                (it &&\n                  it.raw &&\n                  it.raw.itemContent &&\n                  it.raw.itemContent.repository &&\n                  it.raw.itemContent.repository.nameWithOwner) ||\n                \"\"\n              )\n                .toString()\n                .toLowerCase();\n              if (repoName.indexOf(val) !== -1) matched = true;\n            }\n\n            // assignee: qualifier\n            if (\n              !matched &&\n              (realName === \"assignee\" || realName === \"assignees\")\n            ) {\n              const assignees =\n                (it &&\n                  it.content &&\n                  it.content.assignees &&\n                  it.content.assignees.nodes) ||\n                (it && it.content && Array.isArray(it.content.assignees)\n                  ? it.content.assignees\n                  : []) ||\n                // Try to find in fieldValues\n                (\n                  it &&\n                  Array.isArray(it.fieldValues) &&\n                  it.fieldValues.find(\n                    (v: any) => v.type === \"assignees\" || v.assignees,\n                  )\n                )?.assignees ||\n                [];\n              const names = (Array.isArray(assignees) ? assignees : [])\n                .map((a: any) => String(a.login || a.name || \"\").toLowerCase())\n                .join(\" \");\n              if (names.includes(val)) matched = true;\n            }\n\n            // parent: qualifier maps to parent issue title matching\n            if (!matched && realName === \"parent\") {\n              // Check all parent_issue fields\n              const fv = Array.isArray(it.fieldValues) ? it.fieldValues : [];\n              for (let vi = 0; vi < fv.length; vi++) {\n                const v = fv[vi];\n                if (v && (v.type === \"parent_issue\" || v.type === \"issue\")) {\n                  const pTitle = String(\n                    (v.parent && v.parent.title) || \"\",\n                  ).toLowerCase();\n                  if (pTitle.includes(val)) {\n                    matched = true;\n                    break;\n                  }\n                }\n              }\n            }\n\n            // has:field / no:field presence checks \u2014 val is expected to be a field name\n            if (!matched && (realName === \"has\" || realName === \"no\")) {\n              const fieldName = String(val || \"\").toLowerCase();\n              const idx = fieldIndexByName[fieldName];\n              if (idx !== undefined && idx !== null) {\n                const fv =\n                  (it &&\n                    Array.isArray(it.fieldValues) &&\n                    it.fieldValues[idx]) ||\n                  null;\n                const hasValue =\n                  fv &&\n                  (fv.type === \"labels\"\n                    ? fv.labels && fv.labels.length > 0\n                    : fv.type === \"text\"\n                      ? String(fv.text || \"\").length > 0\n                      : fv.type === \"number\"\n                        ? fv.number !== undefined && fv.number !== null\n                        : fv.type === \"assignees\"\n                          ? fv.assignees && fv.assignees.length > 0\n                          : Boolean(\n                              fv &&\n                              (fv.option ||\n                                fv.raw ||\n                                fv.parent ||\n                                fv.pullRequests),\n                            ));\n                if (realName === \"has\") matched = !!hasValue;\n                else matched = !hasValue;\n              } else {\n                // if field not found, fallback to checking top-level text\n                matched = txt.indexOf(fieldName) !== -1;\n              }\n            }\n\n            // field-scoped matching (including numeric comparisons and wildcard)\n            const fieldIdx = fieldIndexByName[realName.toLowerCase()];\n            if (!matched && fieldIdx !== undefined) {\n              const idx = fieldIdx;\n              const fv =\n                (it && Array.isArray(it.fieldValues) && it.fieldValues[idx]) ||\n                null;\n              if (fv) {\n                // attempt numeric expression parsing\n                const numExpr = parseNumericExpression(val);\n                if (\n                  numExpr &&\n                  ((fields[idx] &&\n                    String(\n                      fields[idx].dataType || fields[idx].type || \"\",\n                    ).toUpperCase() === \"NUMBER\") ||\n                    fv.type === \"number\")\n                ) {\n                  // obtain numeric value\n                  let numVal = null;\n                  try {\n                    if (fv.type === \"number\" && typeof fv.number === \"number\")\n                      numVal = Number(fv.number);\n                    else if (fv.raw && fv.raw.value !== undefined)\n                      numVal = Number(fv.raw.value);\n                    else if (fv.raw && fv.raw.number !== undefined)\n                      numVal = Number(fv.raw.number);\n                  } catch (e) {}\n                  if (numVal !== null && !isNaN(numVal)) {\n                    if (numExpr.type === \"comp\") {\n                      const op = numExpr.op || \"=\";\n                      const vnum = Number(numExpr.val);\n                      if (op === \">\") matched = numVal > vnum;\n                      else if (op === \">=\") matched = numVal >= vnum;\n                      else if (op === \"<\") matched = numVal < vnum;\n                      else if (op === \"<=\") matched = numVal <= vnum;\n                      else matched = numVal === vnum;\n                    } else if (numExpr.type === \"range\") {\n                      matched =\n                        numVal >= Number(numExpr.min) &&\n                        numVal <= Number(numExpr.max);\n                    }\n                  }\n                } else {\n                  // string/wildcard matching\n                  const oneText = (function (v) {\n                    try {\n                      if (!v) return \"\";\n                      if (v.type === \"single_select\")\n                        return String(\n                          (v.option && v.option.name) || \"\",\n                        ).toLowerCase();\n                      if (v.type === \"labels\" || v.type === \"label\")\n                        return (v.labels || [])\n                          .map((L: any) => String((L && (L.name || L)) || \"\"))\n                          .join(\" \")\n                          .toLowerCase();\n                      if (v.type === \"assignees\")\n                        return (v.assignees || [])\n                          .map((a: any) => String(a.login || a.name || \"\"))\n                          .join(\" \")\n                          .toLowerCase();\n                      if (v.type === \"text\")\n                        return String(v.text || \"\").toLowerCase();\n                      if (v.type === \"number\")\n                        return String(v.number || \"\").toLowerCase();\n                      if (v.type === \"date\")\n                        return String(v.date || \"\")\n                          .split(\"T\")[0]\n                          .toLowerCase();\n                      if (v.type === \"issue\" || v.type === \"parent_issue\")\n                        return String(\n                          (v.parent && v.parent.title) || \"\",\n                        ).toLowerCase();\n                      if (v.type === \"milestone\")\n                        return String(\n                          (v.milestone && v.milestone.title) || \"\",\n                        ).toLowerCase();\n                      if (v.type === \"iteration\")\n                        return String(v.title || \"\").toLowerCase();\n                      if (v.type === \"repository\")\n                        return String(v.repositoryName || \"\").toLowerCase();\n\n                      return (\n                        v.pullRequests && Array.isArray(v.pullRequests.nodes)\n                          ? v.pullRequests.nodes\n                              .map((p: any) =>\n                                String(p.title || p.number || \"\"),\n                              )\n                              .join(\" \")\n                          : \"\"\n                      ).toLowerCase();\n\n                      if (v && v.raw)\n                        return JSON.stringify(v.raw).toLowerCase();\n                    } catch (e) {}\n                    return \"\";\n                  })(fv);\n                  if (val.indexOf(\"*\") !== -1) {\n                    try {\n                      const rx = new RegExp(\n                        escRegex(val).replace(/\\\\\\*/g, \".*\"),\n                        \"i\",\n                      );\n                      if (rx.test(oneText)) matched = true;\n                    } catch (e) {}\n                  } else {\n                    // Exact match required\n                    if (oneText === val) matched = true;\n                  }\n                }\n              }\n            }\n\n            // fallback: search the whole item text\n            // Skip fallback for structural qualifiers\n            const strictQualifiers = [\n              \"parent\",\n              \"type\",\n              \"is\",\n              \"repo\",\n              \"has\",\n              \"no\",\n            ];\n            if (\n              !matched &&\n              !strictQualifiers.includes(realName) &&\n              fieldIndexByName[realName.toLowerCase()] === undefined\n            ) {\n              if (val.indexOf(\"*\") !== -1) {\n                try {\n                  const rx = new RegExp(\n                    escRegex(val).replace(/\\\\\\*/g, \".*\"),\n                    \"i\",\n                  );\n                  if (rx.test(txt)) matched = true;\n                } catch (e) {}\n              } else if (txt.indexOf(val) !== -1) matched = true;\n            }\n          } catch (e) {}\n          if (isNeg) {\n            if (matched) {\n              ok = false;\n              break;\n            }\n          } else {\n            if (!matched) {\n              ok = false;\n              break;\n            }\n          }\n        }\n        if (!ok) break;\n      }\n      if (!ok) continue;\n\n      // free-text tokens (all must match)\n      for (let ti = 0; ti < freeTokens.length; ti++) {\n        const tok = freeTokens[ti];\n        if (!tok) continue;\n        if (tok.indexOf(\"*\") !== -1) {\n          try {\n            const rx = new RegExp(escRegex(tok).replace(/\\\\\\*/g, \".*\"), \"i\");\n            if (!rx.test(txt)) {\n              ok = false;\n              break;\n            }\n          } catch (e) {\n            ok = false;\n            break;\n          }\n        } else {\n          if (txt.indexOf(tok) === -1) {\n            ok = false;\n            break;\n          }\n        }\n      }\n      if (ok) out.push(String(it && (it.id || (it.raw && it.raw.id))));\n    }\n    return out;\n  } catch (e) {\n    return items.map((it) => String(it && (it.id || (it.raw && it.raw.id))));\n  }\n}\n", "/// <reference path=\"./global.d.ts\" />\n\nimport { computeMatches } from \"./filterLogic\";\nfunction create(opts: any) {\n  try {\n    const parent = opts && opts.parent ? opts.parent : document.body;\n    const suffix = opts && opts.suffix ? String(opts.suffix) : \"\";\n    let effectiveFilter =\n      typeof (opts && opts.effFilter) === \"string\" ? opts.effFilter : \"\";\n    const viewKey = opts && opts.viewKey ? opts.viewKey : null;\n    const step = opts && opts.step ? Number(opts.step) : 30;\n    const layoutChangedGetter =\n      (opts && opts.layoutChangedGetter) ||\n      function () {\n        return false;\n      };\n\n    const header = document.createElement(\"div\");\n    header.style.display = \"flex\";\n    header.style.justifyContent = \"space-between\";\n    header.style.alignItems = \"center\";\n    header.style.marginBottom = \"8px\";\n\n    const left = document.createElement(\"div\");\n    left.style.display = \"flex\";\n    left.style.alignItems = \"center\";\n    left.style.gap = \"8px\";\n    left.style.flex = \"1 1 auto\";\n    left.style.minWidth = \"0\";\n\n    const filterWrapper = document.createElement(\"div\");\n    filterWrapper.style.position = \"relative\";\n    filterWrapper.style.flex = \"1 1 0\";\n    filterWrapper.style.minWidth = \"0\";\n\n    const input = document.createElement(\"input\");\n    input.type = \"text\";\n    input.placeholder = \"Filter items...\";\n    input.style.padding = \"6px 36px 6px 8px\";\n    input.style.border = \"1px solid var(--vscode-editorWidget-border)\";\n    input.style.borderRadius = \"0px\";\n    input.style.width = \"100%\";\n    input.style.boxSizing = \"border-box\";\n    input.style.background = \"var(--vscode-input-background)\";\n    input.style.color = \"var(--vscode-input-foreground)\";\n    input.style.outline = \"none\";\n    input.setAttribute(\"data-filter-input\", suffix || \"\");\n\n    const countSpan = document.createElement(\"span\");\n    countSpan.setAttribute(\"data-filter-count\", suffix || \"\");\n    countSpan.style.position = \"absolute\";\n    countSpan.style.right = \"44px\";\n    countSpan.style.top = \"50%\";\n    countSpan.style.transform = \"translateY(-50%)\";\n    countSpan.style.color = \"var(--vscode-descriptionForeground)\";\n    countSpan.style.fontSize = \"12px\";\n    countSpan.style.display = \"none\";\n\n    const clearBtn = document.createElement(\"button\");\n    clearBtn.type = \"button\";\n    clearBtn.textContent = \"\u2715\";\n    clearBtn.title = \"Clear filter\";\n    clearBtn.style.position = \"absolute\";\n    clearBtn.style.right = \"8px\";\n    clearBtn.style.top = \"50%\";\n    clearBtn.style.transform = \"translateY(-50%)\";\n    clearBtn.style.border = \"none\";\n    clearBtn.style.background = \"transparent\";\n    clearBtn.style.cursor = \"pointer\";\n\n    filterWrapper.appendChild(input);\n    filterWrapper.appendChild(countSpan);\n    filterWrapper.appendChild(clearBtn);\n\n    // internal setter for count used by computeMatches listener\n    function barApiInternalSetCount(cnt: any) {\n      try {\n        countSpan.textContent = String(cnt);\n        const show = Boolean(\n          String(input.value || \"\").trim() ||\n          String(effectiveFilter || \"\").trim() ||\n          cnt,\n        );\n        countSpan.style.display = show ? \"\" : \"none\";\n      } catch (e) {}\n    }\n\n    const saveBtn = document.createElement(\"button\");\n    saveBtn.type = \"button\";\n    saveBtn.textContent = \"Save\";\n    saveBtn.style.padding = \"6px 8px\";\n    saveBtn.style.border = \"none\";\n    saveBtn.style.borderRadius = \"0px\";\n    saveBtn.style.background = \"var(--vscode-button-background, #2ea44f)\";\n    saveBtn.style.color = \"var(--vscode-button-foreground, #ffffff)\";\n    saveBtn.style.minHeight = \"28px\";\n    saveBtn.style.lineHeight = \"16px\";\n    saveBtn.disabled = true;\n\n    const discardBtn = document.createElement(\"button\");\n    discardBtn.type = \"button\";\n    discardBtn.textContent = \"Discard\";\n    discardBtn.style.padding = \"6px 8px\";\n    discardBtn.style.border = \"1px solid var(--vscode-editorWidget-border)\";\n    discardBtn.style.borderRadius = \"0px\";\n    discardBtn.style.background = \"transparent\";\n    discardBtn.style.color = \"var(--vscode-button-foreground)\";\n    discardBtn.style.minHeight = \"28px\";\n    discardBtn.style.lineHeight = \"16px\";\n    discardBtn.disabled = true;\n\n    left.appendChild(filterWrapper);\n    // Discard should appear before Save per UX request\n    left.appendChild(discardBtn);\n    left.appendChild(saveBtn);\n\n    const right = document.createElement(\"div\");\n    const loadBtn = document.createElement(\"button\");\n    loadBtn.type = \"button\";\n    loadBtn.textContent = \"Load more\";\n    loadBtn.style.marginLeft = \"8px\";\n    loadBtn.style.border = \"1px solid var(--vscode-editorWidget-border)\";\n    loadBtn.style.borderRadius = \"0px\";\n    loadBtn.style.background = \"transparent\";\n    loadBtn.style.color = \"var(--vscode-button-foreground)\";\n    loadBtn.style.minHeight = \"28px\";\n    loadBtn.style.lineHeight = \"16px\";\n\n    right.appendChild(loadBtn);\n    header.appendChild(left);\n    header.appendChild(right);\n    parent.appendChild(header);\n\n    // event wiring\n    function updateButtonsState() {\n      try {\n        const inputChanged =\n          String(input.value || \"\") !== String(effectiveFilter || \"\");\n        const changed =\n          inputChanged || Boolean(layoutChangedGetter && layoutChangedGetter());\n        saveBtn.disabled = !changed;\n        discardBtn.disabled = !changed;\n        try {\n          // Visual styling for disabled/enabled state so buttons look disabled\n          saveBtn.style.opacity = changed ? \"1\" : \"0.5\";\n          saveBtn.style.cursor = changed ? \"pointer\" : \"default\";\n          discardBtn.style.opacity = changed ? \"1\" : \"0.5\";\n          discardBtn.style.cursor = changed ? \"pointer\" : \"default\";\n          const showCount = Boolean(\n            String(input.value || \"\").trim() ||\n            String(effectiveFilter || \"\").trim(),\n          );\n          countSpan.style.display = showCount ? \"\" : \"none\";\n        } catch (e) {}\n      } catch (e) {}\n    }\n\n    input.addEventListener(\"input\", updateButtonsState);\n    // Simple autocomplete candidates store and UI\n    let candidates: any[] = [];\n    // Registered items for local preview (array of objects)\n    let registeredItems: any[] = [];\n    let registeredFields: any[] = [];\n    let onFilterCallbacks: any[] = [];\n    const suggestBox = document.createElement(\"div\");\n    suggestBox.style.position = \"absolute\";\n    suggestBox.style.left = \"0\";\n    suggestBox.style.right = \"0\";\n    suggestBox.style.top = \"100%\";\n    suggestBox.style.zIndex = \"40\";\n    suggestBox.style.background = \"var(--vscode-editor-background)\";\n    suggestBox.style.border = \"1px solid var(--vscode-editorWidget-border)\";\n    suggestBox.style.display = \"none\";\n    suggestBox.style.maxHeight = \"240px\";\n    suggestBox.style.overflow = \"auto\";\n    suggestBox.style.boxSizing = \"border-box\";\n    filterWrapper.appendChild(suggestBox);\n\n    function renderSuggestions(prefix: any) {\n      try {\n        const q = String(prefix || \"\")\n          .trim()\n          .toLowerCase();\n        if (!q) {\n          suggestBox.style.display = \"none\";\n          return;\n        }\n        const matches = candidates.filter((c) =>\n          String(c || \"\")\n            .toLowerCase()\n            .includes(q),\n        );\n        if (!matches || matches.length === 0) {\n          suggestBox.style.display = \"none\";\n          return;\n        }\n        suggestBox.innerHTML = \"\";\n        for (let i = 0; i < Math.min(matches.length, 50); i++) {\n          const it = matches[i];\n          const el = document.createElement(\"div\");\n          el.textContent = String(it);\n          el.style.padding = \"6px 8px\";\n          el.style.cursor = \"pointer\";\n          el.style.whiteSpace = \"nowrap\";\n          el.style.overflow = \"hidden\";\n          el.style.textOverflow = \"ellipsis\";\n          el.addEventListener(\"mousedown\", function (ev) {\n            ev.preventDefault();\n            try {\n              const cur = String(input.value || \"\");\n              const parts = cur.split(/\\s+/);\n              parts[parts.length - 1] = String(it);\n              const newVal = parts.join(\" \").trim();\n              try {\n                input.value = newVal;\n              } catch (e) {}\n              try {\n                input.dispatchEvent(new Event(\"input\", { bubbles: true }));\n              } catch (e) {}\n              try {\n                if (typeof opts.onChange === \"function\") opts.onChange(newVal);\n              } catch (e) {}\n              try {\n                input.focus();\n              } catch (e) {}\n            } catch (e) {}\n          });\n          suggestBox.appendChild(el);\n        }\n        suggestBox.style.display = \"block\";\n      } catch (e) {\n        try {\n          suggestBox.style.display = \"none\";\n        } catch (__) {}\n      }\n    }\n\n    input.addEventListener(\"input\", function () {\n      try {\n        const v = String(input.value || \"\");\n        const lastToken = v.split(/\\s+/).pop() || \"\";\n        renderSuggestions(lastToken);\n      } catch (e) {}\n    });\n\n    // notify callbacks when input changes\n    input.addEventListener(\"input\", function () {\n      try {\n        const cur = String(input.value || \"\");\n        const matched = new Set(\n          computeMatches(cur, registeredItems, registeredFields),\n        );\n        try {\n          if (\n            (window as any).__APP_MESSAGING__ &&\n            typeof (window as any).__APP_MESSAGING__.postMessage === \"function\"\n          ) {\n            (window as any).__APP_MESSAGING__.postMessage({\n              command: \"debugLog\",\n              level: \"debug\",\n              viewKey: viewKey,\n              message: \"filterInput\",\n              data: {\n                filter: cur,\n                matched: matched.size,\n                original: registeredItems.length,\n              },\n            });\n          }\n        } catch (e) {}\n        try {\n          if (typeof barApiInternalSetCount === \"function\")\n            barApiInternalSetCount(matched.size);\n        } catch (e) {}\n        for (let i = 0; i < onFilterCallbacks.length; i++) {\n          try {\n            onFilterCallbacks[i](matched, cur);\n          } catch (e) {}\n        }\n      } catch (e) {}\n    });\n    input.addEventListener(\"blur\", function () {\n      setTimeout(() => {\n        try {\n          suggestBox.style.display = \"none\";\n        } catch (e) {}\n      }, 150);\n    });\n    clearBtn.addEventListener(\"click\", function () {\n      try {\n        input.value = \"\";\n        try {\n          input.dispatchEvent(new Event(\"input\", { bubbles: true }));\n        } catch (e) {}\n        try {\n          if (typeof opts.onChange === \"function\") opts.onChange(\"\");\n        } catch (e) {}\n      } catch (e) {}\n    });\n\n    saveBtn.addEventListener(\"click\", function () {\n      try {\n        try {\n          if (\n            (window as any).__APP_MESSAGING__ &&\n            typeof (window as any).__APP_MESSAGING__.postMessage === \"function\"\n          ) {\n            (window as any).__APP_MESSAGING__.postMessage({\n              command: \"setViewFilter\",\n              viewKey: viewKey,\n              filter: input.value,\n            });\n          }\n        } catch (e) {}\n        effectiveFilter = String(input.value || \"\");\n        if (typeof opts.onSave === \"function\")\n          try {\n            opts.onSave(effectiveFilter);\n          } catch (e) {}\n        try {\n          updateButtonsState();\n        } catch (e) {}\n      } catch (e) {}\n    });\n\n    discardBtn.addEventListener(\"click\", function () {\n      try {\n        try {\n          if (\n            (window as any).__APP_MESSAGING__ &&\n            typeof (window as any).__APP_MESSAGING__.postMessage === \"function\"\n          ) {\n            (window as any).__APP_MESSAGING__.postMessage({\n              command: \"discardViewFilter\",\n              viewKey: viewKey,\n            });\n          }\n        } catch (e) {}\n        if (typeof opts.onDiscard === \"function\")\n          try {\n            opts.onDiscard();\n          } catch (e) {}\n        try {\n          updateButtonsState();\n        } catch (e) {}\n      } catch (e) {}\n    });\n\n    loadBtn.addEventListener(\"click\", function () {\n      try {\n        if (typeof opts.onLoadMore === \"function\") return opts.onLoadMore();\n        try {\n          if (\n            (window as any).__APP_MESSAGING__ &&\n            typeof (window as any).__APP_MESSAGING__.postMessage === \"function\"\n          ) {\n            (window as any).__APP_MESSAGING__.postMessage({\n              command: \"requestFields\",\n              first: step,\n              viewKey: viewKey,\n            });\n          }\n        } catch (e) {}\n      } catch (e) {}\n    });\n\n    // initial value\n    try {\n      input.value = typeof effectiveFilter === \"string\" ? effectiveFilter : \"\";\n    } catch (e) {}\n    updateButtonsState();\n\n    return {\n      headerEl: header,\n      setCount: function (cnt: any) {\n        try {\n          countSpan.textContent = String(cnt);\n          const show = Boolean(\n            String(input.value || \"\").trim() ||\n            String(effectiveFilter || \"\").trim() ||\n            cnt,\n          );\n          countSpan.style.display = show ? \"\" : \"none\";\n        } catch (e) {}\n      },\n      setEffectiveFilter: function (f: any) {\n        try {\n          effectiveFilter = typeof f === \"string\" ? f : String(f || \"\");\n          input.value = effectiveFilter;\n          updateButtonsState();\n        } catch (e) {}\n      },\n      // Provide candidates for a simple autocomplete helper (array of strings)\n      setCandidates: function (arr: any) {\n        try {\n          candidates = Array.isArray(arr)\n            ? arr.map((x) => String(x || \"\"))\n            : [];\n          // refresh suggestions for current input\n          const last =\n            String(input.value || \"\")\n              .split(/\\s+/)\n              .pop() || \"\";\n          if (last) renderSuggestions(last);\n        } catch (e) {}\n      },\n      setLoadState: function (enabled: any, text: any) {\n        try {\n          loadBtn.disabled = !enabled;\n          loadBtn.textContent = text || (enabled ? \"Load more\" : \"All loaded\");\n        } catch (e) {}\n      },\n      focusInput: function () {\n        try {\n          input.focus();\n        } catch (e) {}\n      },\n      inputEl: input,\n      saveBtn: saveBtn,\n      discardBtn: discardBtn,\n      clearBtn: clearBtn,\n      // register items for local preview and pass optional fields config\n      registerItems: function (items: any[], options: any) {\n        try {\n          registeredItems = Array.isArray(items) ? items.slice() : [];\n          registeredFields =\n            options && Array.isArray(options.fields) ? options.fields : [];\n          try {\n            barApiInternalSetCount(registeredItems.length);\n          } catch (e) {}\n        } catch (e) {}\n      },\n      // subscribe to match changes: callback receives (matchedIdSet, rawFilter)\n      onFilterChange: function (cb: any) {\n        try {\n          if (typeof cb === \"function\") onFilterCallbacks.push(cb);\n        } catch (e) {}\n      },\n    };\n  } catch (e) {\n    return null;\n  }\n}\n\nwindow.filterBarHelper = { create: create };\n"],
  "mappings": "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",
  "names": ["computeMatches", "filter", "items", "fields", "parseNumericExpression", "v", "rangeRe", "compRe", "m", "escRegex", "s", "raw", "it", "fieldIndexByName", "fi", "fld", "qualifiers", "qualRe", "cleaned", "name", "isQuoted", "rawVal", "vals", "x", "freeTokens", "out", "ii", "parts", "c", "fv", "vi", "L", "p", "a", "txt", "ok", "qname", "isNeg", "realName", "val", "matched", "assignees", "fieldName", "idx", "hasValue", "fieldIdx", "numExpr", "numVal", "op", "vnum", "oneText", "ti", "tok", "create", "opts", "barApiInternalSetCount", "cnt", "countSpan", "show", "input", "effectiveFilter", "updateButtonsState", "changed", "layoutChangedGetter", "saveBtn", "discardBtn", "showCount", "renderSuggestions", "prefix", "q", "suggestBox", "matches", "candidates", "c", "i", "it", "el", "ev", "parts", "newVal", "parent", "suffix", "viewKey", "step", "header", "left", "filterWrapper", "clearBtn", "right", "loadBtn", "registeredItems", "registeredFields", "onFilterCallbacks", "lastToken", "cur", "matched", "computeMatches", "f", "arr", "x", "last", "enabled", "text", "items", "options", "cb"]
}
