"use strict";(()=>{var tt=Object.defineProperty;var te=(m,e)=>()=>(m&&(e=m(m=0)),e);var ae=(m,e)=>{for(var t in e)tt(m,t,{get:e[t],enumerable:!0})};var Q,_e=te(()=>{"use strict";Q=class{static groupItems(e,t){let i=[],n=(t.dataType||"").toLowerCase();if(n==="single_select"?i=t.options||[]:n==="iteration"&&(i=t.configuration&&t.configuration.iterations||[]),i&&i.length>0){let r=i.map(d=>({option:d,items:[]})),u=[];return e.forEach((d,o)=>{let c=d.fieldValues.find(g=>String(g.fieldId)===String(t.id)||g.fieldName===t.name),p=!1;if(c){let g=null,f=null;if(n==="single_select"?(g=c.optionId||c.option&&c.option.id,f=c.name||c.option&&c.option.name):n==="iteration"&&(g=c.iterationId||c.iteration&&c.iteration.id||c.id,f=c.title||c.iteration&&c.iteration.title),g||f){let b=r.find(v=>g&&String(v.option.id)===String(g)||f&&(String(v.option.name)===String(f)||String(v.option.title)===String(f)));b&&(b.items.push({item:d,index:o}),p=!0)}}p||u.push({item:d,index:o})}),u.length>0&&r.push({option:{name:"Unassigned",title:"Unassigned",color:"GRAY"},items:u}),r.filter(d=>d.items.length>0)}let s=new Map,l=[];e.forEach((r,u)=>{let d=r.fieldValues.find(g=>String(g.fieldId)===String(t.id)||g.fieldName===t.name),o=null;if(d)if(d.text!==void 0)o=d.text;else if(d.title!==void 0)o=d.title;else if(d.number!==void 0)o=d.number;else if(d.date!==void 0)o=d.date;else if(d.option)o=d.option.name||d.option.title||d.option.id;else if(d.iteration)o=d.iteration.title||d.iteration.id;else if(d.parent||d.parentIssue||d.issue||d.item||d.value){let g=d.parent||d.parentIssue||d.issue||d.item||d.value;g&&(o=g.number||g.id||g.raw&&(g.raw.number||g.raw.id)||g.url||g.title||g.name||null)}else d.assignees?o=Array.isArray(d.assignees)?d.assignees.map(g=>g.login||g.name).join(", "):d.assignees:d.repository?o=d.repository.nameWithOwner||d.repository.name||d.repository.full_name||d.repository.id:d.milestone?o=d.milestone.title||d.milestone.id||d.milestone.name:o=d.value!==void 0?d.value:null;if(o==null||o===""){l.push({item:r,index:u});return}let c=o;if(typeof o=="string")try{c=String(o).trim();let g=c.split(/\r?\n/);g.length>0&&(c=g[0].trim()),c.length>120&&(c=c.slice(0,120))}catch{}let p=String(typeof c=="string"?c.toLowerCase():c);s.has(p)||s.set(p,{option:{id:p,name:String(c),title:String(c)},items:[]}),s.get(p).items.push({item:r,index:u})});let a=Array.from(s.values());return l.length>0&&a.push({option:{name:"Unassigned",title:"Unassigned",color:"GRAY"},items:l}),a}}});var Xe={};ae(Xe,{FieldsMenu:()=>Se,default:()=>yt});var Se,yt,Je=te(()=>{"use strict";Se=class{constructor(e){this.menuElement=null;this.backdropElement=null;this.anchorElementRef=null;this.anchorRectRef=void 0;this.options=e}show(e,t){this.hide(),this.anchorElementRef=e,this.anchorRectRef=t;try{document.querySelectorAll('[data-menu-type="fields-menu"], [data-menu-type="group-by-menu"]').forEach(o=>o.remove())}catch{}this.backdropElement=document.createElement("div"),this.backdropElement.style.position="fixed",this.backdropElement.style.top="0",this.backdropElement.style.left="0",this.backdropElement.style.right="0",this.backdropElement.style.bottom="0",this.backdropElement.style.zIndex="998",this.backdropElement.addEventListener("click",()=>this.hide()),this.backdropElement.dataset.menuType="fields-menu",document.body.appendChild(this.backdropElement),this.menuElement=document.createElement("div"),this.menuElement.className="fields-menu",this.menuElement.dataset.menuType="fields-menu",this.menuElement.style.position="absolute",this.menuElement.style.visibility="hidden",this.menuElement.style.left="0px",this.menuElement.style.top="0px",this.menuElement.style.background="var(--vscode-menu-background)",this.menuElement.style.border="1px solid var(--vscode-menu-border)",this.menuElement.style.borderRadius="4px",this.menuElement.style.boxShadow="0 2px 8px rgba(0,0,0,0.15)",this.menuElement.style.minWidth="220px",this.menuElement.style.padding="6px 0",this.menuElement.style.maxHeight="60vh",this.menuElement.style.overflowY="auto",this.menuElement.style.boxSizing="border-box",this.menuElement.style.zIndex="1000",this.menuElement.style.fontSize="13px",document.body.appendChild(this.menuElement),this.buildMenu();let i=t;i||(i=e.getBoundingClientRect());try{console.debug("FieldsMenu.show anchorRect",{top:i.top,left:i.left,right:i.right,height:i.height})}catch{}let n=this.menuElement.getBoundingClientRect(),s=8,l=window.innerWidth||document.documentElement.clientWidth,a=window.innerHeight||document.documentElement.clientHeight,r=i.bottom+s;i.bottom+n.height+s>a&&(i.top-n.height-s>=0?r=i.top-n.height-s:r=Math.max(s,Math.min(a-n.height-s,i.bottom+s)));let u=i.left;try{let o=i;u=Math.round(o.right+4),u+n.width>l&&(u=Math.round(o.left-n.width-4),u<s&&(u=Math.max(s,l-n.width-s)))}catch{u=i.left}u=Math.max(s,Math.min(u,l-n.width-s));let d=Math.round(i.top+(i.height-n.height)/2);d=Math.max(s,Math.min(d,Math.max(s,a-n.height-s))),this.menuElement.style.top=`${Math.round(d)}px`,this.menuElement.style.left=`${Math.round(u)}px`,this.menuElement.style.visibility="visible";try{console.debug("FieldsMenu positioned",{top:Math.round(d),left:Math.round(u)})}catch{}return{el:this.menuElement,refresh:this.refresh.bind(this)}}refresh(){if(this.menuElement){this.menuElement.innerHTML="",this.buildMenu();try{let e=this.anchorRectRef;if(!e&&this.anchorElementRef&&(e=this.anchorElementRef.getBoundingClientRect()),!e)return;let t=this.menuElement.getBoundingClientRect(),i=8,n=window.innerWidth||document.documentElement.clientWidth,s=window.innerHeight||document.documentElement.clientHeight,l=Math.round(e.right+4);l+t.width>n&&(l=Math.round(e.left-t.width-4),l<i&&(l=Math.max(i,n-t.width-i))),l=Math.max(i,Math.min(l,n-t.width-i));let a=Math.round(e.top+(e.height-t.height)/2);a=Math.max(i,Math.min(a,Math.max(i,s-t.height-i))),this.menuElement.style.top=`${Math.round(a)}px`,this.menuElement.style.left=`${Math.round(l)}px`}catch{}}}hide(){this.menuElement&&(this.menuElement.remove(),this.menuElement=null),this.backdropElement&&(this.backdropElement.remove(),this.backdropElement=null)}buildMenu(){if(!this.menuElement)return;let e=document.createElement("div");e.style.display="flex",e.style.alignItems="center",e.style.padding="6px 12px",e.style.fontWeight="600",e.style.color="var(--vscode-descriptionForeground)",e.style.fontSize="12px",e.style.textTransform="uppercase";let t=document.createElement("i");t.className="octicon octicon-note",t.style.marginRight="8px",e.appendChild(t);let i=document.createElement("span");i.textContent="Fields",e.appendChild(i),this.menuElement.appendChild(e),this.addSeparator();let n=document.createElement("div");n.style.display="flex",n.style.alignItems="center",n.style.padding="6px 12px",n.style.cursor="pointer",n.style.color="var(--vscode-menu-foreground)",n.innerHTML='<span style="margin-right:8px;font-weight:700">+</span><span>New field</span>',n.addEventListener("mouseenter",()=>{n.style.background="var(--vscode-menu-selectionBackground)",n.style.color="var(--vscode-menu-selectionForeground)"}),n.addEventListener("mouseleave",()=>{n.style.background="transparent",n.style.color="var(--vscode-menu-foreground)"}),n.addEventListener("click",()=>{this.options.onCreateField?.(),this.hide()}),this.menuElement.appendChild(n),this.addSeparator();let s=this.options.fields.filter(a=>this.options.visibleFieldIds.has(a.id)),l=this.options.fields.filter(a=>!this.options.visibleFieldIds.has(a.id));this.addSectionHeader("Visible fields"),s.length===0?this.addEmptyRow("No visible fields"):s.forEach(a=>this.addFieldRow(a,!0)),this.addSeparator(),this.addSectionHeader("Hidden fields"),l.length===0?this.addEmptyRow("No hidden fields"):l.forEach(a=>this.addFieldRow(a,!1))}addSectionHeader(e){if(!this.menuElement)return;let t=document.createElement("div");t.textContent=e,t.style.padding="6px 12px",t.style.fontSize="11px",t.style.fontWeight="600",t.style.color="var(--vscode-descriptionForeground)",t.style.textTransform="uppercase",this.menuElement.appendChild(t)}addEmptyRow(e){if(!this.menuElement)return;let t=document.createElement("div");t.textContent=e,t.style.padding="6px 12px",t.style.color="var(--vscode-menu-foreground)",t.style.opacity="0.8",this.menuElement.appendChild(t)}addFieldRow(e,t){if(!this.menuElement)return;let i=document.createElement("div");if(i.style.display="flex",i.style.alignItems="center",i.style.padding="6px 12px",i.style.cursor=e.locked?"default":"pointer",i.style.color="var(--vscode-menu-foreground)",e.locked&&(i.style.opacity="0.6"),t){let a=document.createElement("span");a.textContent="\u2713",a.style.marginRight="8px",a.style.color="var(--vscode-menu-selectionForeground)",i.appendChild(a)}else{let a=document.createElement("span");a.style.display="inline-block",a.style.width="14px",a.style.marginRight="8px",i.appendChild(a)}let n=this.getIconForField(e),s=document.createElement("span");s.innerHTML=n,s.style.marginRight="8px",s.style.display="inline-flex",s.style.alignItems="center",i.appendChild(s);let l=document.createElement("span");l.textContent=e.name,l.style.flex="1",l.style.whiteSpace="nowrap",l.style.overflow="hidden",l.style.textOverflow="ellipsis",i.appendChild(l),e.locked||(i.addEventListener("mouseenter",()=>{i.style.background="var(--vscode-menu-selectionBackground)",i.style.color="var(--vscode-menu-selectionForeground)"}),i.addEventListener("mouseleave",()=>{i.style.background="transparent",i.style.color="var(--vscode-menu-foreground)"}),i.addEventListener("click",()=>{let a=!t;this.options.onToggleVisibility?.(e.id,a),a?this.options.visibleFieldIds.add(e.id):this.options.visibleFieldIds.delete(e.id),this.menuElement&&(this.menuElement.innerHTML="",this.buildMenu())})),this.menuElement.appendChild(i)}addSeparator(){if(!this.menuElement)return;let e=document.createElement("div");e.style.height="1px",e.style.background="var(--vscode-menu-separatorBackground)",e.style.margin="6px 0",this.menuElement.appendChild(e)}getIconForField(e){let t=(e.dataType||"").toString().toLowerCase();if(typeof window.getIconNameForDataType=="function"&&typeof window.getIconSvg=="function"){let i=window.getIconNameForDataType(t);return window.getIconSvg(i)}return e.iconClass?`<i class="${e.iconClass}"></i>`:"<span></span>"}},yt=Se});var Ne={};ae(Ne,{GroupByMenu:()=>Me,default:()=>ft});var Me,ft,Be=te(()=>{"use strict";_e();Me=class{constructor(e){this.menuEl=null;this.backdropEl=null;this.anchor=null;this.anchorRect=void 0;this.options=e}show(e,t){this.hide(),this.anchor=e,this.anchorRect=t,this.backdropEl=document.createElement("div"),this.backdropEl.style.position="fixed",this.backdropEl.style.top="0",this.backdropEl.style.left="0",this.backdropEl.style.right="0",this.backdropEl.style.bottom="0",this.backdropEl.style.zIndex="998",this.backdropEl.addEventListener("click",()=>this.hide()),document.body.appendChild(this.backdropEl);try{document.querySelectorAll('[data-menu-type="fields-menu"], [data-menu-type="group-by-menu"]').forEach(i=>i.remove())}catch{}return this.menuEl=document.createElement("div"),this.menuEl.className="group-by-menu",this.menuEl.dataset.menuType="group-by-menu",this.menuEl.style.position="absolute",this.menuEl.style.background="var(--vscode-menu-background)",this.menuEl.style.border="1px solid var(--vscode-menu-border)",this.menuEl.style.borderRadius="4px",this.menuEl.style.boxShadow="0 2px 8px rgba(0,0,0,0.15)",this.menuEl.style.minWidth="180px",this.menuEl.style.maxHeight="60vh",this.menuEl.style.overflowY="auto",this.menuEl.style.boxSizing="border-box",this.menuEl.style.padding="4px 0",this.menuEl.style.zIndex="1000",this.menuEl.style.fontSize="13px",document.body.appendChild(this.menuEl),this.buildMenuContent(),this.positionMenu(),{el:this.menuEl,refresh:this.refresh.bind(this)}}buildMenuContent(){if(!this.menuEl)return;this.menuEl.innerHTML="";let e=document.createElement("div");e.textContent=this.options.title||"Group by",e.style.padding="6px 12px",e.style.fontWeight="600",e.style.color="var(--vscode-descriptionForeground)",e.style.fontSize="12px",this.menuEl.appendChild(e),this.addSeparator();let t=document.createElement("div");t.style.display="flex",t.style.alignItems="center",t.style.padding="6px 12px",t.style.cursor="pointer";let i=document.createElement("span");i.style.display="inline-flex",i.style.width="14px",i.style.marginRight="8px",i.style.alignItems="center",i.style.justifyContent="center",this.options.current||(i.textContent="\u2713",i.style.color="var(--vscode-menu-selectionForeground)"),t.appendChild(i);let n=document.createElement("span");n.textContent="No grouping",t.appendChild(n),t.addEventListener("mouseenter",()=>{t.style.background="var(--vscode-menu-selectionBackground)",t.style.color="var(--vscode-menu-selectionForeground)"}),t.addEventListener("mouseleave",()=>{t.style.background="transparent",t.style.color="var(--vscode-menu-foreground)"}),t.addEventListener("click",()=>{this.options.current=null,this.options.onSelect?.(null),this.refresh()}),this.menuEl.appendChild(t),this.addSeparator();let s=this.options.fields||[];try{this.options.items&&Array.isArray(this.options.items)&&this.options.items.length>0&&(s=(this.options.fields||[]).filter(l=>{try{let a=Q.groupItems(this.options.items||[],l);return Array.isArray(a)&&a.length>0}catch{return!1}}))}catch{}(s||[]).forEach(l=>{let a=document.createElement("div");a.style.display="flex",a.style.alignItems="center",a.style.padding="6px 12px",a.style.cursor="pointer";let r=document.createElement("span");r.style.display="inline-flex",r.style.width="14px",r.style.marginRight="8px",r.style.alignItems="center",r.style.justifyContent="center";let u=this.options.current?String(this.options.current).toLowerCase():null;u&&(String(l.id).toLowerCase()===u||String(l.name||"").toLowerCase()===u)&&(r.textContent="\u2713",r.style.color="var(--vscode-menu-selectionForeground)"),a.appendChild(r);let o=document.createElement("span");o.style.display="inline-flex",o.style.alignItems="center",o.style.justifyContent="center",o.style.marginRight="8px";try{let p=(l.dataType||"").toString().toLowerCase();if(typeof window.getIconNameForDataType=="function"&&typeof window.getIconSvg=="function"){let g=window.getIconNameForDataType(p);o.innerHTML=window.getIconSvg(g)||"",o.querySelectorAll&&o.querySelectorAll("svg").forEach(f=>f.setAttribute&&f.setAttribute("fill","currentColor"))}else l.iconClass&&(o.innerHTML=`<i class="${l.iconClass}"></i>`)}catch{}a.appendChild(o);let c=document.createElement("div");c.textContent=l.name,c.style.flex="1",a.appendChild(c),a.addEventListener("mouseenter",()=>{a.style.background="var(--vscode-menu-selectionBackground)",a.style.color="var(--vscode-menu-selectionForeground)"}),a.addEventListener("mouseleave",()=>{a.style.background="transparent",a.style.color="var(--vscode-menu-foreground)"}),a.addEventListener("click",()=>{this.options.current=String(l.name),this.options.onSelect?.(String(l.name)),this.refresh()}),this.menuEl.appendChild(a)})}positionMenu(){if(!this.menuEl)return;let e=this.anchorRect;if(!e&&this.anchor&&(e=this.anchor.getBoundingClientRect()),!e)return;let t=this.menuEl.getBoundingClientRect(),i=window.innerWidth||document.documentElement.clientWidth,n=window.innerHeight||document.documentElement.clientHeight,s=8,l=Math.round(e.top+(e.height-t.height)/2),a=Math.max(s,n-t.height-s);l=Math.max(s,Math.min(l,a));let r=Math.round(e.right+4);r+t.width>i&&(r=Math.round(e.left-t.width-4),r<s&&(r=Math.max(s,i-t.width-s))),this.menuEl.style.top=`${l}px`,this.menuEl.style.left=`${r}px`}refresh(){this.menuEl&&this.buildMenuContent()}addSeparator(){if(!this.menuEl)return;let e=document.createElement("div");e.style.height="1px",e.style.background="var(--vscode-menu-separatorBackground)",e.style.margin="6px 0",this.menuEl.appendChild(e)}hide(){this.menuEl&&(this.menuEl.remove(),this.menuEl=null),this.backdropEl&&(this.backdropEl.remove(),this.backdropEl=null)}},ft=Me});var Qe={};ae(Qe,{SortByMenu:()=>Ce,default:()=>bt});function gt(m,e=14){return window.getIconSvg?window.getIconSvg(m,{size:e}):""}function vt(m){return window.getIconNameForDataType?window.getIconNameForDataType(m):"note"}var Ce,bt,Ke=te(()=>{"use strict";Ce=class{constructor(e){this.menuEl=null;this.backdropEl=null;this.anchor=null;this.anchorRect=void 0;this.options=e}show(e,t){this.hide(),this.anchor=e,this.anchorRect=t,this.backdropEl=document.createElement("div"),this.backdropEl.style.position="fixed",this.backdropEl.style.top="0",this.backdropEl.style.left="0",this.backdropEl.style.right="0",this.backdropEl.style.bottom="0",this.backdropEl.style.zIndex="998",this.backdropEl.addEventListener("click",()=>this.hide()),document.body.appendChild(this.backdropEl);try{document.querySelectorAll('[data-menu-type="sort-by-menu"]').forEach(i=>i.remove())}catch{}return this.menuEl=document.createElement("div"),this.menuEl.className="sort-by-menu",this.menuEl.dataset.menuType="sort-by-menu",this.menuEl.style.position="absolute",this.menuEl.style.background="var(--vscode-menu-background)",this.menuEl.style.border="1px solid var(--vscode-menu-border)",this.menuEl.style.borderRadius="4px",this.menuEl.style.boxShadow="0 2px 8px rgba(0,0,0,0.15)",this.menuEl.style.minWidth="180px",this.menuEl.style.maxHeight="60vh",this.menuEl.style.overflowY="auto",this.menuEl.style.boxSizing="border-box",this.menuEl.style.padding="4px 0",this.menuEl.style.zIndex="1000",this.menuEl.style.fontSize="13px",document.body.appendChild(this.menuEl),this.buildMenuContent(),this.positionMenu(),{el:this.menuEl,refresh:this.refresh.bind(this)}}buildMenuContent(){if(!this.menuEl)return;this.menuEl.innerHTML="";let e=document.createElement("div");e.textContent="Sort by",e.style.padding="6px 12px",e.style.fontWeight="600",e.style.color="var(--vscode-descriptionForeground)",e.style.fontSize="12px",this.menuEl.appendChild(e),this.addSeparator(),this.addSortRow(null,"No sorting",null,!this.options.current),this.addSeparator(),(this.options.fields||[]).forEach(t=>{let i=vt(t.dataType||""),n=this.options.current===t.id||this.options.current===t.name;this.addSortRow(t.id,t.name,i,n)})}addSortRow(e,t,i,n){if(!this.menuEl)return;let s=document.createElement("div");s.style.display="flex",s.style.alignItems="center",s.style.padding="6px 12px",s.style.cursor="pointer";let l=document.createElement("span");if(l.style.display="inline-flex",l.style.width="14px",l.style.marginRight="8px",l.style.alignItems="center",l.style.justifyContent="center",n&&(l.textContent="\u2713",l.style.color="var(--vscode-menu-selectionForeground)"),s.appendChild(l),i){let r=document.createElement("span");r.style.display="inline-flex",r.style.alignItems="center",r.style.justifyContent="center",r.style.marginRight="8px";try{r.innerHTML=gt(i,14),r.querySelectorAll("svg").forEach(u=>u.setAttribute&&u.setAttribute("fill","currentColor"))}catch{}s.appendChild(r)}let a=document.createElement("span");a.textContent=t,a.style.flex="1",s.appendChild(a),s.addEventListener("mouseenter",()=>{s.style.background="var(--vscode-menu-selectionBackground)",s.style.color="var(--vscode-menu-selectionForeground)"}),s.addEventListener("mouseleave",()=>{s.style.background="transparent",s.style.color="var(--vscode-menu-foreground)"}),s.addEventListener("click",()=>{this.options.current=e,this.options.onSelect&&this.options.onSelect(e),this.refresh()}),this.menuEl.appendChild(s)}positionMenu(){if(!this.menuEl)return;let e=this.anchorRect;if(!e&&this.anchor&&(e=this.anchor.getBoundingClientRect()),!e)return;let t=this.menuEl.getBoundingClientRect(),i=window.innerWidth||document.documentElement.clientWidth,n=window.innerHeight||document.documentElement.clientHeight,s=8,l=Math.round(e.top+(e.height-t.height)/2),a=Math.max(s,n-t.height-s);l=Math.max(s,Math.min(l,a));let r=Math.round(e.right+4);r+t.width>i&&(r=Math.round(e.left-t.width-4),r<s&&(r=Math.max(s,i-t.width-s))),this.menuEl.style.top=`${l}px`,this.menuEl.style.left=`${r}px`}refresh(){this.menuEl&&this.buildMenuContent()}addSeparator(){if(!this.menuEl)return;let e=document.createElement("div");e.style.height="1px",e.style.background="var(--vscode-menu-separatorBackground)",e.style.margin="6px 0",this.menuEl.appendChild(e)}hide(){this.menuEl&&(this.menuEl.remove(),this.menuEl=null),this.backdropEl&&(this.backdropEl.remove(),this.backdropEl=null)}},bt=Ce});var ze={};ae(ze,{FieldSumMenu:()=>ke,default:()=>xt});var ke,xt,Ze=te(()=>{"use strict";ke=class{constructor(e){this.menuEl=null;this.backdropEl=null;this.anchor=null;this.options=e}show(e,t){return this.hide(),this.anchor=e,this.backdropEl=document.createElement("div"),this.backdropEl.style.position="fixed",this.backdropEl.style.top="0",this.backdropEl.style.left="0",this.backdropEl.style.right="0",this.backdropEl.style.bottom="0",this.backdropEl.style.zIndex="998",this.backdropEl.addEventListener("click",()=>this.hide()),document.body.appendChild(this.backdropEl),this.menuEl=document.createElement("div"),this.menuEl.className="field-sum-menu",this.menuEl.dataset.menuType="field-sum-menu",this.menuEl.style.position="absolute",this.menuEl.style.background="var(--vscode-menu-background)",this.menuEl.style.border="1px solid var(--vscode-menu-border)",this.menuEl.style.borderRadius="4px",this.menuEl.style.boxShadow="0 2px 8px rgba(0,0,0,0.15)",this.menuEl.style.minWidth="200px",this.menuEl.style.maxHeight="60vh",this.menuEl.style.overflowY="auto",this.menuEl.style.padding="4px 0",this.menuEl.style.zIndex="1000",this.menuEl.style.fontSize="13px",document.body.appendChild(this.menuEl),this.buildMenu(),this.positionMenu(t),{el:this.menuEl,refresh:this.refresh.bind(this)}}buildMenu(){if(!this.menuEl)return;this.menuEl.innerHTML="";let e=document.createElement("div");e.textContent=this.options.title||"Field sum",e.style.padding="6px 12px",e.style.fontWeight="600",e.style.color="var(--vscode-descriptionForeground)",e.style.fontSize="12px",this.menuEl.appendChild(e);let t=(n,s,l,a)=>{let r=document.createElement("div");r.style.display="flex",r.style.alignItems="center",r.style.padding="6px 12px",r.style.cursor="pointer";let u=document.createElement("span");if(u.style.display="inline-flex",u.style.width="14px",u.style.marginRight="8px",u.style.alignItems="center",u.style.justifyContent="center",a&&(u.textContent="\u2713",u.style.color="var(--vscode-menu-selectionForeground)"),r.appendChild(u),l){let o=document.createElement("span");o.style.display="inline-flex",o.style.marginRight="8px";try{o.innerHTML=window.getIconSvg?.(l)||"",o.querySelectorAll&&o.querySelectorAll("svg").forEach(c=>c.setAttribute&&c.setAttribute("fill","currentColor"))}catch{}r.appendChild(o)}let d=document.createElement("div");d.textContent=s,d.style.flex="1",r.appendChild(d),r.addEventListener("mouseenter",()=>{r.style.background="var(--vscode-menu-selectionBackground)",r.style.color="var(--vscode-menu-selectionForeground)"}),r.addEventListener("mouseleave",()=>{r.style.background="transparent",r.style.color="var(--vscode-menu-foreground)"}),r.addEventListener("click",o=>{o.stopPropagation();let c=new Set(this.options.current||[]);c.has(n)?c.delete(n):c.add(n),this.options.current=Array.from(c);try{typeof this.options.onChange=="function"&&this.options.onChange(this.options.current)}catch{}this.refresh()}),this.menuEl.appendChild(r)},i=new Set(this.options.current||[]);t("__count__","Count","check",i.has("__count__")),(this.options.fields||[]).forEach(n=>{let s=String(n.dataType||"").toLowerCase();(s==="number"||s==="numeric"||s.includes("num"))&&t(String(n.id),n.name,"number",i.has(String(n.id)))})}positionMenu(e){if(!this.menuEl||!this.anchor)return;let t=e;t||(t=this.anchor.getBoundingClientRect());let i=this.menuEl.getBoundingClientRect(),n=window.innerWidth||document.documentElement.clientWidth,s=window.innerHeight||document.documentElement.clientHeight,l=t.right+4;l+i.width>n&&(l=t.left-i.width-4,l<4&&(l=Math.max(4,Math.min(n-i.width-4,t.right-i.width)))),this.menuEl.style.top=`${Math.round(t.bottom+4)}px`,this.menuEl.style.left=`${Math.round(l)}px`}refresh(){this.menuEl&&this.buildMenu()}hide(){this.menuEl&&(this.menuEl.remove(),this.menuEl=null),this.backdropEl&&(this.backdropEl.remove(),this.backdropEl=null)}},xt=ke});var q=class q{static closeAll(){try{for(let e of Array.from(q.menus)){try{try{let t=e&&e.dataset&&e.dataset.menuType||null;if(t){let i=Array.from(document.querySelectorAll(`[data-menu-type="${t}"]`));for(let n of i)try{n.remove()}catch{}}}catch{}e&&e.parentElement&&e.parentElement.removeChild(e)}catch{}q.refreshMap.delete(e)}}catch{}q.menus.clear()}static register(e,t){e&&(q.menus.add(e),t&&q.refreshMap.set(e,t))}static unregister(e){e&&(q.menus.delete(e),q.refreshMap.delete(e))}static refreshAll(){try{for(let e of Array.from(q.menus)){let t=q.refreshMap.get(e);try{t&&t()}catch{}}}catch{}}};q.menus=new Set,q.refreshMap=new WeakMap;var Ie=q,U=Ie;_e();function _(m){return m?String(m).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):""}function G(m){if(!m)return null;let e=String(m).trim();if(/^#?[0-9a-f]{3}$/i.test(e)||/^#?[0-9a-f]{6}$/i.test(e)||/^#?[0-9a-f]{8}$/i.test(e)){let n=e[0]==="#"?e.slice(1):e;return"#"+(n.length===8?n.substring(0,6):n)}let t={GRAY:"#848d97",RED:"#f85149",ORANGE:"#db6d28",YELLOW:"#d29922",GREEN:"#3fb950",BLUE:"#2f81f7",PURPLE:"#a371f7",PINK:"#db61a2",BLACK:"#000000",WHITE:"#ffffff"},i=e.toUpperCase();return t[i]||null}function Y(m,e){if(!m)return null;let t=m.replace("#",""),i=n=>parseInt(n,16);if(t.length===3){let n=i(t[0]+t[0]),s=i(t[1]+t[1]),l=i(t[2]+t[2]);return"rgba("+n+","+s+","+l+","+e+")"}if(t.length===6||t.length===8){let n=t.length===8?t.substring(0,6):t,s=i(t.substring(0,2)),l=i(n.substring(2,4)),a=i(n.substring(4,6));return"rgba("+s+","+l+","+a+","+e+")"}return null}function He(m){if(!m)return"#333333";let e=m.replace("#",""),t=l=>parseInt(l,16),i,n,s;if(e.length===3)i=t(e[0]+e[0]),n=t(e[1]+e[1]),s=t(e[2]+e[2]);else if(e.length===6||e.length===8){let l=e.length===8?e.substring(0,6):e;i=t(l.substring(0,2)),n=t(l.substring(2,4)),s=t(l.substring(4,6))}else return"#333333";return .2126*(i/255)+.7152*(n/255)+.0722*(s/255)>.6?"#111111":"#ffffff"}function X(m="div"){return document.createElement(m)}function nt(m){let e=X("div");return e.className="group-color-dot",e.style.width="12px",e.style.height="12px",e.style.borderRadius="50%",e.style.backgroundColor=G(m?.color)||"gray",e.style.marginRight="8px",e}function it(m,e){let t=X("span");t.className="group-name",t.style.fontWeight="600",t.style.marginRight="8px";let i=m&&(m.name||m.title||m.label)?String(m.name||m.title||m.label):"Unassigned";return t.textContent=i,t}function st(m,e){let t=X("span"),i=G(e?.color)||"#848d97";return t.className="gh-count-pill",t.style.background=Y(i,.12)||"transparent",t.style.color=i,t.style.border="1px solid rgba(0,0,0,0.04)",t.style.borderRadius="10px",t.style.padding="2px 8px",t.style.fontSize="11px",t.style.fontWeight="600",t.textContent=String(m||0),t}function rt(m,e){if(!m)return null;let t=m.id||m.name,i=0;for(let n of e||[]){let s=n&&(n.item||n);if(!s||!Array.isArray(s.fieldValues))continue;let l=s.fieldValues.find(a=>a.fieldId&&String(a.fieldId)===String(t)||a.fieldName&&String(a.fieldName)===String(m.name)||a.type==="number");if(l){let a=Number(l.number!=null?l.number:l.value!=null?l.value:NaN);isNaN(a)||(i+=a)}}if(i!==0){let n=X("div");return n.style.display="inline-block",n.style.padding="2px 8px",n.style.borderRadius="999px",n.style.border="1px solid var(--vscode-panel-border)",n.style.background="var(--vscode-input-background)",n.style.color="var(--vscode-foreground)",n.style.fontSize="12px",n.style.lineHeight="18px",n.style.marginLeft="8px",n.textContent=String(m.name||t)+": "+String(i),n}return null}function at(m,e){if(!m)return null;let t=[];Array.isArray(m.fieldValues)&&t.push(m.fieldValues),m.content&&Array.isArray(m.content.fieldValues)&&t.push(m.content.fieldValues),m.raw&&m.raw.itemContent&&Array.isArray(m.raw.itemContent.fieldValues)&&t.push(m.raw.itemContent.fieldValues);for(let i of t){let n=i.find(s=>String(s.fieldId)===String(e?.id)||String(s.fieldName)===String(e?.name)||String(s.type)==="parent_issue");if(n)return n.parent||n.parentIssue||n.issue||n.item||n.value||null}return m.parent||m.parentIssue||m.issue||m.item||m.value||null}function ot(m,e,t){if(!e||String(e.dataType||e.type||"").toLowerCase()!=="parent_issue")return null;try{let i=null;if(m&&m.option&&(i=m.option.parent||m.option.parentIssue||m.option.issue||i),!i&&m.items&&m.items.length>0){let o=m.items[0],c=o&&o.item?o.item:o;i=at(c,e)||i}if(!i)return null;let n=[],s=o=>{o!=null&&o!==""&&n.push(String(o))};s(i&&i.number),s(i&&i.id),s(i&&i.url),s(i&&i.title),m&&m.option&&(s(m.option.id),s(m.option.name),s(m.option.title));let l=(t||[]).find(o=>{let c=o&&(o.content||o.raw&&o.raw.itemContent)||o||null;if(!c)return!1;let p=[],g=f=>{f!=null&&f!==""&&p.push(String(f))};g(c.number),g(c.id),g(c.url),g(c.title),g(c.name),c.raw&&(g(c.raw.number),g(c.raw.id),g(c.raw.url)),c.itemContent&&typeof c.itemContent=="object"&&(g(c.itemContent.number),g(c.itemContent.id),g(c.itemContent.url),g(c.itemContent.title),g(c.itemContent.name));for(let f of n)for(let b of p)if(f&&b&&String(f)===String(b))return!0;return!1}),a=0,r=0,u=m.items||[],d=o=>{try{let c=o&&(o.content||o.raw&&o.raw.itemContent);if(c){let p=(c.state||(c.merged?"MERGED":void 0)||"").toString().toUpperCase();if(p==="CLOSED"||p==="MERGED")return!0}if(Array.isArray(o.fieldValues)){if(o.fieldValues.find(f=>f&&f.type==="single_select"&&f.option&&f.option.name&&["done","closed","completed","finished"].includes(String(f.option.name).toLowerCase())))return!0;let g=o.fieldValues.find(f=>f&&(String(f.fieldName||"").toLowerCase().includes("progress")||String(f.fieldName||"").toLowerCase().includes("percent")));if(g&&g.number!=null&&Number(g.number||0)>=100)return!0}}catch{}return!1};for(let o of u){let c=o.item||o;c&&(r++,d(c)&&a++)}if(r>0){let o=Math.round(a/r*100),c=X("div");c.className="group-progress",c.style.display="inline-flex",c.style.alignItems="center",c.style.gap="8px",c.style.marginLeft="8px";let p=X("div");p.style.display="inline-block",p.style.width="120px",p.style.height="12px",p.style.background="transparent",p.style.border="1px solid var(--vscode-focusBorder)",p.style.borderRadius="6px",p.style.overflow="hidden";let g=X("div");return g.style.height="100%",g.style.width=String(o)+"%",g.style.background="var(--vscode-focusBorder)",p.appendChild(g),c.appendChild(p),c}}catch{}return null}function lt(m,e){if(!e)return null;try{if(String(e.dataType||e.type||"").toLowerCase()!=="iteration")return null;let i=m.option||{},n=null,s=i.startDate||i.start&&i.startDate||null,l=i.duration||i.length||null;if(s&&l)try{let a=new Date(s),r=Number(l)||0,u=new Date(a.getTime()+r*24*60*60*1e3),d=a.toLocaleDateString("en-US",{month:"short",day:"numeric"}),o=u.toLocaleDateString("en-US",{month:"short",day:"numeric"});n=`${d} \u2014 ${o}`}catch{n=null}if(n||(n=i.title||i.name?String(i.title||i.name):null),n){let a=X("div");return a.style.color="var(--vscode-descriptionForeground)",a.style.fontSize="12px",a.style.marginLeft="8px",a.textContent=String(n).slice(0,120),a}}catch{}return null}function dt(m,e=14){return window.getIconSvg?window.getIconSvg(m,{size:e}):""}function Oe(m,e,t,i,n){let s=i&&(i.dataType||i.type)?i:(Array.isArray(m)?m.find(d=>String(d.id)===String(i?.id)||String(d.name)===String(i?.name)):i)||i,l=document.createElement("div");if(l.className="group-header group-header-div",l.style.display="flex",l.style.alignItems="center",l.style.padding="8px",l.style.background="var(--vscode-sideBar-background)",!n?.hideToggle){let d=document.createElement("span");d.className="group-toggle",d.style.cursor="pointer",d.style.marginRight="8px";try{d.innerHTML=dt("triangle-down",16)}catch{}l.appendChild(d)}let a=nt(t.option||{});a.classList.add("board-card-color-dot"),l.appendChild(a);let r=it(t.option||{},s);r.classList.add("board-card-title"),l.appendChild(r);let u;try{if(n&&Object.prototype.hasOwnProperty.call(n,"groupDivisors"))u=n.groupDivisors;else if(n&&n.viewKey)try{let d=window.__viewStates||{};u=d[n.viewKey]?d[n.viewKey].groupDivisors:void 0}catch{u=void 0}}catch{u=void 0}if(Array.isArray(u)){if(u.find(d=>String(d)==="__count__")){let d=st(t.items&&t.items.length||0,t.option||{});d.classList.add("board-card-count"),l.appendChild(d)}try{let d=(m||[]).filter(o=>String((o.dataType||o.type||"").toLowerCase())==="number"||String(o.name||"").toLowerCase().includes("estimate"));for(let o of u){if(String(o)==="__count__")continue;let c=d.find(p=>String(p.id)===String(o)||String(p.name)===String(o));if(c){let p=rt(c,t.items||[]);p&&(p.classList.add("board-card-estimate"),l.appendChild(p))}}}catch{}}try{let d=t&&t.option?t.option:{};if(d&&(d.avatarUrl||d.avatar||d.imageUrl||d.login)||d&&d.name&&String((s&&(s.dataType||s.type)||"").toLowerCase())==="assignees"){let c=d.avatarUrl||d.avatar||d.imageUrl||null;if(!c&&Array.isArray(t.items))for(let p of t.items||[]){let g=p&&(p.item||p);if(!g||!Array.isArray(g.fieldValues))continue;let f=g.fieldValues.find(b=>b&&(b.type==="assignees"||String(b.fieldId)===String(s&&s.id)));if(f&&f.assignees&&Array.isArray(f.assignees)){let b=f.assignees.find(v=>String(v.login||v.name)===String(d.name||d.id));if(b&&(b.avatarUrl||b.avatar)){c=b.avatarUrl||b.avatar;break}}}if(c&&a&&a.parentNode){let p=document.createElement("span");p.innerHTML='<span title="'+_(d&&(d.login||d.name)||"Assignee")+'" style="display:inline-block;width:20px;height:20px;border-radius:50%;overflow:hidden;background-size:cover;background-position:center;background-image:url('+_(c)+');border:2px solid var(--vscode-editor-background)"></span>',a.parentNode.replaceChild(p,a)}}}catch{}try{t&&t.option&&(t.option.name==="Unassigned"||t.option.title==="Unassigned")&&r&&(r.textContent="No "+(s&&(s.name||s.title)?s.name||s.title:"value"))}catch{}try{let d=ot(t,s,e);d&&l.appendChild(d)}catch{}try{let d=lt(t,s);d&&l.appendChild(d)}catch{}return l}var ct={table:{path:"M0 1.75C0 .784.784 0 1.75 0h12.5C15.216 0 16 .784 16 1.75v12.5A1.75 1.75 0 0 1 14.25 16H1.75A1.75 1.75 0 0 1 0 14.25ZM6.5 6.5v8h7.75a.25.25 0 0 0 .25-.25V6.5Zm8-1.5V1.75a.25.25 0 0 0-.25-.25H6.5V5Zm-13 1.5v7.75c0 .138.112.25.25.25H5v-8ZM5 5V1.5H1.75a.25.25 0 0 0-.25.25V5Z"},project:{path:"M1.75 0h12.5C15.216 0 16 .784 16 1.75v12.5A1.75 1.75 0 0 1 14.25 16H1.75A1.75 1.75 0 0 1 0 14.25V1.75C0 .784.784 0 1.75 0ZM1.5 1.75v12.5c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25V1.75a.25.25 0 0 0-.25-.25H1.75a.25.25 0 0 0-.25.25ZM11.75 3a.75.75 0 0 1 .75.75v7.5a.75.75 0 0 1-1.5 0v-7.5a.75.75 0 0 1 .75-.75Zm-8.25.75a.75.75 0 0 1 1.5 0v5.5a.75.75 0 0 1-1.5 0ZM8 3a.75.75 0 0 1 .75.75v3.5a.75.75 0 0 1-1.5 0v-3.5A.75.75 0 0 1 8 3Z"},board:{path:"M1.75 0h12.5C15.216 0 16 .784 16 1.75v12.5A1.75 1.75 0 0 1 14.25 16H1.75A1.75 1.75 0 0 1 0 14.25V1.75C0 .784.784 0 1.75 0ZM1.5 1.75v12.5c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25V1.75a.25.25 0 0 0-.25-.25H1.75a.25.25 0 0 0-.25.25ZM11.75 3a.75.75 0 0 1 .75.75v7.5a.75.75 0 0 1-1.5 0v-7.5a.75.75 0 0 1 .75-.75Zm-8.25.75a.75.75 0 0 1 1.5 0v5.5a.75.75 0 0 1-1.5 0ZM8 3a.75.75 0 0 1 .75.75v3.5a.75.75 0 0 1-1.5 0v-3.5A.75.75 0 0 1 8 3Z"},roadmap:{path:'<path d="M4.75 7a.75.75 0 0 0 0 1.5h4.5a.75.75 0 0 0 0-1.5h-4.5ZM5 4.75A.75.75 0 0 1 5.75 4h5.5a.75.75 0 0 1 0 1.5h-5.5A.75.75 0 0 1 5 4.75ZM6.75 10a.75.75 0 0 0 0 1.5h4.5a.75.75 0 0 0 0-1.5h-4.5Z" /><path d="M0 1.75C0 .784.784 0 1.75 0h12.5C15.216 0 16 .784 16 1.75v12.5A1.75 1.75 0 0 1 14.25 16H1.75A1.75 1.75 0 0 1 0 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25V1.75a.25.25 0 0 0-.25-.25Z" />',isInnerHTML:!0},list:{path:"M5.75 2.5h8.5a.75.75 0 0 1 0 1.5h-8.5a.75.75 0 0 1 0-1.5Zm0 5h8.5a.75.75 0 0 1 0 1.5h-8.5a.75.75 0 0 1 0-1.5Zm0 5h8.5a.75.75 0 0 1 0 1.5h-8.5a.75.75 0 0 1 0-1.5ZM2 14a1 1 0 1 1 0-2 1 1 0 0 1 0 2Zm1-6a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM2 4a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"},people:{path:"M2 5.5a3.5 3.5 0 1 1 5.898 2.549 5.508 5.508 0 0 1 3.034 4.084.75.75 0 1 1-1.482.235 4 4 0 0 0-7.9 0 .75.75 0 0 1-1.482-.236A5.507 5.507 0 0 1 3.102 8.05 3.493 3.493 0 0 1 2 5.5ZM11 4a3.001 3.001 0 0 1 2.22 5.018 5.01 5.01 0 0 1 2.56 3.012.749.749 0 0 1-.885.954.752.752 0 0 1-.549-.514 3.507 3.507 0 0 0-2.522-2.372.75.75 0 0 1-.574-.73v-.352a.75.75 0 0 1 .416-.672A1.5 1.5 0 0 0 11 5.5.75.75 0 0 1 11 4Zm-5.5-.5a2 2 0 1 0-.001 3.999A2 2 0 0 0 5.5 3.5Z"},tag:{path:'<path d="M1 7.775V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 0 1 0 2.474l-5.026 5.026a1.75 1.75 0 0 1-2.474 0l-6.25-6.25A1.752 1.752 0 0 1 1 7.775Zm1.5 0c0 .066.026.13.073.177l6.25 6.25a.25.25 0 0 0 .354 0l5.025-5.025a.25.25 0 0 0 0-.354l-6.25-6.25a.25.25 0 0 0-.177-.073H2.75a.25.25 0 0 0-.25.25"></path>',isInnerHTML:!0},"single-select":{path:'<path d="m5.06 7.356 2.795 2.833c.08.081.21.081.29 0l2.794-2.833c.13-.131.038-.356-.145-.356H5.206c-.183 0-.275.225-.145.356Z"></path><path d="M1 2.75C1 1.784 1.784 1 2.75 1h10.5c.966 0 1.75.784 1.75 1.75v10.5A1.75 1.75 0 0 1 13.25 15H2.75A1.75 1.75 0 0 1 1 13.25Zm1.75-.25a.25.25 0 0 0-.25.25v10.5c0 .138.112.25.25.25h10.5a.25.25 0 0 0 .25-.25V2.75a.25.25 0 0 0-.25-.25Z"></path>',isInnerHTML:!0},"issue-tracks":{path:'<path d="M1.5 8a6.5 6.5 0 0 1 13 0A.75.75 0 0 0 16 8a8 8 0 1 0-8 8 .75.75 0 0 0 0-1.5A6.5 6.5 0 0 1 1.5 8Z"></path><path d="M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm3.573 5.823-2.896-2.896a.25.25 0 0 1 0-.354l2.896-2.896a.25.25 0 0 1 .427.177V11.5h3.25a.75.75 0 0 1 0 1.5H12v2.146a.25.25 0 0 1-.427.177Z"></path>',isInnerHTML:!0},"issue-tracked-by":{path:'<path d="M1.5 8a6.5 6.5 0 0 1 13 0A.75.75 0 0 0 16 8a8 8 0 1 0-8 8 .75.75 0 0 0 0-1.5A6.5 6.5 0 0 1 1.5 8Z"></path><path d="M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm1.5 1.75a.75.75 0 0 1 .75-.75h5a.75.75 0 0 1 0 1.5h-5a.75.75 0 0 1-.75-.75Zm2.75 2.25a.75.75 0 0 0 0 1.5h3a.75.75 0 0 0 0-1.5h-3Z"></path>',isInnerHTML:!0},iterations:{path:"M2.5 7.25a4.75 4.75 0 0 1 9.5 0 .75.75 0 0 0 1.5 0 6.25 6.25 0 1 0-6.25 6.25H12v2.146c0 .223.27.335.427.177l2.896-2.896a.25.25 0 0 0 0-.354l-2.896-2.896a.25.25 0 0 0-.427.177V12H7.25A4.75 4.75 0 0 1 2.5 7.25Z"},number:{path:"M9 4.75A.75.75 0 0 1 9.75 4h4a.75.75 0 0 1 .53 1.28l-1.89 1.892c.312.076.604.18.867.319.742.391 1.244 1.063 1.244 2.005 0 .653-.231 1.208-.629 1.627-.386.408-.894.653-1.408.777-1.01.243-2.225.063-3.124-.527a.751.751 0 0 1 .822-1.254c.534.35 1.32.474 1.951.322.306-.073.53-.201.67-.349.129-.136.218-.32.218-.596 0-.308-.123-.509-.444-.678-.373-.197-.98-.318-1.806-.318a.75.75 0 0 1-.53-1.28l1.72-1.72H9.75A.75.75 0 0 1 9 4.75Zm-3.587 5.763c-.35-.05-.77.113-.983.572a.75.75 0 1 1-1.36-.632c.508-1.094 1.589-1.565 2.558-1.425 1 .145 1.872.945 1.872 2.222 0 1.433-1.088 2.192-1.79 2.681-.308.216-.571.397-.772.573H7a.75.75 0 0 1 0 1.5H3.75a.75.75 0 0 1-.75-.75c0-.69.3-1.211.67-1.61.348-.372.8-.676 1.15-.92.8-.56 1.18-.904 1.18-1.474 0-.473-.267-.69-.587-.737ZM5.604.089A.75.75 0 0 1 6 .75v4.77h.711a.75.75 0 0 1 0 1.5H3.759a.75.75 0 0 1 0-1.5H4.5V2.15l-.334.223a.75.75 0 0 1-.832-1.248l1.5-1a.75.75 0 0 1 .77-.037Z"},calendar:{path:"M4.75 0a.75.75 0 0 1 .75.75V2h5V.75a.75.75 0 0 1 1.5 0V2h1.25c.966 0 1.75.784 1.75 1.75v10.5A1.75 1.75 0 0 1 13.25 16H2.75A1.75 1.75 0 0 1 1 14.25V3.75C1 2.784 1.784 2 2.75 2H4V.75A.75.75 0 0 1 4.75 0ZM2.5 7.5v6.75c0 .138.112.25.25.25h10.5a.25.25 0 0 0 .25-.25V7.5Zm10.75-4H2.75a.25.25 0 0 0-.25.25V6h11V3.75a.25.25 0 0 0-.25-.25Z"},"pull-request":{path:"M1.5 3.25a2.25 2.25 0 1 1 3 2.122v5.256a2.251 2.251 0 1 1-1.5 0V5.372A2.25 2.25 0 0 1 1.5 3.25Zm5.677-.177L9.573.677A.25.25 0 0 1 10 .854V2.5h1A2.5 2.5 0 0 1 13.5 5v5.628a2.251 2.251 0 1 1-1.5 0V5a1 1 0 0 0-1-1h-1v1.646a.25.25 0 0 1-.427.177L7.177 3.427a.25.25 0 0 1 0-.354ZM3.75 2.5a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Zm0 9.5a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Zm8.25.75a.75.75 0 1 0 1.5 0 .75.75 0 0 0-1.5 0Z"},milestone:{path:"M7.75 0a.75.75 0 0 1 .75.75V3h3.634c.414 0 .814.147 1.13.414l2.07 1.75a1.75 1.75 0 0 1 0 2.672l-2.07 1.75a1.75 1.75 0 0 1-1.13.414H8.5v5.25a.75.75 0 0 1-1.5 0V10H2.75A1.75 1.75 0 0 1 1 8.25v-3.5C1 3.784 1.784 3 2.75 3H7V.75A.75.75 0 0 1 7.75 0Zm4.384 8.5a.25.25 0 0 0 .161-.06l2.07-1.75a.248.248 0 0 0 0-.38l-2.07-1.75a.25.25 0 0 0-.161-.06H2.75a.25.25 0 0 0-.25.25v3.5c0 .138.112.25.25.25h9.384Z"},repo:{path:"M2 2.5A2.5 2.5 0 0 1 4.5 0h8.75a.75.75 0 0 1 .75.75v12.5a.75.75 0 0 1-.75.75h-2.5a.75.75 0 0 1 0-1.5h1.75v-2h-8a1 1 0 0 0-.714 1.7.75.75 0 1 1-1.072 1.05A2.495 2.495 0 0 1 2 11.5Zm10.5-1h-8a1 1 0 0 0-1 1v6.708A2.486 2.486 0 0 1 4.5 9h8ZM5 12.25a.25.25 0 0 1 .25-.25h3.5a.25.25 0 0 1 .25.25v3.25a.25.25 0 0 1-.4.2l-1.45-1.087a.249.249 0 0 0-.3 0L5.4 15.7a.25.25 0 0 1-.4-.2Z"},typography:{path:"M6.71 10H2.332l-.874 2.498a.75.75 0 0 1-1.415-.496l3.39-9.688a1.217 1.217 0 0 1 2.302.018l3.227 9.681a.75.75 0 0 1-1.423.474Zm3.13-4.358C10.53 4.374 11.87 4 13 4c1.5 0 3 .939 3 2.601v5.649a.75.75 0 0 1-1.448.275C13.995 12.82 13.3 13 12.5 13c-.77 0-1.514-.231-2.078-.709-.577-.488-.922-1.199-.922-2.041 0-.694.265-1.411.887-1.944C11 7.78 11.88 7.5 13 7.5h1.5v-.899c0-.54-.5-1.101-1.5-1.101-.869 0-1.528.282-1.84.858a.75.75 0 1 1-1.32-.716ZM6.21 8.5 4.574 3.594 2.857 8.5Zm8.29.5H13c-.881 0-1.375.22-1.637.444-.253.217-.363.5-.363.806 0 .408.155.697.39.896.249.21.63.354 1.11.354.732 0 1.26-.209 1.588-.449.35-.257.412-.495.412-.551Z"},"issue-opened":{path:'<path d="M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path><path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Z"></path>',isInnerHTML:!0},"issue-closed":{path:'<path d="M11.28 6.78a.75.75 0 0 0-1.06-1.06L7.25 8.69 5.78 7.22a.75.75 0 0 0-1.06 1.06l2 2a.75.75 0 0 0 1.06 0l3.5-3.5Z"></path><path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0Zm-1.5 0a6.5 6.5 0 1 0-13 0 6.5 6.5 0 0 0 13 0Z"></path>',isInnerHTML:!0},"issue-draft":{path:'<path d="M14.307 11.655a.75.75 0 0 1 .165 1.048 8.05 8.05 0 0 1-1.769 1.77.75.75 0 0 1-.883-1.214 6.552 6.552 0 0 0 1.44-1.439.75.75 0 0 1 1.047-.165Zm-2.652-9.962a.75.75 0 0 1 1.048-.165 8.05 8.05 0 0 1 1.77 1.769.75.75 0 0 1-1.214.883 6.552 6.552 0 0 0-1.439-1.44.75.75 0 0 1-.165-1.047ZM6.749.097a8.074 8.074 0 0 1 2.502 0 .75.75 0 1 1-.233 1.482 6.558 6.558 0 0 0-2.036 0A.751.751 0 0 1 6.749.097ZM.955 6.125a.75.75 0 0 1 .624.857 6.558 6.558 0 0 0 0 2.036.75.75 0 1 1-1.482.233 8.074 8.074 0 0 1 0-2.502.75.75 0 0 1 .858-.624Zm14.09 0a.75.75 0 0 1 .858.624c.13.829.13 1.673 0 2.502a.75.75 0 1 1-1.482-.233 6.558 6.558 0 0 0 0-2.036.75.75 0 0 1 .624-.857Zm-8.92 8.92a.75.75 0 0 1 .857-.624 6.558 6.558 0 0 0 2.036 0 .75.75 0 1 1 .233 1.482c-.829.13-1.673.13-2.502 0a.75.75 0 0 1-.624-.858Zm-4.432-3.39a.75.75 0 0 1 1.048.165 6.552 6.552 0 0 0 1.439 1.44.751.751 0 0 1-.883 1.212 8.05 8.05 0 0 1-1.77-1.769.75.75 0 0 1 .166-1.048Zm2.652-9.962A.75.75 0 0 1 4.18 2.74a6.556 6.556 0 0 0-1.44 1.44.751.751 0 0 1-1.212-.883 8.05 8.05 0 0 1 1.769-1.77.75.75 0 0 1 1.048.166Z"></path>',isInnerHTML:!0},"git-pull-request":{path:"M1.5 3.25a2.25 2.25 0 1 1 3 2.122v5.256a2.251 2.251 0 1 1-1.5 0V5.372A2.25 2.25 0 0 1 1.5 3.25Zm5.677-.177L9.573.677A.25.25 0 0 1 10 .854V2.5h1A2.5 2.5 0 0 1 13.5 5v5.628a2.251 2.251 0 1 1-1.5 0V5a1 1 0 0 0-1-1h-1v1.646a.25.25 0 0 1-.427.177L7.177 3.427a.25.25 0 0 1 0-.354ZM3.75 2.5a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Zm0 9.5a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Zm8.25.75a.75.75 0 1 0 1.5 0 .75.75 0 0 0-1.5 0Z"},"git-pull-request-closed":{path:"M3.25 1A2.25 2.25 0 0 1 4 5.372v5.256a2.251 2.251 0 1 1-1.5 0V5.372A2.251 2.251 0 0 1 3.25 1Zm9.5 5.5a.75.75 0 0 1 .75.75v3.378a2.251 2.251 0 1 1-1.5 0V7.25a.75.75 0 0 1 .75-.75Zm-2.03-5.273a.75.75 0 0 1 1.06 0l.97.97.97-.97a.748.748 0 0 1 1.265.332.75.75 0 0 1-.205.729l-.97.97.97.97a.751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018l-.97-.97-.97.97a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734l.97-.97-.97-.97a.75.75 0 0 1 0-1.06ZM2.5 3.25a.75.75 0 1 0 1.5 0 .75.75 0 0 0-1.5 0ZM3.25 12a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Zm9.5 0a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Z"},"git-pull-request-draft":{path:"M3.25 1A2.25 2.25 0 0 1 4 5.372v5.256a2.251 2.251 0 1 1-1.5 0V5.372A2.251 2.251 0 0 1 3.25 1Zm9.5 14a2.25 2.25 0 1 1 0-4.5 2.25 2.25 0 0 1 0 4.5ZM2.5 3.25a.75.75 0 1 0 1.5 0 .75.75 0 0 0-1.5 0ZM3.25 12a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Zm9.5 0a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5ZM14 7.5a1.25 1.25 0 1 1-2.5 0 1.25 1.25 0 0 1 2.5 0Zm0-4.25a1.25 1.25 0 1 1-2.5 0 1.25 1.25 0 0 1 2.5 0Z"},"git-merge":{path:"M5.45 5.154A4.25 4.25 0 0 0 9.25 7.5h1.378a2.251 2.251 0 1 1 0 1.5H9.25A5.734 5.734 0 0 1 5 7.123v3.505a2.25 2.25 0 1 1-1.5 0V5.372a2.25 2.25 0 1 1 1.95-.218ZM4.25 13.5a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm8.5-4.5a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM5 3.25a.75.75 0 1 0 0 .005V3.25Z"},blocked:{path:"M4.467.22a.749.749 0 0 1 .53-.22h6.006c.199 0 .389.079.53.22l4.247 4.247c.141.14.22.331.22.53v6.006a.749.749 0 0 1-.22.53l-4.247 4.247a.749.749 0 0 1-.53.22H4.997a.749.749 0 0 1-.53-.22L.22 11.533a.749.749 0 0 1-.22-.53V4.997c0-.199.079-.389.22-.53Zm.84 1.28L1.5 5.308v5.384L5.308 14.5h5.384l3.808-3.808V5.308L10.692 1.5ZM4 7.75A.75.75 0 0 1 4.75 7h6.5a.75.75 0 0 1 0 1.5h-6.5A.75.75 0 0 1 4 7.75Z"},"sort-asc":{path:"m12.927 2.573 3 3A.25.25 0 0 1 15.75 6H13.5v6.75a.75.75 0 0 1-1.5 0V6H9.75a.25.25 0 0 1-.177-.427l3-3a.25.25 0 0 1 .354 0ZM0 12.25a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5H.75a.75.75 0 0 1-.75-.75Zm0-4a.75.75 0 0 1 .75-.75h4.5a.75.75 0 0 1 0 1.5H.75A.75.75 0 0 1 0 8.25Zm0-4a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 1 0 1.5H.75A.75.75 0 0 1 0 4.25Z"},"sort-desc":{path:"M0 4.25a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5H.75A.75.75 0 0 1 0 4.25Zm0 4a.75.75 0 0 1 .75-.75h4.5a.75.75 0 0 1 0 1.5H.75A.75.75 0 0 1 0 8.25Zm0 4a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 1 0 1.5H.75a.75.75 0 0 1-.75-.75ZM13.5 10h2.25a.25.25 0 0 1 .177.427l-3 3a.25.25 0 0 1-.354 0l-3-3A.25.25 0 0 1 9.75 10H12V3.75a.75.75 0 0 1 1.5 0V10Z"},rows:{path:"M16 10.75v2.5A1.75 1.75 0 0 1 14.25 15H1.75A1.75 1.75 0 0 1 0 13.25v-2.5C0 9.784.784 9 1.75 9h12.5c.966 0 1.75.784 1.75 1.75Zm0-8v2.5A1.75 1.75 0 0 1 14.25 7H1.75A1.75 1.75 0 0 1 0 5.25v-2.5C0 1.784.784 1 1.75 1h12.5c.966 0 1.75.784 1.75 1.75Zm-1.75-.25H1.75a.25.25 0 0 0-.25.25v2.5c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25v-2.5a.25.25 0 0 0-.25-.25Zm0 8H1.75a.25.25 0 0 0-.25.25v2.5c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25v-2.5a.25.25 0 0 0-.25-.25Z"},columns:{path:"M2.75 0h2.5C6.216 0 7 .784 7 1.75v12.5A1.75 1.75 0 0 1 5.25 16h-2.5A1.75 1.75 0 0 1 1 14.25V1.75C1 .784 1.784 0 2.75 0Zm8 0h2.5C14.216 0 15 .784 15 1.75v12.5A1.75 1.75 0 0 1 13.25 16h-2.5A1.75 1.75 0 0 1 9 14.25V1.75C9 .784 9.784 0 10.75 0ZM2.5 1.75v12.5c0 .138.112.25.25.25h2.5a.25.25 0 0 0 .25-.25V1.75a.25.25 0 0 0-.25-.25h-2.5a.25.25 0 0 0-.25.25Zm8 0v12.5c0 .138.112.25.25.25h2.5a.25.25 0 0 0 .25-.25V1.75a.25.25 0 0 0-.25-.25h-2.5a.25.25 0 0 0-.25.25Z"},sliceby:{path:"M14.5 1.5H6.5V5H10C10.4142 5 10.75 5.33579 10.75 5.75C10.75 6.16421 10.4142 6.5 10 6.5H6.5V7.75C6.5 8.16421 6.16421 8.5 5.75 8.5C5.33579 8.5 5 8.16421 5 7.75V6.5H1.5V14.5H5V12.75C5 12.3358 5.33579 12 5.75 12C6.16421 12 6.5 12.3358 6.5 12.75V14.5H14.5V1.5ZM5 1.5V5H1.5V1.5H5ZM0 14.5V5.75V1.5C0 0.671573 0.671573 0 1.5 0H5.75H14.5C15.3284 0 16 0.671573 16 1.5V14.5C16 15.3284 15.3284 16 14.5 16H5.75H1.5C0.671573 16 0 15.3284 0 14.5ZM9.62012 9.58516C10.8677 9.59206 11.8826 8.58286 11.8826 7.33544V6.32279C11.8826 5.90857 12.2184 5.57279 12.6326 5.57279C13.0468 5.57279 13.3826 5.90857 13.3826 6.32279V7.33544C13.3826 9.4147 11.6909 11.0966 9.61182 11.0851L9.3826 11.0839L9.3826 12.9995C9.3826 13.2178 9.12245 13.3312 8.96248 13.1827L6.07989 10.506C5.97337 10.4071 5.97337 10.2385 6.07989 10.1396L8.96248 7.46291C9.12245 7.31438 9.3826 7.42782 9.3826 7.64611V9.58384L9.62012 9.58516Z"},"eye-closed":{path:"M.143 2.31a.75.75 0 0 1 1.047-.167l14.5 10.5a.75.75 0 1 1-.88 1.214l-2.248-1.628C11.346 13.19 9.792 14 8 14c-1.981 0-3.67-.992-4.933-2.078C1.797 10.832.88 9.577.43 8.9a1.619 1.619 0 0 1 0-1.797c.353-.533.995-1.42 1.868-2.305L.31 3.357A.75.75 0 0 1 .143 2.31Zm1.536 5.622A.12.12 0 0 0 1.657 8c0 .021.006.045.022.068.412.621 1.242 1.75 2.366 2.717C5.175 11.758 6.527 12.5 8 12.5c1.195 0 2.31-.488 3.29-1.191L9.063 9.695A2 2 0 0 1 6.058 7.52L3.529 5.688a14.207 14.207 0 0 0-1.85 2.244ZM8 3.5c-.516 0-1.017.09-1.499.251a.75.75 0 1 1-.473-1.423A6.207 6.207 0 0 1 8 2c1.981 0 3.67.992 4.933 2.078 1.27 1.091 2.187 2.345 2.637 3.023a1.62 1.62 0 0 1 0 1.798c-.11.166-.248.365-.41.587a.75.75 0 1 1-1.21-.887c.148-.201.272-.382.371-.53a.119.119 0 0 0 0-.137c-.412-.621-1.242-1.75-2.366-2.717C10.825 4.242 9.473 3.5 8 3.5Z"},"arrow-left":{path:"M7.78 12.53a.75.75 0 0 1-1.06 0L2.47 8.28a.75.75 0 0 1 0-1.06l4.25-4.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042L4.81 7h7.44a.75.75 0 0 1 0 1.5H4.81l2.97 2.97a.75.75 0 0 1 0 1.06Z"},"arrow-right":{path:"M8.22 2.97a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042l2.97-2.97H3.75a.75.75 0 0 1 0-1.5h7.44L8.22 4.03a.75.75 0 0 1 0-1.06Z"},"triangle-down":{path:"M4.427 7.427l3.396 3.396a.25.25 0 00.354 0l3.396-3.396A.25.25 0 0011.396 7H4.604a.25.25 0 00-.177.427z"},"triangle-right":{path:"M8.573 4.604a.25.25 0 01.427-.177l3.396 3.396a.25.25 0 010 .354l-3.396 3.396a.25.25 0 01-.427-.177V4.604z"},note:{path:"M0 3.75C0 2.784.784 2 1.75 2h12.5c.966 0 1.75.784 1.75 1.75v8.5A1.75 1.75 0 0 1 14.25 14H1.75A1.75 1.75 0 0 1 0 12.25Zm1.75-.25a.25.25 0 0 0-.25.25v8.5c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25v-8.5a.25.25 0 0 0-.25-.25ZM3.5 6.25a.75.75 0 0 1 .75-.75h7a.75.75 0 0 1 0 1.5h-7a.75.75 0 0 1-.75-.75Zm.75 2.25a.75.75 0 0 0 0 1.5h4a.75.75 0 0 0 0-1.5h-4Z"},"chevron-left":{path:"M9.78 12.78a.75.75 0 0 1-1.06 0L4.47 8.53a.75.75 0 0 1 0-1.06l4.25-4.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042L6.06 8l3.72 3.72a.75.75 0 0 1 0 1.06Z"},"chevron-right":{path:"M6.22 3.22a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L9.94 8 6.22 4.28a.75.75 0 0 1 0-1.06Z"},"arrow-both":{path:"M3.72 3.72a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042L2.56 7h10.88l-2.22-2.22a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018l3.5 3.5a.75.75 0 0 1 0 1.06l-3.5 3.5a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734l2.22-2.22H2.56l2.22 2.22a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215l-3.5-3.5a.75.75 0 0 1 0-1.06Z"},location:{path:"m12.596 11.596-3.535 3.536a1.5 1.5 0 0 1-2.122 0l-3.535-3.536a6.5 6.5 0 1 1 9.192-9.193 6.5 6.5 0 0 1 0 9.193Zm-1.06-8.132v-.001a5 5 0 1 0-7.072 7.072L8 14.07l3.536-3.534a5 5 0 0 0 0-7.072ZM8 9a2 2 0 1 1-.001-3.999A2 2 0 0 1 8 9Z"},"zoom-in":{path:'<path d="M3.75 7.5a.75.75 0 0 1 .75-.75h2.25V4.5a.75.75 0 0 1 1.5 0v2.25h2.25a.75.75 0 0 1 0 1.5H8.25v2.25a.75.75 0 0 1-1.5 0V8.25H4.5a.75.75 0 0 1-.75-.75Z"></path><path d="M7.5 0a7.5 7.5 0 0 1 5.807 12.247l2.473 2.473a.749.749 0 1 1-1.06 1.06l-2.473-2.473A7.5 7.5 0 1 1 7.5 0Zm-6 7.5a6 6 0 1 0 12 0 6 6 0 0 0-12 0Z"></path>',isInnerHTML:!0},check:{path:"M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"},plus:{path:"M8 0a.75.75 0 0 1 .75.75v6.5h6.5a.75.75 0 0 1 0 1.5h-6.5v6.5a.75.75 0 0 1-1.5 0v-6.5h-6.5a.75.75 0 0 1 0-1.5h6.5v-6.5A.75.75 0 0 1 8 0Z"},search:{path:"M10.68 11.74a6 6 0 1 1 1.06-1.06l2.74 2.74a.75.75 0 1 1-1.06 1.06l-2.74-2.74ZM12 7a5 5 0 1 1-10 0 5 5 0 0 1 10 0Z"},"arrow-up-down":{path:"M8 2.5a.75.75 0 0 1 .53.22l3.5 3.5a.75.75 0 0 1-1.06 1.06L9 5.06v5.88l1.97-1.97a.75.75 0 0 1 1.06 1.06l-3.5 3.5a.75.75 0 0 1-1.06 0l-3.5-3.5a.75.75 0 1 1 1.06-1.06L7 10.94V5.06L5.03 7.03a.75.75 0 0 1-1.06-1.06l3.5-3.5A.75.75 0 0 1 8 2.5Z"},sort:{path:"M0 4.25a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5H.75A.75.75 0 0 1 0 4.25Zm0 4a.75.75 0 0 1 .75-.75h4.5a.75.75 0 0 1 0 1.5H.75A.75.75 0 0 1 0 8.25Zm0 4a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 1 0 1.5H.75a.75.75 0 0 1-.75-.75ZM13.5 10h2.25a.25.25 0 0 1 .177.427l-3 3a.25.25 0 0 1-.354 0l-3-3A.25.25 0 0 1 9.75 10H12V3.75a.75.75 0 0 1 1.5 0V10Z"}};function W(m,e={}){let t=ct[m];if(!t)return console.warn(`Icon "${m}" not found in registry`),"";let i=e.size??14,n=e.className?`octicon octicon-${m} ${e.className}`:`octicon octicon-${m}`,s=e.fill??"currentColor",l=t.viewBox??"0 0 16 16",a=e.ariaLabel?"false":"true",r=e.ariaLabel?` aria-label="${$e(e.ariaLabel)}"`:"",u=e.title?`<title>${$e(e.title)}</title>`:"",d;return t.isInnerHTML?d=t.path:d=`<path d="${t.path}"/>`,`<svg class="${n}" viewBox="${l}" width="${i}" height="${i}" fill="${s}" aria-hidden="${a}"${r} focusable="false">${u}${d}</svg>`}function $e(m){return m.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function oe(m){switch((m||"").toLowerCase()){case"title":return"list";case"assignees":case"reviewers":return"people";case"single_select":return"single-select";case"labels":return"tag";case"parent_issue":return"issue-tracks";case"sub_issues_progress":return"issue-tracked-by";case"iteration":return"iterations";case"number":case"numeric":return"number";case"date":return"calendar";case"linked_pull_request":case"linked_pull_requests":case"pull_request":return"pull-request";case"milestone":return"milestone";case"repository":return"repo";case"text":case"string":return"typography";default:return"tag"}}var le=class{render(e,t,i,n){let s=e&&e.title&&(e.title.raw&&e.title.raw.text||e.title.content&&(e.title.content.title||e.title.content.name)||typeof e.title=="string"&&e.title)||e&&e.content&&(e.content.title||e.content.name)||e&&e.raw&&e.raw.text||"",l=e&&e.title&&e.title.content&&e.title.content.number||e&&e.raw&&e.raw.itemContent&&e.raw.itemContent.number||i&&i.content&&i.content.number||"",a=e&&e.title&&e.title.content&&e.title.content.url||e&&e.raw&&e.raw.itemContent&&e.raw.itemContent.url||i&&i.content&&i.content.url||"",r=null;if(i&&Array.isArray(i.fieldValues)){let I=i.fieldValues.find(A=>A&&A.type==="single_select"&&(A.raw&&A.raw.field&&String(A.raw.field.name||"").toLowerCase()==="status"||A.fieldName&&String(A.fieldName||"").toLowerCase()==="status"||A.field&&A.field.name&&String(A.field.name||"").toLowerCase()==="status"));I&&(r=I.option&&(I.option.color||I.option.id||I.option.name)||I.raw&&I.raw.color||null)}let u=G(r)||null,d=u&&/^#([0-9a-f]{3}|[0-9a-f]{6})$/i.test(u)?u:"#666666",o=_(String(s||"")),c=l?_(String(l)):"",p=e&&e.title&&e.title.content||e&&e.raw&&e.raw.itemContent||i&&i.content||null,g=!1,f=!1,b=!1,v=!1,h=!1,y=!1;try{if(p&&typeof p.__typename=="string"&&String(p.__typename).toLowerCase().includes("pullrequest")&&(g=!0),!g&&p&&typeof p.state=="string"){let B=String(p.state).toUpperCase();B==="CLOSED"&&(b=!0),B==="MERGED"&&(v=!0)}g&&(typeof p.isDraft=="boolean"&&(f=!!p.isDraft),(p.state&&String(p.state).toUpperCase())==="CLOSED"&&(b=!0),p.merged&&(v=!0));let I=["done","closed","completed","finished"];try{let B=p&&p.issueDependenciesSummary?p.issueDependenciesSummary:null;h=(B&&typeof B.blockedBy=="number"?B.blockedBy:0)>0}catch{h=!1}let A=!1;if(Array.isArray(i&&i.fieldValues)){let B=i.fieldValues.find(N=>{if(!N||N.type!=="single_select")return!1;let V=N.raw&&N.raw.field&&N.raw.field.name||N.fieldName||N.field&&N.field.name||"";return String(V||"").toLowerCase()==="status"});if(B&&B.option&&B.option.name){let N=String(B.option.name).toLowerCase();I.includes(N)&&(A=!0)}}let Z=!!(p&&p.labels&&Array.isArray(p.labels.nodes)&&p.labels.nodes.some(B=>I.includes(String(B&&B.name||"").toLowerCase())));(A||Z)&&(v||(b=!0))}catch{}let x="issue-opened";g?v?x="git-merge":b?x="git-pull-request-closed":f?x="git-pull-request-draft":x="git-pull-request":b?x="issue-closed":f?x="issue-draft":x="issue-opened";let M=W(x,{size:14,className:"field-icon title-icon",fill:d}),E=h?W("blocked",{size:9,className:"field-icon blocked-icon",fill:"#dc3545"}):"",S=c?`${s} #${l}`:s,w=_(String(a||"")),T=_(S);return w?'<a href="'+w+'" data-gh-open="'+w+'" title="'+T+`" target="_blank" rel="noopener noreferrer" style="cursor:pointer;color:inherit;text-decoration:none;display:inline-flex;align-items:center;gap:8px;width:100%;"><span style='position:relative;display:inline-flex;align-items:center;justify-content:center;flex-shrink:0'>`+M+(E?"<span class='blocked-overlay' style='position:absolute;right:-3px;bottom:-3px;width:14px;height:14px;border-radius:999px;background:var(--vscode-editor-background);display:flex;align-items:center;justify-content:center;box-sizing:border-box;'>"+E+"</span>":"")+'</span><span style="flex:1;min-width:0;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;display:block">'+o+"</span>"+(c?'<span style="flex:none;margin-left:6px;color:var(--vscode-descriptionForeground);white-space:nowrap">#'+c+"</span>":"")+"</a>":'<span title="'+T+`" style="color:inherit;display:inline-flex;align-items:center;gap:8px;width:100%;"><span style='position:relative;display:inline-flex;align-items:center;justify-content:center;flex-shrink:0'>`+M+(E?"<span class='blocked-overlay' style='position:absolute;right:-3px;bottom:-3px;width:14px;height:14px;border-radius:999px;background:var(--vscode-editor-background);display:flex;align-items:center;justify-content:center;box-sizing:border-box;'>"+E+"</span>":"")+'</span><span style="flex:1;min-width:0;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;display:block">'+o+"</span>"+(c?'<span style="flex:none;margin-left:6px;color:var(--vscode-descriptionForeground);white-space:nowrap">#'+c+"</span>":"")+"</span>"}},de=class{render(e){return"<div>"+_((e&&e.text)!=null?e.text:"")+"</div>"}},ce=class{render(e){let t=e.number!==void 0&&e.number!==null?String(e.number):"";return'<div style="text-align:right;font-variant-numeric:tabular-nums">'+_(t)+"</div>"}},ue=class{render(e){let t=e.date||e.startDate||e.dueOn||null;if(!t)return"<div></div>";try{let i=new Date(t);if(isNaN(i.getTime()))return"<div>"+_(String(t))+"</div>";let n=i.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});return"<div>"+_(n)+"</div>"}catch{return"<div>"+_(String(t))+"</div>"}}},pe=class{render(e){let t=e&&e.option&&e.option.name||e&&e.name||"";if(!t)return"<div></div>";let i=e&&e.option&&(e.option.color||e.option.id)||e&&e.color||null,n=G(i)||null,s=!!(n&&/^#([0-9a-f]{3}|[0-9a-f]{6})$/i.test(n)),l=n||"#999999",a=s&&Y(n,.12)||"rgba(0,0,0,0.06)",r=n||"#333333";return"<span style='display:inline-block;padding:2px 8px;margin-right:6px;border-radius:999px;border:1px solid "+_(l)+";background:"+_(a)+";color:"+_(r)+";font-size:12px;line-height:18px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis'>"+_(t)+"</span>"}},me=class{render(e){let t=e.iteration||e;if(!t||!t.title)return"<div></div>";let i=String(t.title||""),n=t.color||t.colour||null,s=G(n)||null,l=!!(s&&/^#([0-9a-f]{3}|[0-9a-f]{6})$/i.test(s)),a=s||"#999999",r=l&&Y(s,.12)||"rgba(0,0,0,0.06)",u=a;return"<span style='display:inline-block;padding:2px 8px;margin-right:6px;border-radius:999px;border:1px solid "+_(a)+";background:"+_(r)+";color:"+_(u)+";font-size:12px;line-height:18px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis'>"+_(i)+"</span>"}},he=class{render(e){let t=e&&(e.repository||e);if(!t)return"<div></div>";let i=t&&(t.nameWithOwner||t.full_name||t.name||t.id||"")||"";if(!i)return"<div></div>";let n=t&&(t.url||t.html_url||t.nameWithOwner&&`https://github.com/${t.nameWithOwner}`)||"",s=W("repo",{size:16,className:"field-icon",ariaLabel:"Repository"});if(n){let l=i+" - "+n;return'<div data-gh-open="'+_(n)+'" title="'+_(l)+'" style="display:flex;align-items:center;gap:6px;cursor:pointer">'+s+"<span>"+_(String(i))+"</span></div>"}return'<div style="display:flex;align-items:center;gap:6px">'+s+"<span>"+_(String(i))+"</span></div>"}},ye=class{render(e,t,i,n){return"<div>"+(e.labels||[]).map(s=>{let l=_(s.name||""),a=i&&(i.content&&i.content.repository&&i.content.repository.nameWithOwner||i.repository&&i.repository.nameWithOwner)||e.raw&&e.raw.itemContent&&e.raw.itemContent.repository&&e.raw.itemContent.repository.nameWithOwner||null,r=s.color||s.colour||null;if(t&&t.repoOptions&&a&&t.repoOptions[a]){let g=t.repoOptions[a].find(f=>f&&f.name===s.name);g&&(r=g.color||g.colour||r)}let u=G(r)||null,d=!!(u&&/^#([0-9a-f]{3}|[0-9a-f]{6})$/i.test(u)),o=u||"#999999",c=d&&Y(u,.12)||"rgba(0,0,0,0.06)",p=u||"#333333";return"<span style='display:inline-block;padding:2px 8px;margin-right:6px;border-radius:999px;border:1px solid "+_(o)+";background:"+_(c)+";color:"+_(p)+";font-size:12px;line-height:18px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis'>"+l+"</span>"}).join("")+"</div>"}},ne=class{render(e){let t=e.pullRequests||[];if(!t||t.length===0)return"";let i="<div style='display:flex;flex-wrap:wrap;gap:6px;align-items:center'>";for(let n=0;n<t.length;n++){let s=t[n],l=_(String(s&&s.number||"")),a=_(s&&s.title||""),r=_(s&&s.url||""),u=s&&(s.state_color||s.color||s.colour||s.state)||null,d=G(u)||null,o=!!(d&&/^#([0-9a-f]{3}|[0-9a-f]{6})$/i.test(d)),c=d||"#999999",p=o&&Y(d,.12)||"rgba(0,0,0,0.06)",g=He(d)||"#333333",f=!!(s&&s.isDraft),b=s&&s.state&&String(s.state).toUpperCase()||"",v=!!(s&&s.merged),h=!v&&b==="CLOSED",y="git-pull-request";v?y="git-merge":h?y="git-pull-request-closed":f&&(y="git-pull-request-draft");let x=W(y,{size:12,className:"field-icon pr-icon",fill:d||"#666"}),E=!!(s&&Array.isArray(s.labels)&&s.labels.some(w=>w&&typeof w.name=="string"&&String(w.name).toLowerCase()==="blocked"))?W("blocked",{size:8,className:"field-icon blocked-icon",fill:"#dc3545"}):"",S=a?_(`#${s.number} ${s.title}`):_(`#${s.number}`);i+="<a href='"+r+"' title='"+S+"' target='_blank' rel='noopener noreferrer' style='cursor:pointer;text-decoration:none;color:inherit'><span style='display:inline-flex;align-items:center;gap:6px;padding:4px 8px;border-radius:999px;border:1px solid "+_(c)+";background:"+_(p)+";color:"+_(g)+";font-size:12px;line-height:18px;overflow:hidden;box-sizing:border-box;max-width:160px'><span style='position:relative;display:inline-flex;align-items:center;justify-content:center'>"+x+(E?"<span class='blocked-overlay' style='position:absolute;right:-3px;bottom:-3px;width:13px;height:13px;border-radius:999px;background:var(--vscode-editor-background);display:flex;align-items:center;justify-content:center;box-sizing:border-box;'>"+E+"</span>":"")+"</span><span style='flex:1 1 auto;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap'>#"+l+"</span></span></a>"}return i+="</div>",i}},ie=class{render(e){return(e.issues||[]).map(t=>{let i=t.title?_(`#${t.number} ${t.title}`):_(`#${t.number}`);return"<a href='"+_(t.url||"")+"' target='_blank' rel='noopener noreferrer' title='"+i+"' style='display:inline-block;max-width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap'>#"+_(String(t.number||""))+" "+_(t.title||"")+"</a>"}).join("<br/>")}},fe=class{render(e){let t=e.assignees||[];if(!t||t.length===0)return"<div></div>";let i=r=>{let u=r&&(r.login||r.name||""),d=r&&(r.url||r.html_url)||"";return d?String(d):u?`https://github.com/${u}`:""},n=t.slice(0,3).map((r,u)=>{let d=_(r.avatarUrl||r.avatar||""),o=u===0?"0px":u===1?"-8px":"-14px",c=Math.max(1,3-u),p=r.login||r.name||"",g=_((r.name||r.login||"").split(" ").map(v=>v[0]||"").join("").toUpperCase().slice(0,2)),f=_(i(r)),b="display:inline-flex;align-items:center;justify-content:center;width:20px;height:20px;border-radius:50%;border:2px solid var(--vscode-editor-background);margin-left:"+o+";vertical-align:middle;position:relative;z-index:"+c+";";return d?"<span title='"+_(p||"")+"' data-gh-open='"+f+"' style='"+b+"overflow:hidden;background-size:cover;background-position:center;background-image:url("+d+");'></span>":"<span title='"+_(p||"")+"' data-gh-open='"+f+"' style='"+b+"background:#777;color:#fff;font-size:11px;'>"+g+"</span>"}).join(""),s=t.map(r=>r.login||r.name||""),l="";s.length===1?l=s[0]:s.length===2?l=s[0]+" and "+s[1]:l=s.slice(0,-1).join(", ")+" and "+s.slice(-1)[0];let a=_(i(t[0]));return"<div style='display:flex;align-items:center;gap:8px'><span style='display:flex;align-items:center'><span style='display:inline-block;vertical-align:middle;height:20px;line-height:20px;margin-right:8px;'>"+n+"</span></span><span data-gh-open='"+a+"' style='white-space:nowrap;overflow:hidden;text-overflow:ellipsis;cursor:pointer'>"+_(l)+"</span></div>"}},ge=class{render(e){let t=e.reviewers||[];return!t||t.length===0?"<div></div>":"<div>"+t.map(n=>{let s=n.login||n.name||n.kind||"",l=_(s),r=n&&(n.url||n.html_url)||""||(s?`https://github.com/${s}`:""),u=_(r);return r?"<a href='"+u+"' target='_blank' rel='noopener noreferrer' data-gh-open='"+u+"' style='text-decoration:none;color:inherit'>"+l+"</a>":l}).join(", ")+"</div>"}},ve=class{render(e){return"<div>"+_(e.milestone&&e.milestone.title||"")+"</div>"}},be=class{render(e){try{if(!e||e.total==null||Number(e.total)<=0)return"";let t=Math.max(0,Math.floor(Number(e.total)||0)),i=Math.max(0,Math.floor(Number(e.done||0)));if(t===0)return"";let n=null;return e.percent!==void 0&&e.percent!==null?n=Number(e.percent):n=Math.round(i/t*100),n==null||!isFinite(n)?"":(n=Math.max(0,Math.min(100,n)),"<div class='sub-issues-progress' title='"+_(`${i} of ${t} sub-issues complete (${n}%)`)+"' style='display:flex;align-items:center;gap:8px;width:100%;'><div class='sub-issues-progress-count' style='min-width:44px;text-align:left;font-variant-numeric:tabular-nums;color:var(--vscode-descriptionForeground)'>"+_(String(i)+"/"+String(t))+"</div><div class='sub-issues-progress-bar' style='flex:1;min-width:0'><div style='width:100%;height:12px;border-radius:6px;border:1px solid var(--vscode-focusBorder);overflow:hidden;background:transparent;box-sizing:border-box'><div style='height:100%;width:"+String(n)+"%;background:var(--vscode-focusBorder)'></div></div></div><div class='sub-issues-progress-pct' style='min-width:44px;text-align:right;font-variant-numeric:tabular-nums;color:var(--vscode-descriptionForeground)'>"+_(String(n)+"%")+"</div></div>")}catch{return""}}},xe=class{render(e,t,i,n){let s=["done","closed","completed","finished"],l=!1,a=e&&(e.parent||e.parentIssue||e.issue||e.option||e.item||e.value)||e&&e.raw&&(e.raw.parent||e.raw.itemContent||e.raw.item)||null,r=a&&(a.number||a.id||a.raw&&a.raw.number)&&(a.number||a.raw&&a.raw.number)||"",u=a&&(a.title||a.name||a.raw&&a.raw.title)&&(a.title||a.name||a.raw&&a.raw.title)||"",d=a&&(a.url||a.html_url||a.raw&&a.raw.url)&&(a.url||a.html_url||a.raw&&a.raw.url)||"",o=_(String(u||"")),c=r?_(String(r)):"",p=_(String(d||"")),g=null;try{var f=Array.isArray(n)?n:n||[];if(Array.isArray(f)&&f.length>0&&(r||a)){let B=a&&a.repository&&(a.repository.nameWithOwner||a.repository.name)||a&&a.content&&a.content.repository&&a.content.repository.nameWithOwner||null,N=[];r&&N.push(String(r)),a&&(a.id||a.raw&&a.raw.id)&&N.push(String(a.id||a.raw&&a.raw.id)),a&&(a.url||a.raw&&a.raw.url)&&N.push(String(a.url||a.raw&&a.raw.url)),a&&(a.title||a.name)&&N.push(String(a.title||a.name));let V=f.find(F=>{let D=F&&(F.content||F.raw&&F.raw.itemContent)||null;if(!D)return!1;let $=[];if(D.number&&$.push(String(D.number)),D.id&&$.push(String(D.id)),D.url&&$.push(String(D.url)),D.title&&$.push(String(D.title)),D.name&&$.push(String(D.name)),D.raw&&D.raw.number&&$.push(String(D.raw.number)),D.raw&&D.raw.id&&$.push(String(D.raw.id)),D.raw&&D.raw.url&&$.push(String(D.raw.url)),B){let O=D.repository&&(D.repository.nameWithOwner||D.repository.name)||null;if(O&&String(O)!==String(B))return!1}for(let O=0;O<N.length;O++)for(let C=0;C<$.length;C++)if(N[O]&&$[C]&&String(N[O])===String($[C]))return!0;return!1});if(V&&Array.isArray(V.fieldValues)){let F=V.fieldValues.find(D=>D&&D.type==="single_select"&&(D.raw&&D.raw.field&&String(D.raw.field.name||"").toLowerCase()==="status"||D.fieldName&&String(D.fieldName||"").toLowerCase()==="status"||D.field&&D.field.name&&String(D.field.name||"").toLowerCase()==="status"));if(F&&(g=F.option&&(F.option.color||F.option.id||F.option.name)||F.raw&&F.raw.color||null,F.option&&F.option.name)){let D=String(F.option.name).toLowerCase();s.includes(D)&&(l=!0)}}}}catch{}g||(g=a&&(a.option&&(a.option.color||a.option.id||a.option.name)||a.color||a.colour)||null);let b=G(g)||null,v=!!(b&&/^#([0-9a-f]{3}|[0-9a-f]{6})$/i.test(b)),h=b||"#999999",y=v&&Y(b,.12)||"rgba(0,0,0,0.06)",x=He(b)||"#333333",M=!1,E=!1,S=!1;try{(a&&a.state&&String(a.state).toUpperCase()||a&&a.parent&&a.parent.state&&String(a.parent.state).toUpperCase()||"")==="CLOSED"&&(M=!0),S=!!(a&&Array.isArray(a.labels)&&a.labels.some(F=>F&&typeof F.name=="string"&&String(F.name).toLowerCase()==="blocked")),(!!(a&&Array.isArray(a.labels)&&a.labels.some(F=>s.includes(String(F&&F.name||"").toLowerCase())))||l)&&(M=!0)}catch{}let w="issue-opened";M?w="issue-closed":E&&(w="issue-draft");let T=W(w,{size:14,className:"field-icon parent-issue-icon",fill:b||"#666"}),I=S?W("blocked",{size:9,className:"field-icon blocked-icon",fill:"#dc3545"}):"",A="<span style='display:block;width:100%;box-sizing:border-box'><div style='display:inline-flex;align-items:center;gap:8px;padding:4px 10px;border:1px solid "+_(h)+";border-radius:999px;color:"+_(x)+";background:"+_(y)+";font-size:12px;line-height:18px;overflow:hidden;box-sizing:border-box;width:100%'><span style='position:relative;display:inline-flex;align-items:center;justify-content:center'>"+T+(I?"<span class='blocked-overlay' style='position:absolute;right:-3px;bottom:-3px;width:14px;height:14px;border-radius:999px;background:var(--vscode-editor-background);display:flex;align-items:center;justify-content:center;box-sizing:border-box;'>"+I+"</span>":"")+"</span><span class='parent-issue-title' style='flex:1;min-width:0;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;display:block'>"+o+"</span>"+(c?"<span style='margin-left:6px;color:var(--vscode-descriptionForeground);white-space:nowrap'>#"+c+"</span>":"")+"</div></span>",Z="<span data-gh-open='"+(p||"")+"' class='parent-issue-wrapper' style='display:block;width:100%;cursor:"+(p?"pointer":"default")+"'>";return p?Z+A+"</span>":A}};var ut={title:new le,text:new de,number:new ce,date:new ue,single_select:new pe,iteration:new me,repository:new he,labels:new ye,pull_request:new ne,issue:new ie,assignees:new fe,reviewers:new ge,milestone:new ve,sub_issues_progress:new be,parent_issue:new xe,linked_pull_requests:new ne,tracks:new ie};function se(m,e,t,i){if(!m)return"";try{let n=ut[m.type];return n?n.render(m,e,t,i):""}catch(n){return console.error("Error rendering cell",n),""}}var Ee=class{constructor(e,t,i,n,s,l){this.items=e;this.allFields=t;this.visibleFieldIds=i;this.onFilter=n;this.onAction=s;this.groupDivisors=l;this.zoomLevel="month";this.activeMarkers=["milestones"];this.activeSortFieldId=null;this.startDateFieldId=null;this.endDateFieldId=null;this.initializedFields=!1;this.collapsedGroups=new Set;this.dayWidth=24;this.listWidth=320;this.scrollSyncing=!1;this.container=null;this.lastSnapshot=null;this.updateZoomSettings()}updateData(e,t,i){this.items=e,this.allFields=t,this.visibleFieldIds=i}getActiveMarkers(){return[...this.activeMarkers]}setActiveMarkers(e){this.activeMarkers=[...e],this.container&&this.lastSnapshot&&this.renderRoadmap(this.container,this.lastSnapshot)}toggleMarker(e,t){t?this.activeMarkers.includes(e)||this.activeMarkers.push(e):this.activeMarkers=this.activeMarkers.filter(i=>i!==e),this.container&&this.lastSnapshot&&this.renderRoadmap(this.container,this.lastSnapshot)}getActiveSortFieldId(){return this.activeSortFieldId}setActiveSortFieldId(e){this.activeSortFieldId=e,this.container&&this.lastSnapshot&&this.renderRoadmap(this.container,this.lastSnapshot)}updateZoomSettings(){switch(this.zoomLevel){case"month":this.dayWidth=24;break;case"quarter":this.dayWidth=8;break;case"year":this.dayWidth=2;break;default:this.dayWidth=24}}renderRoadmap(e,t){this.container=e,this.lastSnapshot=t,e.innerHTML="",this.ensureStyles(),e.className="roadmap-root",e.style.display="flex",e.style.flexDirection="column",e.style.height="100%",e.style.background="var(--vscode-editor-background)";let i=this.createControlHeader();e.appendChild(i);let n=document.createElement("div");n.className="roadmap-split-pane",n.style.display="flex",n.style.flex="1",n.style.overflow="hidden",n.style.borderTop="1px solid var(--vscode-panel-border)",e.appendChild(n);let s=document.createElement("div");s.className="roadmap-list-container",s.style.width=this.listWidth+"px",s.style.display="flex",s.style.flexDirection="column",s.style.background="var(--vscode-sideBar-background)",s.style.borderRight="1px solid var(--vscode-panel-border)",s.style.flexShrink="0",n.appendChild(s);let l=document.createElement("div");l.className="roadmap-list-header",l.style.height="32px",l.style.borderBottom="1px solid var(--vscode-panel-border)",l.style.padding="0 12px",l.style.display="flex",l.style.alignItems="center",l.style.fontWeight="600",l.style.fontSize="11px",l.style.textTransform="uppercase",l.style.background="var(--vscode-sideBar-background)",l.style.color="var(--vscode-descriptionForeground)",l.textContent="Items",s.appendChild(l);let a=document.createElement("div");a.className="roadmap-list-view",a.style.flex="1",a.style.overflowY="auto",a.style.overflowX="hidden",s.appendChild(a);let r=document.createElement("div");r.className="roadmap-timeline-container",r.style.flex="1",r.style.display="flex",r.style.flexDirection="column",r.style.overflow="hidden",n.appendChild(r);let u=this.createTimelineHeader();r.appendChild(u);let d=document.createElement("div");d.className="roadmap-grid-view",d.style.flex="1",d.style.overflow="auto",r.appendChild(d),a.addEventListener("scroll",()=>{this.scrollSyncing||(this.scrollSyncing=!0,d.scrollTop=a.scrollTop,this.scrollSyncing=!1)}),d.addEventListener("scroll",()=>{this.scrollSyncing||(this.scrollSyncing=!0,a.scrollTop=d.scrollTop,this.scrollSyncing=!1)});let o=t?.details?.groupByFields?.nodes||[],c=this.allFields.find(f=>o.some(b=>String(b.id)===String(f.id)||b.name===f.name)),p=[...this.items];if(this.activeSortFieldId){let f=this.allFields.find(b=>String(b.id)===String(this.activeSortFieldId));if(f){let b=["date","iteration","milestone"].includes((f.dataType||f.type||"").toLowerCase());p.sort((v,h)=>{if(b){let M=this.getDateFieldValue(v,"start")?.getTime()||0,E=this.getDateFieldValue(h,"start")?.getTime()||0;return M-E}let y=v.fieldValues.find(M=>String(M.fieldId)===String(f.id))?.value||"",x=h.fieldValues.find(M=>String(M.fieldId)===String(f.id))?.value||"";return typeof y=="string"&&typeof x=="string"?y.localeCompare(x):typeof y=="number"&&typeof x=="number"?y-x:0})}}let g=c?Q.groupItems(p,c):[{option:{name:"",id:"none"},items:p.map((f,b)=>({item:f,index:b}))}];this.initializedFields||(this.initDefaultDateFields(),this.initializedFields=!0),this.renderGroups(a,d,g,c)}initDefaultDateFields(){let e=this.allFields.filter(t=>{let i=(t.dataType||t.type||"").toLowerCase();return i==="iteration"||i==="date"});if(!this.startDateFieldId){let t=e.find(i=>i.name.toLowerCase().includes("start"))||e[0];t&&(this.startDateFieldId=t.id)}if(!this.endDateFieldId){let t=e.find(i=>i.name.toLowerCase().includes("end"))||e[1]||e[0];t&&(this.endDateFieldId=t.id)}}ensureStyles(){if(document.getElementById("roadmap-styles"))return;let e=document.createElement("style");e.id="roadmap-styles",e.textContent=`
            .roadmap-root, .roadmap-root * {
                box-sizing: border-box;
            }
            .roadmap-root {
                font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif;
                color: var(--vscode-foreground);
            }
            .roadmap-list-row, .roadmap-grid-row {
                transition: background 0.1s;
                border-bottom: 1px solid var(--vscode-panel-border);
            }
            .roadmap-list-row:hover, .roadmap-grid-row:hover {
                background: var(--vscode-list-hoverBackground);
            }
            .roadmap-list-row {
                border-right: 1px solid var(--vscode-panel-border);
            }
            .roadmap-bar {
                transition: filter 0.2s, box-shadow 0.2s;
            }
            .roadmap-bar:hover {
                filter: brightness(1.1);
                cursor: pointer;
            }
            .roadmap-grid-view::-webkit-scrollbar {
                width: 12px;
                height: 12px;
            }
            .roadmap-grid-view::-webkit-scrollbar-thumb {
                background: var(--vscode-scrollbarSlider-background);
                border-radius: 6px;
                border: 3px solid transparent;
                background-clip: content-box;
            }
            .roadmap-grid-view::-webkit-scrollbar-thumb:hover {
                background: var(--vscode-scrollbarSlider-hoverBackground);
            }
            .roadmap-list-group-header, .roadmap-grid-group-header {
                z-index: 10;
                position: sticky;
                top: 0;
                background: var(--vscode-sideBar-background); /* Added background */
            }
            .roadmap-grid-header {
                height: 32px;
                flex: 0 0 auto;
                border-bottom: 1px solid var(--vscode-panel-border);
                background: var(--vscode-sideBar-background);
                position: sticky;
                top: 0;
                z-index: 20;
                overflow: hidden;
            }
            .gh-count-pill {
                font-weight: 500;
            }
            .roadmap-marker-label {
                position: absolute;
                top: 4px;
                padding: 2px 6px;
                background: #f1f8ff;
                color: #0366d6;
                border: 1px solid #0366d6;
                border-radius: 4px;
                font-size: 10px;
                white-space: nowrap;
                transform: translateX(-50%);
                z-index: 110;
            }
            .roadmap-marker-circle {
                position: absolute;
                top: 32px;
                left: -4px;
                width: 8px;
                height: 8px;
                border-radius: 50%;
                background: #0366d6;
                z-index: 105;
                transform: translateY(-50%);
            }
            .roadmap-marker-triangle {
                position: absolute;
                top: 0;
                left: -6px;
                width: 0;
                height: 0;
                border-left: 6px solid transparent;
                border-right: 6px solid transparent;
                border-top: 8px solid var(--vscode-descriptionForeground);
                z-index: 105;
            }
        `,document.head.appendChild(e)}createControlHeader(){let e=document.createElement("div");e.className="roadmap-controls",e.style.height="48px",e.style.display="flex",e.style.alignItems="center",e.style.padding="0 16px",e.style.background="var(--vscode-editor-background)";let t=document.createElement("div");t.style.fontWeight="600",t.style.fontSize="14px",t.textContent="Roadmap",e.appendChild(t);let i=document.createElement("div");i.style.flex="1",e.appendChild(i);let n=`
            background: transparent;
            border: 1px solid transparent;
            color: var(--vscode-foreground);
            border-radius: 6px;
            padding: 4px 8px;
            font-size: 13px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 6px;
            height: 32px;
            transition: all 0.2s;
        `,s=(c,p,g,f=!1)=>{let b=document.createElement("button");b.style.cssText=n;let v=p?W(p,{size:16,fill:"var(--vscode-descriptionForeground)"}):"",h=f?W("triangle-down",{size:12,fill:"var(--vscode-descriptionForeground)"}):"";return b.innerHTML=`${v} <span style="font-weight: 500;">${c}</span> ${h}`,b.onclick=g,b.onmouseenter=()=>{b.style.background="var(--vscode-toolbar-hoverBackground)",b.style.borderColor="var(--vscode-panel-border)"},b.onmouseleave=()=>{b.style.background="transparent",b.style.borderColor="transparent"},b},l=document.createElement("div");l.style.display="flex",l.style.alignItems="center",l.style.gap="4px",e.appendChild(l),l.appendChild(s("Markers","location",c=>this.showMarkersMenu(c),!0)),l.appendChild(s("Sort","arrow-up-down",c=>this.showSortMenu(c),!0)),l.appendChild(s("Date fields","calendar",c=>this.showDateFieldsMenu(c),!0));let a=this.zoomLevel.charAt(0).toUpperCase()+this.zoomLevel.slice(1);l.appendChild(s(a,"zoom-in",c=>this.showZoomMenu(c),!0));let r=document.createElement("button");r.style.cssText=n,r.style.fontWeight="600",r.style.marginRight="4px",r.textContent="Today",r.onclick=()=>{let c=this.container?.querySelector(".roadmap-grid-view");if(c){let p=new Date,g=this.getTimelineStart(),f=Math.ceil((p.getTime()-g.getTime())/(1e3*60*60*24))*this.dayWidth;c.scrollLeft=f-c.clientWidth/2}},l.appendChild(r);let u=document.createElement("div");u.style.display="flex",u.style.gap="2px";let d=s("","chevron-left",()=>{let c=this.container?.querySelector(".roadmap-grid-view");c&&(c.scrollLeft-=200)}),o=s("","chevron-right",()=>{let c=this.container?.querySelector(".roadmap-grid-view");c&&(c.scrollLeft+=200)});return u.appendChild(d),u.appendChild(o),l.appendChild(u),e}showMarkersMenu(e){let t=[{id:"milestones",label:"Milestones",icon:"milestone"}];return this.allFields.forEach(n=>{let s=(n.dataType||n.type||"").toLowerCase();(s==="iteration"||s==="date")&&t.push({id:n.id,label:n.name,icon:oe(s)})}),this.showDropdown(e.currentTarget,t,this.activeMarkers,n=>{this.activeMarkers.includes(n)?this.activeMarkers=this.activeMarkers.filter(s=>s!==n):this.activeMarkers.push(n),this.renderRoadmap(this.container,this.lastSnapshot);try{window.dispatchEvent(new CustomEvent("roadmap:markersChanged"))}catch{}},!0)||null}showSortMenu(e){let t=[{id:null,label:"No sorting"}];return this.allFields.forEach(n=>{let s=oe(n.dataType||n.type);t.push({id:n.id,label:n.name,icon:s})}),this.showDropdown(e.currentTarget,t,[this.activeSortFieldId],n=>{this.activeSortFieldId=n,this.renderRoadmap(this.container,this.lastSnapshot)})||null}showDateFieldsMenu(e){let t=this.allFields.filter(c=>{let p=(c.dataType||c.type||"").toLowerCase();return p==="iteration"||p==="date"}),i=document.createElement("div");i.className="roadmap-dropdown-menu",i.style.cssText="position: fixed; z-index: 1000; background: var(--vscode-menu-background); border: 1px solid var(--vscode-menu-border); border-radius: 6px; box-shadow: 0 4px 12px rgba(0,0,0,0.15); min-width: 200px; padding: 8px 0; font-size: 13px; max-height: 400px; overflow-y: auto;";let n=(c,p,g,f=!1)=>{let b=document.createElement("div");if(b.style.padding="4px 12px",b.style.fontWeight="600",b.style.color="var(--vscode-descriptionForeground)",b.style.fontSize="11px",b.textContent=c,i.appendChild(b),t.forEach(v=>{let h=document.createElement("div");h.style.padding="6px 12px 6px 32px",h.style.cursor="pointer",h.style.position="relative",h.style.display="flex",h.style.alignItems="center",h.onmouseenter=()=>h.style.background="var(--vscode-menu-selectionBackground)",h.onmouseleave=()=>h.style.background="transparent";let y=(v.dataType||v.type||"").toLowerCase(),x=oe(y),E=c.toLowerCase().includes("start")?"start":"end",S=y==="iteration"?`${v.name} ${E}`:v.name;h.innerHTML=`
                    <div class="roadmap-dropdown-check" style="position:absolute; left:10px; display:${v.id===p?"block":"none"}">
                        ${W("check",{size:14,fill:"var(--vscode-menu-foreground)"})}
                    </div>
                    <div style="margin-right:8px; display:flex; align-items:center;">
                        ${W(x,{size:14,fill:"var(--vscode-descriptionForeground)"})}
                    </div>
                    <span>${S}</span>
                `,h.onclick=()=>{g(v.id),this.renderRoadmap(this.container,this.lastSnapshot);try{window.dispatchEvent(new CustomEvent("roadmap:dateFieldsChanged"))}catch{}try{if(i){i.innerHTML="",n("Start date",this.startDateFieldId,Z=>this.startDateFieldId=Z),n("End date",this.endDateFieldId,Z=>this.endDateFieldId=Z,!0);let w=a,T=i.getBoundingClientRect(),I=window.innerWidth||document.documentElement.clientWidth,A=w.right+4;A+T.width>I&&(A=w.left-T.width-4,A<4&&(A=Math.max(4,Math.min(I-T.width-4,w.right-T.width)))),i.style.left=`${Math.round(A)}px`,i.style.top=`${Math.round(w.bottom+4)}px`}}catch{}},i.appendChild(h)}),!f){let v=document.createElement("div");v.style.height="1px",v.style.background="var(--vscode-menu-border)",v.style.margin="4px 0",i.appendChild(v)}};n("Start date",this.startDateFieldId,c=>this.startDateFieldId=c),n("End date",this.endDateFieldId,c=>this.endDateFieldId=c,!0);let s=e.currentTarget,l=()=>{try{if(s&&typeof s.getBoundingClientRect=="function")return s.getBoundingClientRect()}catch{}return{top:e.clientY||4,bottom:e.clientY||4,left:e.clientX||4,right:e.clientX||4}};i.dataset.menuType="roadmap-dropdown",document.body.appendChild(i);let a=l();try{if(a&&Math.abs((a.right||0)-(a.left||0))<2){let c=s&&s.getClientRects&&s.getClientRects()||null;if(c&&c.length>0)a=c[0];else if(s&&(s.closest||s.parentElement)){let p=s.closest&&s.closest(".roadmap-controls")?s.closest(".roadmap-controls"):s.parentElement;p&&(a=p.getBoundingClientRect())}}}catch{}i.style.top=a.bottom+4+"px";let r=i.getBoundingClientRect(),u=window.innerWidth||document.documentElement.clientWidth,d=a.right+4;d+r.width>u&&(d=a.left-r.width-4,d<4&&(d=Math.max(4,Math.min(u-r.width-4,a.right-r.width)))),i.style.left=`${Math.round(d)}px`;let o=c=>{i.contains(c.target)||(document.body.contains(i)&&document.body.removeChild(i),window.removeEventListener("mousedown",o))};setTimeout(()=>window.addEventListener("mousedown",o),0);try{U.register(i,()=>{try{let c=a,p=i.getBoundingClientRect(),g=window.innerWidth||document.documentElement.clientWidth,f=c.right+4;f+p.width>g&&(f=c.left-p.width-4,f<4&&(f=Math.max(4,Math.min(g-p.width-4,c.right-p.width)))),i.style.left=`${Math.round(f)}px`,i.style.top=`${Math.round(c.bottom+4)}px`}catch{}})}catch{}return{el:i,refresh:()=>{try{let c=a,p=i.getBoundingClientRect(),g=window.innerWidth||document.documentElement.clientWidth,f=c.right+4;f+p.width>g&&(f=c.left-p.width-4,f<4&&(f=Math.max(4,Math.min(g-p.width-4,c.right-p.width)))),i.style.left=`${Math.round(f)}px`,i.style.top=`${Math.round(c.bottom+4)}px`}catch{}}}}showZoomMenu(e){let t=[{id:"month",label:"Month"},{id:"quarter",label:"Quarter"},{id:"year",label:"Year"}],i=document.createElement("div");i.className="roadmap-dropdown-menu",i.style.cssText="position: fixed; z-index: 1000; background: var(--vscode-menu-background); border: 1px solid var(--vscode-menu-border); border-radius: 6px; box-shadow: 0 4px 12px rgba(0,0,0,0.15); min-width: 160px; padding: 4px 0; font-size: 13px;",t.forEach(d=>{let o=document.createElement("div");o.style.padding="6px 12px 6px 32px",o.style.cursor="pointer",o.style.position="relative",o.style.display="flex",o.style.alignItems="center",o.onmouseenter=()=>o.style.background="var(--vscode-menu-selectionBackground)",o.onmouseleave=()=>o.style.background="transparent";let c=this.zoomLevel===d.id;o.innerHTML=`
                <div class="roadmap-dropdown-check" style="position:absolute; left:10px; display:${c?"block":"none"}">
                    ${W("check",{size:14,fill:"var(--vscode-menu-foreground)"})}
                </div>
                <span style="flex:1">${d.label}</span>
            `,o.onclick=()=>{this.zoomLevel=d.id,this.updateZoomSettings(),this.renderRoadmap(this.container,this.lastSnapshot);try{window.dispatchEvent(new CustomEvent("roadmap:zoomChanged"))}catch{}document.body.contains(i)&&document.body.removeChild(i)},i.appendChild(o)});let n=e.currentTarget,s=n&&document.body.contains(n)?n.getBoundingClientRect():{top:e.clientY||4,bottom:e.clientY||4,left:e.clientX||4,right:e.clientX||4};i.dataset.menuType="roadmap-dropdown",i.style.top=s.bottom+4+"px",document.body.appendChild(i);try{U.register(i,()=>{try{let d=n&&document.body.contains(n)?n.getBoundingClientRect():s,o=i.getBoundingClientRect(),c=window.innerWidth||document.documentElement.clientWidth,p=d.right+4;p+o.width>c&&(p=d.left-o.width-4,p<4&&(p=Math.max(4,Math.min(c-o.width-4,d.right-o.width)))),i.style.left=`${Math.round(p)}px`,i.style.top=`${Math.round(d.bottom+4)}px`}catch{}})}catch{}let l=i.getBoundingClientRect(),a=window.innerWidth||document.documentElement.clientWidth,r=s.right+4;r+l.width>a&&(r=s.left-l.width-4,r<4&&(r=Math.max(4,Math.min(a-l.width-4,s.right-l.width)))),i.style.left=`${Math.round(r)}px`;let u=d=>{i.contains(d.target)||(document.body.contains(i)&&document.body.removeChild(i),window.removeEventListener("mousedown",u))};return setTimeout(()=>window.addEventListener("mousedown",u),0),{el:i,refresh:()=>{try{let d=n&&document.body.contains(n)?n.getBoundingClientRect():s,o=i.getBoundingClientRect(),c=window.innerWidth||document.documentElement.clientWidth,p=d.right+4;p+o.width>c&&(p=d.left-o.width-4,p<4&&(p=Math.max(4,Math.min(c-o.width-4,d.right-o.width)))),i.style.left=`${Math.round(p)}px`,i.style.top=`${Math.round(d.bottom+4)}px`}catch{}}}}showDropdown(e,t,i,n,s=!1){let l=document.createElement("div");l.className="roadmap-dropdown-menu",l.style.cssText="position: fixed; z-index: 1000; background: var(--vscode-menu-background); border: 1px solid var(--vscode-menu-border); border-radius: 6px; box-shadow: 0 4px 12px rgba(0,0,0,0.15); min-width: 180px; padding: 4px 0; font-size: 13px; max-height: 400px; overflow-y: auto;",t.forEach(c=>{let p=document.createElement("div");p.style.padding="6px 12px 6px 32px",p.style.cursor="pointer",p.style.position="relative",p.style.display="flex",p.style.alignItems="center",p.onmouseenter=()=>p.style.background="var(--vscode-menu-selectionBackground)",p.onmouseleave=()=>p.style.background="transparent";let g=i.includes(c.id);p.innerHTML=`
                <div class="roadmap-dropdown-check" style="position:absolute; left:10px; display:${g?"block":"none"}">
                    ${W("check",{size:14,fill:"var(--vscode-menu-foreground)"})}
                </div>
                ${c.icon?`<div style="margin-right:8px; display:flex; align-items:center;">${W(c.icon,{size:14,fill:"var(--vscode-descriptionForeground)"})}</div>`:""}
                <span>${c.label}</span>
            `,p.onclick=f=>{if(n(c.id),!s)document.body.contains(l)&&document.body.removeChild(l);else{let b=p.querySelector(".roadmap-dropdown-check");b&&(b.style.display=b.style.display==="none"?"block":"none")}f.stopPropagation()},l.appendChild(p)});let a=e.getBoundingClientRect();l.style.top=a.bottom+4+"px",document.body.appendChild(l);let r=l.getBoundingClientRect(),u=window.innerWidth||document.documentElement.clientWidth,d=a.right+4;d+r.width>u&&(d=a.left-r.width-4,d<4&&(d=Math.max(4,Math.min(u-r.width-4,a.right-r.width)))),l.style.left=`${Math.round(d)}px`;let o=c=>{l.contains(c.target)||(document.body.contains(l)&&document.body.removeChild(l),window.removeEventListener("mousedown",o))};setTimeout(()=>window.addEventListener("mousedown",o),0);try{U.register(l,()=>{try{let c=e.getBoundingClientRect(),p=l.getBoundingClientRect(),g=window.innerWidth||document.documentElement.clientWidth,f=c.right+4;f+p.width>g&&(f=c.left-p.width-4,f<4&&(f=Math.max(4,Math.min(g-p.width-4,c.right-p.width)))),l.style.left=`${Math.round(f)}px`,l.style.top=`${Math.round(c.bottom+4)}px`}catch{}})}catch{}return{el:l,refresh:()=>{try{let c=e.getBoundingClientRect(),p=l.getBoundingClientRect(),g=window.innerWidth||document.documentElement.clientWidth,f=c.right+4;f+p.width>g&&(f=c.left-p.width-4,f<4&&(f=Math.max(4,Math.min(g-p.width-4,c.right-p.width)))),l.style.left=`${Math.round(f)}px`,l.style.top=`${Math.round(c.bottom+4)}px`}catch{}}}}getTimelineStart(){let e=this.items.flatMap(i=>[this.getDateFieldValue(i,"start"),this.getDateFieldValue(i,"end")]).filter(i=>!!i),t=e.length?new Date(Math.min(...e.map(i=>i.getTime()))):new Date;return t.setMonth(t.getMonth()-1),t.setDate(1),t.setHours(0,0,0,0),t}createTimelineHeader(){let e=document.createElement("div");return e.className="roadmap-grid-header",e.style.height="32px",e.style.borderBottom="1px solid var(--vscode-panel-border)",e.style.position="sticky",e.style.top="0",e.style.zIndex="20",e.style.background="var(--vscode-sideBar-background)",e.style.display="flex",e.style.overflow="hidden",e}renderGroups(e,t,i,n){e.innerHTML="",t.innerHTML="";let s=document.createElement("div");s.className="roadmap-grid-content",s.style.position="relative",t.appendChild(s);let l=this.getTimelineStart(),a=this.items.flatMap(v=>[this.getDateFieldValue(v,"start"),this.getDateFieldValue(v,"end")]).filter(v=>!!v),r=a.length?new Date(Math.max(...a.map(v=>v.getTime()))):new Date,u=this.zoomLevel==="year"?12:6;r.setMonth(r.getMonth()+u),r.setDate(1),r.setHours(0,0,0,0);let d=this.calculateOffset(r,l);s.style.width=d+"px";let o=this.container?.querySelector(".roadmap-grid-header");o.innerHTML="";let c=document.createElement("div");c.style.width=d+"px",c.style.flexShrink="0",c.style.display="flex",c.style.height="100%",o.appendChild(c);let p=document.createElement("div");p.className="roadmap-grid-lines",p.style.position="absolute",p.style.top="0",p.style.left="0",p.style.height="100%",p.style.width="100%",p.style.pointerEvents="none",p.style.zIndex="0",s.appendChild(p);let g=new Date(l);for(;g<r;){let v=new Date(g),h=new Date(g.getFullYear(),g.getMonth()+1,1),y=this.calculateOffset(v,l),M=this.calculateOffset(h,l)-y,E=document.createElement("div");E.className="roadmap-month-label",E.style.flex=`0 0 ${M}px`,E.style.borderRight="1px solid var(--vscode-panel-border)",E.style.background="var(--vscode-sideBar-background)",E.style.fontSize="12px",E.style.padding="7px 12px",E.style.fontWeight="600",E.style.color="var(--vscode-foreground)";let S=this.zoomLevel==="year"?g.toLocaleDateString("default",{month:"short"}):g.toLocaleDateString("default",{month:"long",year:"numeric"});this.zoomLevel==="year"&&g.getMonth()===0&&(S=g.getFullYear().toString()),E.textContent=S,c.appendChild(E);let w=document.createElement("div");w.style.position="absolute",w.style.left=y+"px",w.style.height="100%",w.style.borderLeft="1px solid var(--vscode-panel-border)",w.style.opacity="0.2",p.appendChild(w),g=h}this.renderMarkers(s,l,r),t.onscroll=()=>{o.scrollLeft=t.scrollLeft};let f=40,b=1;i.forEach(v=>{let h=String(v.option.id||"unassigned"),y=this.collapsedGroups.has(h);if(n){let x=Oe(this.allFields,this.items,v,n,{groupDivisors:this.groupDivisors});x.classList.add("roadmap-list-group-header"),x.style.position="sticky",x.style.top="0",x.style.zIndex="10",x.style.borderBottom="1px solid var(--vscode-panel-border)",x.style.height="32px",x.style.padding="0 8px";let M=x.querySelector(".group-toggle");M&&(y&&(M.innerHTML=W("triangle-right",{size:16,fill:"var(--vscode-descriptionForeground)"})),M.addEventListener("click",S=>{S.stopPropagation(),y?this.collapsedGroups.delete(h):this.collapsedGroups.add(h),this.renderRoadmap(this.container,this.lastSnapshot)})),x.style.cursor="pointer",x.addEventListener("click",()=>{y?this.collapsedGroups.delete(h):this.collapsedGroups.add(h),this.renderRoadmap(this.container,this.lastSnapshot)}),e.appendChild(x);let E=document.createElement("div");E.className="roadmap-grid-group-header",E.style.height="32px",E.style.borderBottom="1px solid var(--vscode-panel-border)",E.style.background="var(--vscode-sideBar-background)",E.addEventListener("click",()=>{y?this.collapsedGroups.delete(h):this.collapsedGroups.add(h),this.renderRoadmap(this.container,this.lastSnapshot)}),s.appendChild(E)}if(!y){v.items.forEach(S=>{let w=S.item,T=document.createElement("div");T.className="roadmap-list-row",T.style.height=f+"px",T.style.display="flex",T.style.alignItems="center",T.style.padding="0";let I=document.createElement("div");I.style.width="40px",I.style.textAlign="center",I.style.fontSize="11px",I.style.color="var(--vscode-descriptionForeground)",I.textContent=String(b++),T.appendChild(I);let A=document.createElement("div");A.style.display="flex",A.style.alignItems="center",A.style.flex="1",A.style.overflow="hidden",A.style.padding="0 8px",A.style.gap="8px";let Z=this.allFields.find(O=>O.name.toLowerCase()==="title"),B=w.fieldValues.find(O=>O.fieldId===Z?.id)||{value:w.title,type:"title"},N=this.allFields.find(O=>(O.dataType||O.type||"").toLowerCase()==="assignees"),V=w.fieldValues.find(O=>O.fieldId===N?.id);A.innerHTML=`<div style="display:flex; align-items:center; gap:8px; overflow:hidden; flex:1;">${se(B,Z,w,this.items)}</div>`,T.appendChild(A),e.appendChild(T);let F=document.createElement("div");F.className="roadmap-grid-row",F.style.height=f+"px",F.style.position="relative",s.appendChild(F),T.onmouseenter=()=>F.style.background="var(--vscode-list-hoverBackground)",T.onmouseleave=()=>F.style.background="transparent",F.onmouseenter=()=>T.style.background="var(--vscode-list-hoverBackground)",F.onmouseleave=()=>T.style.background="transparent";let D=this.getDateFieldValue(w,"start"),$=this.getDateFieldValue(w,"end");if(D){let O=this.calculateOffset(D,l),C=$?Math.max(1,Math.round(($.getTime()-D.getTime())/(1e3*60*60*24))):14,L=Math.max(40,C*this.dayWidth),H=document.createElement("div");H.className="roadmap-bar",H.style.position="absolute",H.style.left=O+"px",H.style.top="6px",H.style.height="28px",H.style.minWidth=L+"px",H.style.background="var(--vscode-sideBar-background)",H.style.border="1px solid var(--vscode-panel-border)",H.style.borderRadius="14px",H.style.display="flex",H.style.alignItems="center",H.style.zIndex="2",H.style.fontSize="12px",H.style.overflow="hidden";let z=D.toLocaleDateString([],{month:"short",day:"numeric",year:"numeric"}),k=$?$.toLocaleDateString([],{month:"short",day:"numeric",year:"numeric"}):"No end date";H.title=`${w.title||"Item"} (${z} - ${k})`;let R=document.createElement("div");R.style.position="relative",R.style.padding="0 8px",R.style.display="flex",R.style.alignItems="center",R.style.gap="6px",R.style.whiteSpace="nowrap",R.style.flex="1 1 auto",R.style.minWidth="0";let Le=(ee,J)=>{try{if(!ee||(J?.dataType||J?.type)?.toLowerCase()!=="assignees")return se(ee,J,w,this.items);if((ee.assignees||[]).length===0)return"";let Te=se(ee,J,w,this.items),P=document.createElement("div");P.innerHTML=Te;let re=P.querySelector("img")||P.querySelector("svg")||P.querySelector(".avatar")||P.firstElementChild;if(re)return`<div style="display:flex; align-items:center;">${re.outerHTML}</div>`}catch{}return""};R.innerHTML=`<div style="flex:1; min-width:0; display:flex; align-items:center; gap:6px; overflow:hidden; white-space:nowrap; text-overflow:ellipsis;">${se(B,Z,w,this.items)}</div>${V?`<div style="margin-left:auto; display:flex;">${Le(V,N)}</div>`:""}`,R.style.position="relative",R.style.left="0",R.style.width="100%",R.style.boxSizing="border-box",H.appendChild(R),w.url&&(H.onclick=()=>this.onAction("openUrl",w,{})),F.appendChild(H)}});let x=document.createElement("div");x.style.height="32px",x.style.display="flex",x.style.alignItems="center",x.style.padding="0 8px",x.style.cursor="pointer",x.style.color="var(--vscode-descriptionForeground)";let M=W("plus",{size:16,fill:"currentColor"});x.innerHTML=`<div style="width:40px; display:flex; justify-content:center;">${M}</div><span style="font-size:13px; opacity: 0.8;">Add item</span>`,x.onclick=()=>this.onAction("addItem",{groupId:v.option.id},{}),e.appendChild(x);let E=document.createElement("div");E.className="roadmap-grid-row",E.style.height="32px",E.style.borderBottom="1px solid var(--vscode-panel-border)",s.appendChild(E),x.onmouseenter=()=>E.style.background="var(--vscode-list-hoverBackground)",x.onmouseleave=()=>E.style.background="transparent"}})}getDateFieldValue(e,t){let i=t==="start"?this.startDateFieldId:this.endDateFieldId,n=i?this.allFields.find(a=>String(a.id)===String(i)):null;if(!n)return null;let s=e.fieldValues.find(a=>String(a.fieldId)===String(n.id));if(!s)return null;let l=null;if(s.date)l=new Date(s.date);else if(s.iterationId&&n.configuration?.iterations){let a=n.configuration.iterations.find(r=>r.id===s.iterationId);a&&(l=new Date(a.startDate),t==="end"&&l.setDate(l.getDate()+(a.duration||14)))}return l&&l.setHours(0,0,0,0),l}calculateOffset(e,t){let i=new Date(e);i.setHours(0,0,0,0);let n=new Date(t);n.setHours(0,0,0,0);let s=i.getTime()-n.getTime();return Math.round(s/(1e3*60*60*24))*this.dayWidth}applyFilter(e){if(!this.container)return;this.container.querySelectorAll("[data-gh-item-id]").forEach(i=>{let n=i,s=n.getAttribute("data-gh-item-id");s&&(n.style.display=e.has(s)?"flex":"none")})}renderMarkers(e,t,i){let n=new Date;if(n.setHours(0,0,0,0),n>=t&&n<=i){let s=this.calculateOffset(n,t),l=document.createElement("div");l.style.position="absolute",l.style.left=s-1+"px",l.style.top="0",l.style.height="100%",l.style.width="2px",l.style.background="#fd8c73",l.style.zIndex="100",l.style.pointerEvents="none",e.appendChild(l);let a=document.createElement("div");a.style.position="absolute",a.style.top="-4px",a.style.left="-3px",a.style.width="8px",a.style.height="8px",a.style.borderRadius="50%",a.style.background="#fd8c73",l.appendChild(a)}if(this.activeMarkers.includes("milestones")){let s=this.allFields.find(a=>(a.dataType||a.type||"").toLowerCase()==="milestone"||a.name.toLowerCase()==="milestone"),l=new Map;this.items.forEach(a=>{let r=a.fieldValues.find(u=>u.fieldId===s?.id);r?.milestone?.dueDate&&l.set(r.milestone.id,new Date(r.milestone.dueDate))}),l.forEach(a=>{if(a.setHours(0,0,0,0),a>=t&&a<=i){let r=this.calculateOffset(a,t),u=document.createElement("div");u.style.position="absolute",u.style.left=r+"px",u.style.top="0",u.style.height="100%",u.style.borderLeft="1px dashed var(--vscode-descriptionForeground)",u.style.zIndex="10",u.style.pointerEvents="none",e.appendChild(u);let d=document.createElement("div");d.style.position="absolute",d.style.top="0",d.style.left="-4px",d.style.width="8px",d.style.height="8px",d.style.background="var(--vscode-descriptionForeground)",d.style.transform="rotate(45deg)",d.style.zIndex="11",u.appendChild(d)}})}this.activeMarkers.forEach(s=>{let l=this.allFields.find(r=>String(r.id)===String(s));if(!l)return;let a=(l.dataType||l.type||"").toLowerCase();if(a==="iteration"&&l.configuration?.iterations)l.configuration.iterations.forEach(r=>{let u=new Date(r.startDate);if(u.setHours(0,0,0,0),u>=t&&u<=i){let d=this.calculateOffset(u,t),o=document.createElement("div");o.style.position="absolute",o.style.left=d+"px",o.style.top="0",o.style.height="100%",o.style.borderLeft="2px solid #0366d6",o.style.opacity="0.7",o.style.zIndex="10",o.style.pointerEvents="none",e.appendChild(o);let c=document.createElement("div");c.className="roadmap-marker-circle",o.appendChild(c);let p=document.createElement("div");p.className="roadmap-marker-label";let g=u.toLocaleDateString([],{month:"short",day:"numeric"}),f=new Date(u);f.setDate(f.getDate()+(r.duration||14));let b=f.toLocaleDateString([],{month:"short",day:"numeric"});p.textContent=`${r.title||r.name||"Iteration"} (${g} - ${b})`,o.appendChild(p)}});else if(a==="date"){let r=new Set;this.items.forEach(u=>{let d=u.fieldValues.find(o=>String(o.fieldId)===String(l.id));d?.date&&r.add(d.date)}),r.forEach(u=>{let d=new Date(u);if(d.setHours(0,0,0,0),!isNaN(d.getTime())&&d>=t&&d<=i){let o=this.calculateOffset(d,t),c=document.createElement("div");c.style.position="absolute",c.style.left=o+"px",c.style.top="0",c.style.height="100%",c.style.borderLeft="1px solid var(--vscode-descriptionForeground)",c.style.opacity="0.4",c.style.zIndex="10",c.style.pointerEvents="none",e.appendChild(c);let p=document.createElement("div");p.className="roadmap-marker-triangle",c.appendChild(p)}})}})}};function Ae(m,e){m.innerHTML='<div class="title">'+e+'</div><div class="loading"><em>Loading...</em></div>'}function De(m,e,t){m.innerHTML='<div class="title">'+e+'</div><div style="color:var(--vscode-editor-foreground)">'+t+"</div>"}function We(m,e,t){if(window.filterBarHelper&&typeof window.filterBarHelper.create=="function")try{return window.filterBarHelper.create({parent:m,suffix:t.suffix||e,effFilter:typeof t.effFilter=="string"?t.effFilter:void 0,viewKey:e,step:t.step||50,onLoadMore:t.onLoadMore,onSave:t.onSave,onDiscard:t.onDiscard})}catch{return null}return null}function Re(m){if(!m||!m.nodes||m.nodes.length===0)return null;let e=m.nodes[0];if(!e||!e.field)return null;let t={fieldId:e.field.id||e.field.name,direction:e.direction||"ASC"};if(m.nodes.length>1){let i=m.nodes[1];i&&i.field&&(t.secondary={fieldId:i.field.id||i.field.name,direction:i.direction||"ASC"})}return t}function je(m,e,t){if(!t||m.length===0)return m;let i=e.find(s=>s.id===t.fieldId||s.name===t.fieldId);if(!i)return m;let n=[...m];return n.sort((s,l)=>{let a=Pe(s,l,i,t.direction);if(a===0&&t.secondary){let r=e.find(u=>u.id===t.secondary.fieldId||u.name===t.secondary.fieldId);if(r)return Pe(s,l,r,t.secondary.direction)}return a}),n}function Pe(m,e,t,i){let n=Ge(m,t),s=Ge(e,t);if(n===null&&s===null)return 0;if(n===null)return i==="ASC"?1:-1;if(s===null)return i==="ASC"?-1:1;let l=0;switch((t.dataType||"").toLowerCase()){case"text":case"title":l=K(n,s);break;case"number":l=qe(n,s);break;case"date":l=Ue(n,s);break;case"single_select":l=pt(n,s,t);break;case"iteration":l=mt(n,s);break;case"labels":l=ht(n,s);break;case"assignees":case"repository":case"milestone":case"issue_type":case"parent_issue":case"tracked_by":case"tracks":case"reviewers":l=K(n,s);break;case"linked_pull_requests":case"sub_issues_progress":l=qe(n,s);break;default:l=0}return i==="ASC"?l:-l}function Ge(m,e){let t=m.fieldValues?.find(n=>n.fieldId===e.id||n.fieldName===e.name);if(!t)return null;switch((e.dataType||"").toLowerCase()){case"text":return t.text!=null?t.text:Ve(t,m);case"title":return Ve(t,m);case"number":return t.number!==void 0?t.number:null;case"date":return t.date||t.startDate||t.dueOn||null;case"single_select":return t.option||t;case"iteration":return t;case"labels":return t.labels||[];case"assignees":{let n=t.assignees;if(Array.isArray(n)&&n.length>0){let s=n[0];return s.login||s.name||null}return null}case"repository":{let n=t.repository;return n&&(n.nameWithOwner||n.name||n.full_name||n.id)||null}case"milestone":{let n=t.milestone;return n&&(n.dueOn||n.title||n.name)||null}case"issue_type":return t.text?t.text:t.option&&(t.option.name||t.option.title)||null;case"parent_issue":{let n=t.parent;return n?n.title?n.title:typeof n.number=="number"?String(n.number):n.id||null:null}case"linked_pull_requests":{let n=t.pullRequests;if(Array.isArray(n)&&n.length>0){let s=n[0];return typeof s.number=="number"?s.number:s.title||null}return null}case"reviewers":{let n=t.reviewers;if(Array.isArray(n)&&n.length>0){let s=n[0];return s.login||s.name||s.id||null}return null}case"sub_issues_progress":return typeof t.percent=="number"?t.percent:typeof t.done=="number"&&typeof t.total=="number"&&t.total>0?t.done/t.total*100:null;case"tracked_by":case"tracks":{let n=t.issues;if(Array.isArray(n)&&n.length>0){let s=n[0];return s.title?s.title:typeof s.number=="number"?String(s.number):s.id||null}return null}default:return t}}function Ve(m,e){if(!m)return null;let t=m.title&&m.title.raw||m.raw||null;if(t&&typeof t.text=="string"&&t.text.trim())return t.text;let i=m.title&&m.title.content||m.content||t&&t.itemContent||e&&e.content||null;if(i){if(typeof i=="string"&&i.trim())return i;if(typeof i.title=="string"&&i.title.trim())return i.title;if(typeof i.name=="string"&&i.name.trim())return i.name}return typeof m.text=="string"&&m.text.trim()?m.text:t&&typeof t.title=="string"&&t.title.trim()?t.title:null}function K(m,e){let t=String(m||"").toLowerCase(),i=String(e||"").toLowerCase();return t.localeCompare(i)}function qe(m,e){let t=typeof m=="number"?m:parseFloat(m),i=typeof e=="number"?e:parseFloat(e);return isNaN(t)&&isNaN(i)?0:isNaN(t)?1:isNaN(i)?-1:t-i}function Ue(m,e){let t=new Date(m),i=new Date(e);return isNaN(t.getTime())&&isNaN(i.getTime())?0:isNaN(t.getTime())?1:isNaN(i.getTime())?-1:t.getTime()-i.getTime()}function pt(m,e,t){let i=m.option||m,n=e.option||e;if(!i||!n)return K(i?.name||"",n?.name||"");if(t.options&&Array.isArray(t.options)){let s=t.options.findIndex(a=>a.id===i.id||a.name===i.name),l=t.options.findIndex(a=>a.id===n.id||a.name===n.name);if(s!==-1&&l!==-1)return s-l}return K(i.name,n.name)}function mt(m,e){let t=m.startDate||m.iteration?.startDate,i=e.startDate||e.iteration?.startDate;return!t&&!i?K(m.title||m.iteration?.title,e.title||e.iteration?.title):Ue(t,i)}function ht(m,e){let t=Array.isArray(m)?m:[],i=Array.isArray(e)?e:[];return t.length===0&&i.length===0?0:t.length===0?1:i.length===0?-1:K(t[0].name,i[0].name)}var we=class{constructor(e,t,i,n){this.panelElement=null;this.container=e,this.field=t,this.items=i,this.allFields=n||[]}render(){this.close(),this.panelElement=document.createElement("div"),this.panelElement.className="slice-panel",this.panelElement.style.position="relative",this.panelElement.style.float="left";try{let p=localStorage.getItem("ghProjects.slicePanel.width");p?this.panelElement.style.width=p:this.panelElement.style.width="280px"}catch{this.panelElement.style.width="280px"}this.panelElement.style.marginRight="12px",this.panelElement.style.background="var(--vscode-sideBar-background)",this.panelElement.style.border="1px solid var(--vscode-sideBar-border)",this.panelElement.style.borderRadius="6px",this.panelElement.style.display="flex",this.panelElement.style.flexDirection="column",this.panelElement.style.overflow="hidden",this.panelElement.style.maxHeight="600px";let e=document.createElement("pre");e.className="slice-panel-debug-overlay",e.style.position="absolute",e.style.left="8px",e.style.bottom="8px",e.style.right="8px",e.style.maxHeight="120px",e.style.overflow="auto",e.style.background="rgba(0,0,0,0.6)",e.style.color="white",e.style.fontSize="11px",e.style.padding="8px",e.style.borderRadius="6px",e.style.zIndex="200",e.style.display="none",e.title="SlicePanel debug (click to show/hide)",e.addEventListener("click",()=>{e.style.display=e.style.display==="none"?"block":"none"}),this.panelElement.appendChild(e);let t=document.createElement("div");t.className="slice-panel-resizer",t.style.position="absolute",t.style.top="0",t.style.right="0",t.style.bottom="0",t.style.width="6px",t.style.cursor="col-resize",t.style.zIndex="100",this.panelElement.appendChild(t);let i=null,n=null,s=p=>{if(i==null||n==null)return;let g=p.pageX-i,f=Math.max(160,n+g);this.panelElement.style.width=f+"px"},l=()=>{if(i!=null){document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",l);try{localStorage.setItem("ghProjects.slicePanel.width",this.panelElement.style.width)}catch{}i=null,n=null}};t.addEventListener("mousedown",p=>{p.preventDefault(),i=p.pageX,n=this.panelElement?this.panelElement.offsetWidth:280,document.addEventListener("mousemove",s),document.addEventListener("mouseup",l)});let a=document.createElement("div");a.style.padding="12px",a.style.borderBottom="1px solid var(--vscode-sideBar-border)",a.style.display="flex",a.style.flexDirection="column",a.style.gap="8px";let r=document.createElement("div");r.style.display="flex",r.style.alignItems="center",r.style.gap="8px";let u=document.createElement("span");u.textContent="Slice by",u.style.fontSize="11px",u.style.fontWeight="600",u.style.color="var(--vscode-descriptionForeground)",u.style.textTransform="uppercase",u.style.letterSpacing="0.5px",r.appendChild(u);let d=document.createElement("button");d.textContent=this.field.name,d.style.flex="1",d.style.padding="6px 12px",d.style.background="var(--vscode-button-secondaryBackground)",d.style.color="var(--vscode-button-secondaryForeground)",d.style.border="1px solid var(--vscode-button-border)",d.style.borderRadius="4px",d.style.cursor="pointer",d.style.fontSize="13px",d.style.fontWeight="500",d.style.textAlign="left",d.style.display="flex",d.style.justifyContent="space-between",d.style.alignItems="center";let o=document.createElement("span");o.textContent="\u25BC",o.style.fontSize="10px",o.style.marginLeft="auto",d.appendChild(o),d.addEventListener("click",p=>{p.stopPropagation(),this.showFieldDropdown(d)}),r.appendChild(d),a.appendChild(r),this.panelElement.appendChild(a);let c=document.createElement("div");c.style.flex="1",c.style.overflow="auto",c.style.padding="8px",this.renderValues(c),this.panelElement.appendChild(c),this.container.appendChild(this.panelElement)}showFieldDropdown(e,t){let i=new Set(["assignees","single_select","parent_issue","iteration","number","date","milestone","repository","labels","text","single_line_text"]),n=this.allFields.filter(r=>{let u=(r.dataType||"").toLowerCase();return i.has(u)});if(n.length===0)return;let s=document.createElement("div");s.style.position="absolute";let l=t||e.getBoundingClientRect();t?(s.style.top=`${l.top}px`,s.style.left=`${l.right+4}px`):(s.style.top=`${l.bottom+4}px`,s.style.left=`${l.left}px`),s.style.minWidth=`${e.offsetWidth}px`,s.style.background="var(--vscode-dropdown-background)",s.style.border="1px solid var(--vscode-dropdown-border)",s.style.borderRadius="4px",s.style.boxShadow="0 4px 8px rgba(0,0,0,0.2)",s.style.zIndex="1000",s.style.maxHeight="300px",s.style.overflowY="auto",n.forEach(r=>{let u=document.createElement("div");u.style.display="flex",u.style.alignItems="center";let d=document.createElement("span");d.style.display="inline-block",d.style.width="14px",d.style.marginRight="8px",d.style.textAlign="center",d.textContent=r.id===this.field.id?"\u2713":"",d.style.color="var(--vscode-menu-selectionForeground)",u.appendChild(d);let o=document.createElement("span");o.style.display="inline-flex",o.style.alignItems="center",o.style.justifyContent="center",o.style.width="18px",o.style.marginRight="8px",o.innerHTML=this.getIconForDataType((r.dataType||"").toString().toLowerCase()),u.appendChild(o);let c=document.createElement("span");c.textContent=r.name,u.appendChild(c),u.style.padding="8px 12px",u.style.cursor="pointer",u.style.fontSize="13px",u.style.color="var(--vscode-dropdown-foreground)",r.id===this.field.id&&(u.style.background="var(--vscode-list-activeSelectionBackground)",u.style.color="var(--vscode-list-activeSelectionForeground)"),u.addEventListener("mouseenter",()=>{r.id!==this.field.id&&(u.style.background="var(--vscode-list-hoverBackground)")}),u.addEventListener("mouseleave",()=>{r.id!==this.field.id&&(u.style.background="transparent")}),u.addEventListener("click",()=>{this.field=r;let p=s.querySelectorAll("div");n.forEach((g,f)=>{let b=p[f];if(!b)return;let v=b.querySelector("span:first-child");g.id===this.field.id?(v.textContent="\u2713",b.style.background="var(--vscode-list-activeSelectionBackground)",b.style.color="var(--vscode-list-activeSelectionForeground)"):(v.textContent="",b.style.background="transparent",b.style.color="var(--vscode-dropdown-foreground)")}),this.render(),this.onFieldChangeCallback&&this.onFieldChangeCallback(r);try{window.__sliceMenuRefresh&&window.__sliceMenuRefresh()}catch{}}),s.appendChild(u)});let a=document.createElement("div");a.style.position="fixed",a.style.top="0",a.style.left="0",a.style.right="0",a.style.bottom="0",a.style.zIndex="999",a.addEventListener("click",()=>{s.remove(),a.remove()}),document.body.appendChild(a),document.body.appendChild(s)}openFieldDropdown(e){try{if(!this.panelElement)return;let t=this.panelElement.querySelector("button");if(!t)return;this.showFieldDropdown(t,e)}catch{}}getIconForDataType(e){if(typeof window.getIconNameForDataType=="function"&&typeof window.getIconSvg=="function"){let t=window.getIconNameForDataType(e);return window.getIconSvg(t)}return"<span></span>"}renderValues(e){let t=this.getValueCounts();if(t.size===0){let s=document.createElement("div");s.textContent="No values",s.style.padding="8px",s.style.color="var(--vscode-descriptionForeground)",e.appendChild(s);return}let i=Array.from(t.entries()).sort((s,l)=>l[1].count-s[1].count),n=s=>{let l={resolved:null,statusColor:null,number:null,title:null,done:0,total:0,pct:0};if(!s)return l;let a=[];s.number&&a.push(String(s.number)),s.id&&a.push(String(s.id)),s.url&&a.push(String(s.url)),s.title&&a.push(String(s.title));let r=this.items.find(d=>{let o=d&&(d.content||d.raw&&d.raw.itemContent)||null;if(!o)return!1;let c=[];o.number&&c.push(String(o.number)),o.id&&c.push(String(o.id)),o.url&&c.push(String(o.url)),o.title&&c.push(String(o.title)),o.name&&c.push(String(o.name)),o.raw&&o.raw.number&&c.push(String(o.raw.number)),o.raw&&o.raw.id&&c.push(String(o.raw.id)),o.raw&&o.raw.url&&c.push(String(o.raw.url));for(let p of a)for(let g of c)if(p&&g&&String(p)===String(g))return!0;return!1});if(!r)return l;l.resolved=r;let u=r.content||r.raw&&r.raw.itemContent||null;if(l.title=u&&(u.title||u.name)?u.title||u.name:r.title||r.name||null,l.number=u&&u.number?String(u.number):r.number||r.id||null,Array.isArray(r.fieldValues)){let d=r.fieldValues.find(c=>c&&c.type==="single_select"&&c.option&&c.option.name);if(d&&d.option)try{let c=d.option.color||d.option.id||d.option.name||null;l.statusColor=G(c)||null}catch{}let o=r.fieldValues.find(c=>c&&(c.type==="sub_issues_progress"||c.total!=null&&c.done!=null));o&&o.total!=null&&(l.total=Number(o.total||0),l.done=Number(o.done||0),l.pct=l.total>0?Math.round(l.done/l.total*100):0)}return l};i.forEach(([s,{value:l,count:a,rawValue:r}])=>{let u=document.createElement("div");u.className="slice-value-item",u.style.padding="10px 12px",u.style.cursor="pointer",u.style.borderRadius="4px",u.style.marginBottom="4px",u.style.display="flex",u.style.alignItems="center",u.style.gap="8px",u.style.transition="background-color 0.15s ease";let d=(this.field.dataType||"").toLowerCase(),o=null;d==="parent_issue"&&r&&(o=r.parent||r.parentIssue||r.issue||r.item||r.value||r);let c=document.createElement("div");c.style.display="flex",c.style.alignItems="center",c.style.gap="8px",c.style.flex="0 0 auto";let p=h=>{let y=document.createElement("span");return y.style.display="inline-block",y.style.width="12px",y.style.height="12px",y.style.borderRadius="50%",y.style.flexShrink="0",y.style.backgroundColor=h||"var(--vscode-descriptionForeground)",y},g=!1;if(d==="assignees"&&r){let h=r,y=h&&(h.avatarUrl||h.avatar||h.imageUrl||h.avatar_url);if(y){let x=document.createElement("span");x.innerHTML='<span title="'+_(h.login||h.name||h.id||"")+'" style="display:inline-block;width:20px;height:20px;border-radius:50%;overflow:hidden;background-size:cover;background-position:center;background-image:url('+_(y)+');border:2px solid var(--vscode-editor-background)"></span>',c.appendChild(x),g=!0}else c.appendChild(p(null)),g=!0}if(!g&&d==="repository"){let h=document.createElement("span");h.innerHTML='<svg width="14" height="14" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" style="flex-shrink:0;color:var(--vscode-icon-foreground)"><path fill="currentColor" d="M2 2.5A1.5 1.5 0 0 1 3.5 1h9A1.5 1.5 0 0 1 14 2.5v11A1.5 1.5 0 0 1 12.5 15h-9A1.5 1.5 0 0 1 2 13.5v-11zM3.5 2A.5.5 0 0 0 3 2.5V4h10V2.5a.5.5 0 0 0-.5-.5h-9z"/></svg>',c.appendChild(h),g=!0}if(!g&&d==="parent_issue"){let h=o?n(o):null,y=h&&h.statusColor?h.statusColor:null;if(!y&&o&&(y=G(o.color||o.option&&o.option.color||o.statusColor||o.status?.color)||null),o&&(o.title||o.name||o.number||h&&(h.title||h.number))){let x=p(y);c.appendChild(x),g=!0}}if(!g&&d==="labels"&&r){let h=r,y=h&&(h.color||h.colorName||h.hex||h.name),x=G(y);c.appendChild(p(x)),g=!0}if(!g){let h=null;if(d==="single_select"&&r&&r.option&&(h=r.option.color||r.option.name||r.option.id),!h&&r&&(r.color||r.colorName)&&(h=r.color||r.colorName),!h&&Array.isArray(this.field.options))try{let x=(this.field.options||[]).find(M=>String(M.name)===String(s)||String(M.id)===String(r&&(r.optionId||r.option&&r.option.id)));x&&(h=x.color||x.name||x.id)}catch{}if(!h&&this.field&&this.field.configuration&&Array.isArray(this.field.configuration.iterations))try{let x=(this.field.configuration.iterations||[]).find(M=>String(M.title)===String(s)||String(M.id)===String(r&&(r.iterationId||r.iteration&&r.iteration.id)));x&&(h=x.color||x.name||x.title||x.id)}catch{}let y=G(h);c.appendChild(p(y))}u.appendChild(c);let f=document.createElement("div");f.style.flex="1",f.style.display="flex",f.style.flexDirection="column",f.style.minWidth="0";let b=null;if(d!=="parent_issue"&&(b=document.createElement("span"),b.textContent=s,b.style.fontSize="13px",b.style.fontWeight="500",b.style.whiteSpace="normal",b.style.wordBreak="break-word",b.style.overflow="hidden",f.appendChild(b)),d==="single_select"){let h=null;try{if(r&&r.option&&r.option.description)h=r.option.description;else if(Array.isArray(this.field.options)){let y=(this.field.options||[]).find(x=>String(x.name)===String(s)||String(x.id)===String(r&&(r.optionId||r.option&&r.option.id)));y&&y.description&&(h=y.description)}}catch{}if(h){let y=document.createElement("span");y.textContent=h,y.style.fontSize="11px",y.style.color="var(--vscode-descriptionForeground)",y.style.whiteSpace="normal",y.style.wordBreak="break-word",y.style.overflow="hidden",y.style.maxHeight="3.6em",f.appendChild(y)}}if(d==="parent_issue"&&r){let h=o||r.parent||r.parentIssue||r.issue||r.item||r.value||null,y=n(h),x=y.title||h&&(h.title||h.name)||s,M=document.createElement("div");M.style.display="flex",M.style.gap="8px",M.style.alignItems="baseline";let E=document.createElement("span"),S=String(x).slice(0,120);if(E.textContent=y.number?`${S} #${String(y.number)}`:S,E.style.fontSize="13px",E.style.fontWeight="600",E.style.whiteSpace="normal",E.style.wordBreak="break-word",M.appendChild(E),f.appendChild(M),y.total&&y.total>0){let w=document.createElement("div");w.style.display="flex",w.style.alignItems="center",w.style.gap="8px",w.style.marginTop="6px";let T=document.createElement("div");T.textContent=`${y.done}/${y.total}`,T.style.color="var(--vscode-descriptionForeground)",T.style.fontSize="12px",T.style.fontVariantNumeric="tabular-nums",w.appendChild(T);let I=document.createElement("div");I.style.display="inline-block",I.style.width="120px",I.style.height="10px",I.style.background="transparent",I.style.border="1px solid var(--vscode-focusBorder)",I.style.borderRadius="6px",I.style.overflow="hidden";let A=document.createElement("div");A.style.height="100%",A.style.width=String(y.pct)+"%",A.style.background="var(--vscode-focusBorder)",I.appendChild(A),w.appendChild(I),f.appendChild(w)}}if(d==="iteration")try{let h=r&&(r.iteration||r.configuration||r)||null,y=null;if(h&&h.startDate&&(h.duration||h.length))y=h;else if(this.field&&this.field.configuration&&Array.isArray(this.field.configuration.iterations)){let x=(this.field.configuration.iterations||[]).find(M=>String(M.title||M.name)===String(s)||String(M.id)===String(r&&(r.iterationId||r.iteration&&r.iteration.id)));x&&(y=x)}if(y){let x=y.startDate||y.start,M=y.duration||y.length||y.days;if(x&&M){let E=new Date(x),S=new Date(E.getTime()+Number(M||0)*24*60*60*1e3),w=E.toLocaleDateString("en-US",{month:"short",day:"numeric"}),T=S.toLocaleDateString("en-US",{month:"short",day:"numeric"}),I=document.createElement("div");I.textContent=`${w} \u2014 ${T}`,I.style.fontSize="11px",I.style.color="var(--vscode-descriptionForeground)",I.style.marginTop="4px",f.appendChild(I)}}}catch{}u.appendChild(f);let v=document.createElement("span");v.style.display="inline-flex",v.style.alignItems="center",v.style.justifyContent="center",v.style.minWidth="24px",v.style.height="24px",v.style.borderRadius="50%",v.style.background="var(--vscode-input-background)",v.style.border="1px solid var(--vscode-panel-border)",v.style.color="var(--vscode-foreground)",v.style.fontSize="12px",v.style.fontWeight="600",v.style.padding="0 6px",v.style.boxSizing="border-box",v.textContent=String(a),u.appendChild(v),u.addEventListener("mouseenter",()=>{u.style.background="var(--vscode-list-hoverBackground)"}),u.addEventListener("mouseleave",()=>{u.style.background="transparent"}),u.addEventListener("click",()=>{this.onValueSelectCallback&&this.onValueSelectCallback(l)}),e.appendChild(u)})}getValueCounts(){let e=new Map,t=(this.field.dataType||"").toLowerCase();return this.items.forEach(i=>{let n=i.fieldValues?.find(u=>u.fieldId===this.field.id||u.fieldName===this.field.name);if(!n){let u="(empty)",d=e.get(u);d?d.count++:e.set(u,{value:null,count:1,rawValue:null});return}if(t==="labels"){let u=n.labels&&Array.isArray(n.labels.nodes)?n.labels.nodes:Array.isArray(n.labels)?n.labels:null;if(Array.isArray(u)&&u.length>0){u.forEach(d=>{let o=d&&(d.name||d.title)?String(d.name||d.title):"(empty)",c=this.formatValue(o),p=e.get(c);p?p.count++:e.set(c,{value:o,count:1,rawValue:d})});return}}if(t==="assignees"){let u=n.assignees||(n.assignee?[n.assignee]:null);if(Array.isArray(u)&&u.length>0){u.forEach(d=>{let o=String(d.login||d.name||d.id||"(unknown)"),c=this.formatValue(o),p=e.get(c);p?p.count++:e.set(c,{value:d,count:1,rawValue:d})});return}}let s=null,l=null;try{if(t==="single_select")s=n.option?.name||n.name||n.value,l=n;else if(t==="iteration")s=n.iteration?.title||n.title||n.value,l=n;else if(t==="parent_issue"){let u=n.parent||n.parentIssue||n.issue||n.item||n.value||null;u&&(s=u.title||u.name||u.number||u.id||u.url||null),l=u||n}else t==="milestone"?(s=n.milestone?.title||n.milestone?.name||n.value||null,l=n.milestone||n):t==="repository"?(s=n.repository?.nameWithOwner||n.repository?.full_name||n.repository?.name||n.value||null,l=n.repository||n):t==="number"?(s=n.number!=null?n.number:n.value,l=n):t==="date"?(s=n.date||n.value||null,l=n):(s=n.text||n.title||n.value||null,l=n)}catch{s=n.text||n.title||n.value||null,l=n}let a=s==null||s===""?"(empty)":this.formatValue(s),r=e.get(a);r?r.count++:e.set(a,{value:s,count:1,rawValue:l})}),e}extractValue(e){let t=(this.field.dataType||"").toLowerCase();return e?t==="single_select"?e.option?.name||e.name||e.value:t==="iteration"?e.iteration?.title||e.title||e.value:t==="assignees"?e.assignees||e.assignee||null:t==="labels"?e.labels||null:t==="parent_issue"?e.parent||e.parentIssue||e.issue||e.item||e.value||null:t==="milestone"?e.milestone||e.value||null:t==="repository"?e.repository||e.value||null:t==="number"?e.number!=null?e.number:e.value:t==="date"?e.date||e.value||null:e.text||e.title||e.value||null:null}formatValue(e){return e==null?"(empty)":String(e)}onValueSelect(e){this.onValueSelectCallback=e}onFieldChange(e){this.onFieldChangeCallback=e}close(){this.panelElement&&(this.panelElement.remove(),this.panelElement=null)}};var Fe=class{constructor(e){this.buttonEl=null;this.menuEl=null;this.backdropEl=null;this.openSubmenuEl=null;this.externalSubmenuRefresh=null;this.anchorElement=e.anchorElement,this.itemsSource=e.items||[],this.attachButton()}attachButton(){let e=document.createElement("button");e.className="active-tab-menu-button",e.type="button",e.title="Open view menu",e.style.border="none",e.style.background="transparent",e.style.padding="0 4px",e.style.marginLeft="8px",e.style.cursor="pointer",e.style.display="inline-flex",e.style.alignItems="center";try{let n=window.getComputedStyle(this.anchorElement);n&&n.color&&(e.style.color=n.color)}catch{}let t=document.createElement("span");t.style.display="inline-flex",t.style.alignItems="center",t.style.justifyContent="center",t.style.height="16px",t.style.width="16px",t.style.lineHeight="1",t.innerHTML=window.getIconSvg?.("triangle-down")||"",t.querySelectorAll("svg").forEach(n=>n.setAttribute("fill","currentColor")),e.appendChild(t),e.addEventListener("click",n=>{n.stopPropagation(),this.toggle()}),this.buttonEl=e,this.anchorElement.parentElement&&this.anchorElement.parentElement.insertBefore(e,this.anchorElement.nextSibling)}toggle(){this.menuEl?this.hide():this.show()}show(){try{U.closeAll()}catch{}this.hide(),this.backdropEl=document.createElement("div"),this.backdropEl.style.position="fixed",this.backdropEl.style.top="0",this.backdropEl.style.left="0",this.backdropEl.style.right="0",this.backdropEl.style.bottom="0",this.backdropEl.style.zIndex="998",this.backdropEl.addEventListener("click",()=>this.hide()),this.backdropEl.dataset.menuType="active-tab-menu",document.body.appendChild(this.backdropEl),this.menuEl=document.createElement("div"),this.menuEl.className="active-tab-menu",this.menuEl.dataset.menuType="active-tab-menu",this.menuEl.style.position="absolute",this.menuEl.style.background="var(--vscode-menu-background)",this.menuEl.style.border="1px solid var(--vscode-menu-border)",this.menuEl.style.borderRadius="4px",this.menuEl.style.boxShadow="0 2px 8px rgba(0,0,0,0.15)",this.menuEl.style.width="320px",this.menuEl.style.padding="4px 0",this.menuEl.style.zIndex="1000",this.menuEl.style.fontSize="13px",document.body.appendChild(this.menuEl);let e=typeof this.itemsSource=="function"?this.itemsSource():this.itemsSource;this.buildMenu(this.menuEl,e);let t=(this.buttonEl||this.anchorElement).getBoundingClientRect(),i=this.menuEl.getBoundingClientRect(),n=8,s=window.innerWidth||document.documentElement.clientWidth,l=window.innerHeight||document.documentElement.clientHeight,a=t.bottom+n;t.bottom+i.height+n>l&&(t.top-i.height-n>=0?a=t.top-i.height-n:a=Math.max(n,Math.min(l-i.height-n,t.bottom+n)));try{U.register(this.menuEl,this.refresh.bind(this))}catch{}let r=t.left;t.left+i.width+n>s&&(r=Math.max(n,t.right-i.width)),r=Math.max(n,Math.min(r,s-i.width-n)),this.menuEl.style.top=`${Math.round(a)}px`,this.menuEl.style.left=`${Math.round(r)}px`}hide(){this.menuEl&&(this.menuEl.remove(),this.menuEl=null),this.backdropEl&&(this.backdropEl.remove(),this.backdropEl=null),this.closeOpenSubmenu()}refresh(){if(this.menuEl){this.menuEl.innerHTML="";let e=typeof this.itemsSource=="function"?this.itemsSource():this.itemsSource;this.buildMenu(this.menuEl,e);try{this.externalSubmenuRefresh&&this.externalSubmenuRefresh()}catch{}}}destroy(){try{this.hide()}catch{}if(this.buttonEl){try{this.buttonEl.remove()}catch{}this.buttonEl=null}}buildMenu(e,t){t.forEach(i=>{let n=document.createElement("div");if(n.className="active-tab-menu-item",n.style.display="flex",n.style.alignItems="center",n.style.padding="6px 12px",n.style.cursor="pointer",n.style.color="var(--vscode-menu-foreground)",i.iconName&&window.getIconSvg){let l=document.createElement("span");l.style.display="inline-flex",l.style.alignItems="center",l.style.justifyContent="center",l.style.marginRight="8px",l.innerHTML=window.getIconSvg(i.iconName)||"";try{l.querySelectorAll&&l.querySelectorAll("svg").forEach(a=>a.setAttribute("fill","currentColor"))}catch{}n.appendChild(l)}let s=document.createElement("div");if(s.style.flex="1",s.style.minWidth="0",s.style.overflow="hidden",s.style.whiteSpace="nowrap",s.style.textOverflow="ellipsis",s.style.marginRight="8px",i.info){let l=document.createElement("span");l.style.fontWeight="600",l.textContent=i.label+": ",s.appendChild(l);let a=document.createElement("span");a.style.opacity="0.7",a.textContent=i.info,s.appendChild(a)}else s.style.fontWeight="500",s.textContent=i.label;if(n.appendChild(s),i.children&&i.children.length||i.forceChevron){let l=document.createElement("span");l.innerHTML=window.getIconSvg?.("chevron-right")||"\u203A",l.style.marginLeft="auto",l.style.flex="0 0 auto",l.style.opacity="0.7",n.appendChild(l),i.children&&i.children.length&&(n.addEventListener("mouseenter",a=>{this.openSubmenuForRow(n,i.children)}),n.addEventListener("mouseleave",a=>{}))}i.children&&i.children.length||n.addEventListener("click",l=>{try{l.stopPropagation()}catch{}try{try{this.closeOpenSubmenu()}catch{}try{document.querySelectorAll(".roadmap-dropdown-menu").forEach(u=>u.remove())}catch{}let a=n.getBoundingClientRect(),r=i.onClick?i.onClick(n,a):void 0;r&&typeof r.then=="function"?r.then(u=>{u||this.hide()}).catch(()=>this.hide()):r||this.hide()}catch{try{this.hide()}catch{}}}),n.addEventListener("mouseenter",()=>{n.style.background="var(--vscode-menu-selectionBackground)",n.style.color="var(--vscode-menu-selectionForeground)"}),n.addEventListener("mouseleave",()=>{n.style.background="transparent",n.style.color="var(--vscode-menu-foreground)"}),e.appendChild(n)})}openSubmenuForRow(e,t){if(this.closeOpenSubmenu(),!this.menuEl)return;let i=document.createElement("div");i.className="active-tab-submenu",i.style.position="absolute",i.style.background="var(--vscode-menu-background)",i.style.border="1px solid var(--vscode-menu-border)",i.style.borderRadius="4px",i.style.boxShadow="0 2px 8px rgba(0,0,0,0.15)",i.style.minWidth="160px",i.style.padding="4px 0",i.style.zIndex="1001",i.style.fontSize="13px",document.body.appendChild(i),this.buildMenu(i,t);let n=e.getBoundingClientRect(),s=i.getBoundingClientRect(),l=this.menuEl.getBoundingClientRect(),a=window.innerWidth||document.documentElement.clientWidth,r=window.innerHeight||document.documentElement.clientHeight,u=4,d=n.top;d+s.height>r&&(d=Math.max(u,Math.min(r-s.height-u,d)));try{document.querySelectorAll(".roadmap-dropdown-menu").forEach(c=>c.remove())}catch{}let o=n.right+4;o+s.width>a&&(o=n.left-s.width-4,o<u&&(o=Math.max(u,Math.min(l.right+4,a-s.width-u)))),i.style.top=`${Math.round(d)}px`,i.style.left=`${Math.round(o)}px`,this.openSubmenuEl=i,i.addEventListener("mouseleave",()=>{setTimeout(()=>{this.openSubmenuEl===i&&this.closeOpenSubmenu()},150)})}closeOpenSubmenu(){this.openSubmenuEl&&(this.openSubmenuEl.remove(),this.openSubmenuEl=null,this.externalSubmenuRefresh=null)}registerExternalSubmenu(e,t){try{this.closeOpenSubmenu()}catch{}if(e){this.openSubmenuEl=e,this.externalSubmenuRefresh=t||null;try{U.register(e,t||null)}catch{}}}},Ye=Fe;function et(){let m=document.getElementById("tabs-container");if(!m)return;let e=null,t=m;function i(l){if(!l)return;let a=l.__activeTabMenu;if(a&&typeof a.destroy=="function")try{a.destroy()}catch{}try{let r=l.__activeTabMenuDateListener;if(r){try{window.removeEventListener("roadmap:dateFieldsChanged",r)}catch{}try{window.removeEventListener("roadmap:zoomChanged",r)}catch{}}}catch{}try{delete l.__activeTabMenu,delete l.__activeTabMenuDateListener}catch{}}function n(){let l=t.querySelector(".tab.active");if(!l){i(e),e=null;return}let a=l.getAttribute("data-layout");if(!a){i(e),e=null;return}let r=l.querySelector(".tab-label");if(!r)return;if(r.__activeTabMenu){e=r;return}i(e);let u=l.getAttribute("data-viewkey")||null,d=()=>{let o=u&&window.__viewStates?window.__viewStates[u]:null,c="";if(o&&o.fields){let b=new Set(Array.from(o.visibleFieldIds||[]));c=o.fields.filter(h=>b.has(String(h.id))).map(h=>h.name).join(", ")}let p="";o&&o.current&&(p=o.current);let g="";o&&o.currentColumn&&(g=o.currentColumn);let f=[];if((a==="table"||a==="board")&&f.push({label:"Fields",info:c,forceChevron:!0,iconName:"note",onClick:(b,v)=>Promise.resolve().then(()=>(Je(),Xe)).then(({FieldsMenu:h})=>{try{try{r.__activeTabMenu&&r.__activeTabMenu.closeOpenSubmenu&&r.__activeTabMenu.closeOpenSubmenu()}catch{}let y=o&&o.fields||[],x=new Set(o&&o.visibleFieldIds?Array.from(o.visibleFieldIds).map(S=>String(S)):[]),E=new h({fields:(y||[]).map(S=>({id:String(S.id),name:S.name,iconClass:S.iconClass,dataType:S.dataType,locked:S.name==="Title"})),visibleFieldIds:x,onToggleVisibility:(S,w)=>{try{o&&typeof o.onToggleVisibility=="function"&&o.onToggleVisibility(String(S),w),setTimeout(()=>{let T=r.__activeTabMenu;T&&typeof T.refresh=="function"&&T.refresh()},50)}catch{}}}).show(b||r,v);try{let S=r.__activeTabMenu;if(S&&typeof S.registerExternalSubmenu=="function"&&E&&E.el)try{S.registerExternalSubmenu(E.el,E.refresh)}catch{}}catch{}}catch{}return!0}).catch(()=>!1)}),a==="board"&&f.push({label:"Column by",info:g,forceChevron:!0,iconName:"columns",onClick:(b,v)=>Promise.resolve().then(()=>(Be(),Ne)).then(({default:h})=>{try{try{r.__activeTabMenu&&r.__activeTabMenu.closeOpenSubmenu&&r.__activeTabMenu.closeOpenSubmenu()}catch{}let x=(o&&o.fields||[]||[]).filter(S=>{let w=String(S.dataType||S.type||"").toLowerCase();return w==="single_select"||w.includes("iteration")}),E=new h({title:"Column by",fields:(x||[]).map(S=>({id:String(S.id),name:S.name,iconClass:S.iconClass,dataType:S.dataType})),items:o&&o.items?o.items:[],current:o&&o.currentColumn?o.currentColumn:null,onSelect:S=>{try{o&&typeof o.onSetColumnBy=="function"&&o.onSetColumnBy(S),setTimeout(()=>{let w=r.__activeTabMenu;w&&typeof w.refresh=="function"&&w.refresh()},50)}catch{}}}).show(b||r,v);try{let S=r.__activeTabMenu;if(S&&typeof S.registerExternalSubmenu=="function"&&E&&E.el)try{S.registerExternalSubmenu(E.el,E.refresh)}catch{}}catch{}}catch{}return!0}).catch(()=>!1)}),f.push({label:a==="board"?"Swimlanes":"Group by",info:p,forceChevron:!0,iconName:"rows",onClick:(b,v)=>Promise.resolve().then(()=>(Be(),Ne)).then(({default:h})=>{try{try{r.__activeTabMenu&&r.__activeTabMenu.closeOpenSubmenu&&r.__activeTabMenu.closeOpenSubmenu()}catch{}let x=(o&&o.fields||[]||[]).filter(S=>{let w=String(S.dataType||S.type||S.name||"").toLowerCase();return!!(w.includes("assign")||w.includes("assignee")||w.includes("repo")||w.includes("repository")||w.includes("parent")||w.includes("num")||w.includes("number")||w.includes("numeric")||w.includes("iteration")||w.includes("single")&&w.includes("select")||w.includes("milestone")||w.includes("date")||w.includes("text"))}),E=new h({title:a==="board"?"Swimlanes":"Group by",fields:(x||[]).map(S=>({id:String(S.id),name:S.name,iconClass:S.iconClass,dataType:S.dataType})),items:o&&o.items?o.items:[],current:o&&(o.current||o.currentGrouping)?o.current||o.currentGrouping:null,onSelect:S=>{try{o&&typeof o.onSetGroupBy=="function"&&o.onSetGroupBy(S),setTimeout(()=>{let w=r.__activeTabMenu;w&&typeof w.refresh=="function"&&w.refresh()},50)}catch{}}}).show(b||r,v);try{let S=r.__activeTabMenu;if(S&&typeof S.registerExternalSubmenu=="function"&&E&&E.el)try{S.registerExternalSubmenu(E.el,E.refresh)}catch{}}catch{}}catch{}return!0}).catch(()=>!1)}),a==="roadmap"){let b="";try{let v=o&&o.roadmapRenderer;if(v&&typeof v.getActiveMarkers=="function"){let h=v.getActiveMarkers();Array.isArray(h)&&h.length>0?b=h.map(x=>{if(String(x)==="milestones")return"Milestones";let M=o&&o.fields?o.fields.find(E=>String(E.id)===String(x)||E.name===x):null;return M?M.name:String(x)}).join(", "):b="None"}}catch{}f.push({label:"Markers",info:b,forceChevron:!0,iconName:"location",onClick:(v,h)=>{try{let y=o&&o.roadmapRenderer;if(y&&typeof y.showMarkersMenu=="function"){try{document.querySelectorAll(".roadmap-dropdown-menu").forEach(M=>M.remove())}catch{}try{r.__activeTabMenu&&r.__activeTabMenu.closeOpenSubmenu&&r.__activeTabMenu.closeOpenSubmenu()}catch{}let x={currentTarget:h?{getBoundingClientRect:()=>h}:v||r};try{let M=y.showMarkersMenu(x),E=r.__activeTabMenu;if(M&&M.el&&E&&typeof E.registerExternalSubmenu=="function")try{E.registerExternalSubmenu(M.el,M.refresh)}catch{}}catch{}}}catch{}return!0}})}if(a==="table"||a==="board"||a==="roadmap"){let b="None",v=null;try{let h=o&&(o.currentSort||o.currentSortName);if(h)if(typeof h=="string"){let y=(o&&o.fields?o.fields:[]).find(x=>String(x.id)===String(h)||x.name===h);y?(b=y.name||String(y.id),v=String(y.id)):(b="None",v=null)}else if(typeof h=="object"&&h.fieldId){let y=(o&&o.fields?o.fields:[]).find(x=>String(x.id)===String(h.fieldId));y?(b=y.name||String(y.id),v=String(y.id)):(b="None",v=null)}else b="None",v=null;else b="None",v=null}catch{b="None",v=null}f.push({label:"Sort by",info:b,forceChevron:!0,iconName:"arrow-up-down",onClick:(h,y)=>Promise.resolve().then(()=>(Ke(),Qe)).then(({SortByMenu:x})=>{try{try{r.__activeTabMenu&&r.__activeTabMenu.closeOpenSubmenu&&r.__activeTabMenu.closeOpenSubmenu()}catch{}let M=o&&o.fields||[],S=new x({fields:(M||[]).map(w=>({id:String(w.id),name:w.name,iconClass:w.iconClass,dataType:w.dataType})),current:v,onSelect:w=>{try{o&&typeof o.onSetSort=="function"&&o.onSetSort(w),setTimeout(()=>{let T=r.__activeTabMenu;T&&typeof T.refresh=="function"&&T.refresh()},50)}catch{}}}).show(h||r,y);try{let w=r.__activeTabMenu;if(w&&typeof w.registerExternalSubmenu=="function"&&S&&S.el)try{w.registerExternalSubmenu(S.el,S.refresh)}catch{}}catch{}}catch{}return!0}).catch(()=>!1)})}if(a==="table"||a==="board")try{let b="";try{let v=o&&(o.groupDivisors||null);if(Array.isArray(v)&&v.length>0){let h=o&&o.fields||[];b=v.map(x=>{if(String(x)==="__count__")return"Count";let M=(h||[]).find(E=>String(E.id)===String(x)||E.name===x);return M?M.name:String(x)}).join(", ")}else v===null&&(b="None")}catch{}f.push({label:"Field sum",info:b,forceChevron:!0,iconName:"number",onClick:(v,h)=>Promise.resolve().then(()=>(Ze(),ze)).then(({default:y,FieldSumMenu:x})=>{try{try{r.__activeTabMenu&&r.__activeTabMenu.closeOpenSubmenu&&r.__activeTabMenu.closeOpenSubmenu()}catch{}let M=o&&o.fields||[],E=o&&(o.groupDivisors||[])||[],w=new(x||y)({fields:(M||[]).map(T=>({id:String(T.id),name:T.name,dataType:T.dataType})),current:Array.isArray(E)?E:[],title:"Field sum",onChange:T=>{try{o&&typeof o.onSetGroupDivisors=="function"&&o.onSetGroupDivisors(T&&T.length?T:null),setTimeout(()=>{let I=r.__activeTabMenu;I&&typeof I.refresh=="function"&&I.refresh()},50)}catch{}}}).show(v||r,h);try{let T=r.__activeTabMenu;if(T&&typeof T.registerExternalSubmenu=="function"&&w&&w.el)try{T.registerExternalSubmenu(w.el,w.refresh)}catch{}}catch{}}catch{}return!0}).catch(()=>!1)})}catch{}if(a==="roadmap"){let b="";try{let v=o&&o.roadmapRenderer;if(v){let h=v.startDateFieldId||v.startDateField||null,y=v.endDateFieldId||v.endDateField||null,x=o&&o.fields||[],M=h?x.find(S=>String(S.id)===String(h))?.name:null,E=y?x.find(S=>String(S.id)===String(y))?.name:null;M&&E?b=M===E?M:`${M} & ${E}`:M?b=M:E&&(b=E)}}catch{}f.push({label:"Date",info:b,forceChevron:!0,iconName:"calendar",onClick:(v,h)=>{try{let y=o&&o.roadmapRenderer;if(y&&typeof y.showDateFieldsMenu=="function"){try{document.querySelectorAll(".roadmap-dropdown-menu").forEach(E=>E.remove())}catch{}try{r.__activeTabMenu&&r.__activeTabMenu.closeOpenSubmenu&&r.__activeTabMenu.closeOpenSubmenu()}catch{}let x=r.__activeTabMenu&&r.__activeTabMenu.menuEl?r.__activeTabMenu.menuEl:void 0,M={currentTarget:h?{getBoundingClientRect:()=>h}:v||x||r};try{let E=y.showDateFieldsMenu(M),S=r.__activeTabMenu;if(E&&E.el&&S&&typeof S.registerExternalSubmenu=="function")try{S.registerExternalSubmenu(E.el,E.refresh)}catch{}}catch{}}}catch{}return!0}});try{let v="",h=o&&o.roadmapRenderer;if(h){let y=h.zoomLevel||"month";v=y.charAt(0).toUpperCase()+y.slice(1)}f.push({label:"Zoom level",info:v,forceChevron:!0,iconName:"zoom-in",onClick:(y,x)=>{try{let M=o&&o.roadmapRenderer;if(M&&typeof M.showZoomMenu=="function"){try{document.querySelectorAll(".roadmap-dropdown-menu").forEach(w=>w.remove())}catch{}try{r.__activeTabMenu&&r.__activeTabMenu.closeOpenSubmenu&&r.__activeTabMenu.closeOpenSubmenu()}catch{}let E=r.__activeTabMenu&&r.__activeTabMenu.menuEl?r.__activeTabMenu.menuEl:void 0,S={currentTarget:x?{getBoundingClientRect:()=>x}:y||E||r};try{let w=M.showZoomMenu(S),T=r.__activeTabMenu;if(w&&w.el&&T&&typeof T.registerExternalSubmenu=="function")try{T.registerExternalSubmenu(w.el,w.refresh)}catch{}else try{let I=document.querySelector(".slice-panel");if(I&&T&&typeof T.registerExternalSubmenu=="function")try{T.registerExternalSubmenu(I,()=>{})}catch{}}catch{}}catch{}}}catch{}return!0}})}catch{}try{let v="";try{let h=o&&(o.groupDivisors||null);if(Array.isArray(h)&&h.length>0){let y=o&&o.fields||[];v=h.map(M=>{if(String(M)==="__count__")return"Count";let E=(y||[]).find(S=>String(S.id)===String(M)||S.name===M);return E?E.name:String(M)}).join(", ")}else h===null&&(v="None")}catch{}f.push({label:"Field sum",info:v,forceChevron:!0,iconName:"number",onClick:(h,y)=>Promise.resolve().then(()=>(Ze(),ze)).then(({default:x,FieldSumMenu:M})=>{try{try{r.__activeTabMenu&&r.__activeTabMenu.closeOpenSubmenu&&r.__activeTabMenu.closeOpenSubmenu()}catch{}let E=o&&o.fields||[],S=o&&(o.groupDivisors||[])||[],T=new(M||x)({fields:(E||[]).map(I=>({id:String(I.id),name:I.name,dataType:I.dataType})),current:Array.isArray(S)?S:[],title:"Field sum",onChange:I=>{try{o&&typeof o.onSetGroupDivisors=="function"&&o.onSetGroupDivisors(I&&I.length?I:null),setTimeout(()=>{let A=r.__activeTabMenu;A&&typeof A.refresh=="function"&&A.refresh()},50)}catch{}}}).show(h||r,y);try{let I=r.__activeTabMenu;if(I&&typeof I.registerExternalSubmenu=="function"&&T&&T.el)try{I.registerExternalSubmenu(T.el,T.refresh)}catch{}}catch{}}catch{}return!0}).catch(()=>!1)})}catch{}}try{let b="";try{let v=o&&(o.currentSlice||o.currentSliceField||o.slice||null);if(v)typeof v=="string"?b=v:v&&typeof v=="object"&&(b=v.name||String(v.fieldId||v.id||""));else if(u)try{let h=localStorage.getItem(`ghProjects.table.${u}.slice`);if(h){let y=JSON.parse(h);y&&y.fieldId&&(b=String(y.fieldId))}}catch{}}catch{}(a==="table"||a==="board"||a==="roadmap")&&f.push({label:"Slice by",info:b||"None",forceChevron:!0,iconName:"sliceby",onClick:(v,h)=>{try{if(o&&typeof o.showSlicePanel=="function"){try{window.__sliceMenuRefresh=()=>{let x=r.__activeTabMenu;x&&typeof x.refresh=="function"&&x.refresh()};let y=o.showSlicePanel(v,h)}catch{}return!0}try{let y=o&&o.fields||[],x=new Set(["assignees","single_select","parent_issue","iteration","number","date","milestone","repository","labels","text","single_line_text"]),M=(y||[]).find(E=>x.has(String((E.dataType||"").toLowerCase())));if(M)try{if(o&&typeof o.onSetSlice=="function")return o.onSetSlice(M.id||M.name||M),!0}catch{}}catch{}}catch{}try{let y=h||v&&v.getBoundingClientRect&&v.getBoundingClientRect();if(y){try{document.querySelectorAll(".active-tab-slice-placeholder").forEach(M=>M.remove())}catch{}let x=document.createElement("div");x.className="active-tab-slice-placeholder",x.style.position="absolute",x.style.top=Math.round(y.top)+"px",x.style.left=Math.round(y.right)+8+"px",x.style.width="8px",x.style.height="8px",x.style.zIndex="1001",x.style.pointerEvents="none",document.body.appendChild(x);try{let M=r.__activeTabMenu;M&&typeof M.registerExternalSubmenu=="function"&&M.registerExternalSubmenu(x,()=>{})}catch{}}}catch{}return!0}})}catch{}return f};try{let o=new Ye({anchorElement:r,items:d});r.__activeTabMenu=o;let c=()=>{try{let p=r.__activeTabMenu;p&&typeof p.refresh=="function"&&p.refresh()}catch{}};try{window.addEventListener("roadmap:dateFieldsChanged",c),window.addEventListener("roadmap:zoomChanged",c),window.addEventListener("roadmap:markersChanged",c),r.__activeTabMenuDateListener=c}catch{}e=r}catch{}}n(),t.addEventListener("click",()=>setTimeout(n,0)),new MutationObserver(l=>{for(let a of l){a.type==="attributes"&&n();for(let r of Array.from(a.addedNodes||[]))r.nodeType===1&&n()}}).observe(t,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["class"]})}window.__activeTabMenusInitialized||(window.__activeTabMenusInitialized=!0,document.readyState==="loading"?document.addEventListener("DOMContentLoaded",et):setTimeout(et,0));window.roadmapViewFetcher=function(m,e,t){let i=m&&(m.name||m.id)?m.name||m.id:"Roadmap View";try{Ae(e,i)}catch{}let n,s=null,l,a,r=null,u=null,d=null,o;function c(g,f){d=g,f!==void 0?o=f:f=o;let b=g||{},v=b.items||[],h=b.fields||[],y=b.allFields||h,x=e.querySelector(".slice-panel");if(e.innerHTML="",x)try{e.appendChild(x)}catch{}e.style.height="100%",e.style.display="flex",e.style.flexDirection="column";let M=document.createElement("div");M.style.flex="0 0 auto",M.appendChild(document.createElement("div"));let E=We(M,t,{suffix:t,onSave:C=>{let L=!1;if(n!==void 0&&(window.__APP_MESSAGING__&&window.__APP_MESSAGING__.postMessage({command:"setViewGrouping",viewKey:t,grouping:n}),n=void 0,L=!0),s!==null){let H=Array.from(s);window.__APP_MESSAGING__&&window.__APP_MESSAGING__.postMessage({command:"setViewHiddenFields",viewKey:t,hiddenFields:H});try{let z=t?`ghProjects.table.${t}.hiddenFields`:null;z&&localStorage.setItem(z,JSON.stringify(H))}catch{}s=null,L=!0}if(l!==void 0){window.__APP_MESSAGING__&&window.__APP_MESSAGING__.postMessage({command:"setViewGroupDivisors",viewKey:t,groupDivisors:l});try{let H=t?`ghProjects.roadmap.${t}.groupDivisors`:null;H&&(l===null?localStorage.removeItem(H):localStorage.setItem(H,JSON.stringify(l)))}catch{}l=void 0,L=!0}if(r!==null){try{window.__APP_MESSAGING__&&typeof window.__APP_MESSAGING__.postMessage=="function"&&window.__APP_MESSAGING__.postMessage({command:"setViewSlice",viewKey:t,slice:r})}catch{}try{let H=t?`ghProjects.table.${t}.slice`:null;H&&localStorage.setItem(H,JSON.stringify(r))}catch{}r=null,L=!0}L&&window.__APP_MESSAGING__&&window.__APP_MESSAGING__.postMessage({command:"requestFields",viewKey:t})},onDiscard:()=>{if(n!==void 0||s!==null||l!==void 0||r!==null){n=void 0,s=null,l=void 0,r=null;try{u&&typeof u.close=="function"&&u.close(),u=null}catch{}d&&c(d,o)}}});if(f&&E&&E.setEffectiveFilter&&E.setEffectiveFilter(f),E&&(n!==void 0||s!==null))try{E.saveBtn&&(E.saveBtn.disabled=!1,E.saveBtn.style.opacity="1",E.saveBtn.style.cursor="pointer"),E.discardBtn&&(E.discardBtn.disabled=!1,E.discardBtn.style.opacity="1",E.discardBtn.style.cursor="pointer")}catch{}e.appendChild(M);let S={...b};if(n!==void 0)if(S.details={...b.details||{}},S.details.groupByFields={...S.details.groupByFields||{}},n===null)S.details.groupByFields.nodes=[];else{let C=y.find(L=>L.name===n);C&&(S.details.groupByFields.nodes=[C])}let w;s!==null?(w=new Set,y.forEach(C=>{s.has(String(C.id))||w.add(String(C.id))})):w=new Set(h.map(C=>String(C.id)));let T=C=>{if(E&&E.inputEl){let L=String(E.inputEl.value||"").trim(),H=L?`${L} ${C}`:C;E.inputEl.value=H,E.inputEl.dispatchEvent(new Event("input",{bubbles:!0}))}},I=(C,L,H)=>{if(C==="open-menu"&&H){document.querySelectorAll(".board-context-menu").forEach(j=>j.remove());let k=document.createElement("div");k.className="board-context-menu",k.style.position="fixed";let R=Math.min(H.x,window.innerWidth-180),Le=Math.min(H.y,window.innerHeight-150);k.style.left=R+"px",k.style.top=Le+"px",k.style.background="var(--vscode-menu-background)",k.style.color="var(--vscode-menu-foreground)",k.style.border="1px solid var(--vscode-menu-border)",k.style.borderRadius="4px",k.style.zIndex="1000",k.style.padding="4px 0",((j,Te)=>{let P=document.createElement("div");P.style.padding="4px 8px",P.style.cursor="pointer",P.textContent=j,P.addEventListener("click",re=>{re.stopPropagation(),k.remove(),Te()}),P.addEventListener("mouseenter",()=>P.style.background="var(--vscode-menu-selectionBackground)"),P.addEventListener("mouseleave",()=>P.style.background="transparent"),k.appendChild(P)})("Open issue",()=>{let j=L.content?.url||L.url||L.raw&&L.raw.itemContent&&L.raw.itemContent.url;j&&window.__APP_MESSAGING__&&window.__APP_MESSAGING__.postMessage({command:"openUrl",url:j})}),document.body.appendChild(k);let J=()=>{k.remove(),document.removeEventListener("click",J)};setTimeout(()=>document.addEventListener("click",J),0)}},A=document.createElement("div");A.style.flex="1 1 auto",A.style.overflow="hidden";let Z=document.createElement("div");Z.style.flex="1 1 auto",Z.style.display="flex",Z.style.overflow="hidden",Z.appendChild(A),e.appendChild(Z);function B(){try{let C=e.querySelector(".slice-panel");C&&(Z&&A?(Z.insertBefore(C,A),Z.style.flexDirection="row",C.style.float="none",C.style.display="flex",C.style.flex="0 0 auto"):Z&&(Z.insertBefore(C,Z.firstElementChild),Z.style.flexDirection="row"))}catch{}}let N=null;if(a!==void 0)N=a||null;else if(t)try{let C=localStorage.getItem(`ghProjects.table.${t}.sortConfig`);C&&(N=JSON.parse(C))}catch{}N||(N=Re(S.details?.sortByFields));let V=v;N&&(V=je(v,y,N)),r&&(V=V.filter(C=>{let L=C.fieldValues.find(R=>String(R.fieldId)===String(r.fieldId)),H=y.find(R=>R.id===r.fieldId),z=H?(H.dataType||H.type||"").toLowerCase():"",k=null;if(!L)k=null;else if(L.text!==void 0)k=L.text;else if(L.title!==void 0)k=L.title;else if(L.number!==void 0)k=L.number;else if(L.date!==void 0)k=L.date;else if(L.option)k=L.option.name;else if(L.iteration)k=L.iteration.title;else if(L.assignees)k=L.assignees;else if(L.labels)k=L.labels;else if(z==="parent_issue"){let R=L.parent||L.parentIssue||L.issue||L.item||L.value||null;R&&(k=R.title||R.name||R.number||R.id||R.url||null)}else z==="milestone"?k=L.milestone?.title||L.milestone?.name||L.value||null:z==="repository"?k=L.repository?.nameWithOwner||L.repository?.full_name||L.repository?.name||L.value||null:k=L.value;if(r.value===null)return z==="assignees"||z==="labels"?!k||Array.isArray(k)&&k.length===0:k==null;if(z==="assignees"||z==="labels"){if(!Array.isArray(k))return!1;if(z==="assignees")return k.some(R=>R&&(R.login===r.value?.login||R.id===r.value?.id));if(z==="labels")return k.some(R=>R&&(R.name===r.value||R.id===r.value))}else return k===r.value}));let F=null;try{if(l!==void 0)F=l===null?null:l||null;else if(t)try{let C=localStorage.getItem(`ghProjects.roadmap.${t}.groupDivisors`);C&&(F=JSON.parse(C))}catch{}try{let C=S.details&&S.details.groupDivisors&&Array.isArray(S.details.groupDivisors.nodes)?S.details.groupDivisors.nodes.map(L=>String(L.id||L.name)):null;F===null&&C&&(F=C)}catch{}}catch{}let D=new Ee(V,y,Array.from(w),T,I,F);D.renderRoadmap(A,S),B();let $=null,O=S.details?.groupByFields?.nodes;O&&O.length>0&&($=O[0].name||null);try{window.__viewStates=window.__viewStates||{},window.__viewStates[t]={fields:y,items:v,visibleFieldIds:w,current:$,roadmapRenderer:D,currentSort:(()=>{try{let C=null;if(a!==void 0)C=a||null;else if(t)try{let L=localStorage.getItem(`ghProjects.table.${t}.sortConfig`);L&&(C=JSON.parse(L))}catch{}if(C||(C=Re(S.details?.sortByFields)),C&&C.fieldId){let L=y.find(H=>String(H.id)===String(C.fieldId));return L?L.name:C.fieldId}}catch{}return null})(),onSetSort:C=>{try{C===null?a=null:a={fieldId:String(C),direction:"ASC"},d&&c(d,o)}catch{}},onSetSlice:C=>{try{r=C?{fieldId:C,value:null}:null,d&&c(d,o)}catch{}},showSlicePanel:(C,L)=>{try{try{u&&typeof u.close=="function"&&u.close(),u=null}catch{}try{let k=e.querySelector(".slice-panel");k&&k.remove()}catch{}let H=new Set(["assignees","single_select","parent_issue","iteration","number","date","milestone","repository","labels","text","single_line_text"]),z=null;try{let k=r?String(r.fieldId):null;k&&(z=y.find(R=>String(R.id)===k))}catch{}if(z||(z=(y||[]).find(k=>H.has(String((k.dataType||"").toLowerCase())))),!z)return;try{u=new we(e,z,v||[],y||[]),u.render();try{console.debug&&console.debug("[roadmapViewFetcher] created activeSlicePanel, parent:",e&&e.className,"sliceElExists:",!!e.querySelector(".slice-panel"))}catch{}B(),u.onValueSelect(k=>{try{r={fieldId:z.id,value:k},d&&c(d,o)}catch{}}),u.onFieldChange(k=>{try{u&&u.close&&u.close(),u=null,r=null,k&&(r={fieldId:k.id,value:null},window.__viewStates[t]&&window.__viewStates[t].showSlicePanel&&window.__viewStates[t].showSlicePanel())}catch{}})}catch{}try{let k=e.querySelector(".slice-panel");k&&!e.contains(k)&&e.insertBefore(k,e.firstChild)}catch{}try{L&&u&&typeof u.openFieldDropdown=="function"&&u.openFieldDropdown(L)}catch{}try{let k=u&&u.panelElement?u.panelElement:null;if(k)return{el:k,refresh:()=>{try{}catch{}}}}catch{}return null}catch{}},get currentSlice(){try{let C=r?String(r.fieldId):null;if(C){let L=(y||[]).find(H=>String(H.id)===C);return L?L.name:C}if(t)try{let L=localStorage.getItem(`ghProjects.table.${t}.slice`);if(L){let H=JSON.parse(L);if(H&&H.fieldId){let z=(y||[]).find(k=>String(k.id)===String(H.fieldId));return z?z.name:String(H.fieldId)}}}catch{}}catch{}return null},onToggleVisibility:(C,L)=>{let H=String(C);if(s===null){s=new Set;let z=new Set(h.map(k=>String(k.id)));y.forEach(k=>{z.has(String(k.id))||s.add(String(k.id))})}L?s.delete(H):s.add(H),d&&c(d,o)},onSetGroupBy:C=>{n=C,d&&c(d,o)},groupDivisors:(()=>{try{if(l!==void 0)return l;if(t)try{let C=localStorage.getItem(`ghProjects.roadmap.${t}.groupDivisors`);if(C)return JSON.parse(C)}catch{}}catch{}return null})(),onSetGroupDivisors:C=>{l=C===null?null:Array.isArray(C)?C:[String(C)],d&&c(d,o)}}}catch{}}function p(g){let f=g&&g.data?g.data:g;try{if(f&&f.command==="fields"){if(f.viewKey&&t&&String(f.viewKey)!==String(t))return;f.error?De(e,i,String(f.error)):c(f.payload,f.effectiveFilter)}}catch{}try{try{let b=e.querySelector(".slice-panel"),v=e.querySelector(".roadmap-split-pane");console.debug&&console.debug("[roadmapViewFetcher] post-reposition: slicePresent=",!!b,"sliceParent=",b?b.parentElement&&b.parentElement.className:null,"splitPanePresent=",!!v)}catch{}}catch{}}try{window.__APP_MESSAGING__.onMessage(p)}catch{window.addEventListener("message",p)}window.__APP_MESSAGING__&&window.__APP_MESSAGING__.postMessage({command:"requestFields",viewKey:t})};})();
//# sourceMappingURL=roadmapViewFetcher.js.map
