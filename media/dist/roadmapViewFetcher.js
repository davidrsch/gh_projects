"use strict";(()=>{var Le=Object.defineProperty;var He=(u,e)=>()=>(u&&(e=u(u=0)),e);var Ie=(u,e)=>{for(var t in e)Le(u,t,{get:e[t],enumerable:!0})};var xe={};Ie(xe,{AddItemMenu:()=>fe});var fe,we=He(()=>{"use strict";fe=class{constructor(e){this.menuElement=null;this.backdropElement=null;this.options=e}show(){this.hide(),this.backdropElement=document.createElement("div"),this.backdropElement.style.position="fixed",this.backdropElement.style.top="0",this.backdropElement.style.left="0",this.backdropElement.style.right="0",this.backdropElement.style.bottom="0",this.backdropElement.style.zIndex="998",this.backdropElement.addEventListener("click",()=>this.hide()),document.body.appendChild(this.backdropElement),this.menuElement=document.createElement("div"),this.menuElement.className="add-item-menu",this.menuElement.style.position="absolute",this.menuElement.style.background="var(--vscode-menu-background)",this.menuElement.style.border="1px solid var(--vscode-menu-border)",this.menuElement.style.borderRadius="4px",this.menuElement.style.boxShadow="0 2px 8px rgba(0,0,0,0.15)",this.menuElement.style.minWidth="220px",this.menuElement.style.padding="4px 0",this.menuElement.style.zIndex="1000",this.menuElement.style.fontSize="13px",document.body.appendChild(this.menuElement),this.buildMenu();let e=this.options.anchorElement.getBoundingClientRect(),t=this.menuElement.getBoundingClientRect(),i=8,o=window.innerWidth||document.documentElement.clientWidth,s=window.innerHeight||document.documentElement.clientHeight,r=e.bottom+i;e.bottom+t.height+i>s&&(e.top-t.height-i>=0?r=e.top-t.height-i:r=Math.max(i,Math.min(s-t.height-i,e.bottom+i)));let n=e.left;e.left+t.width+i>o&&(n=Math.max(i,e.right-t.width)),n=Math.max(i,Math.min(n,o-t.width-i)),this.menuElement.style.top=`${Math.round(r)}px`,this.menuElement.style.left=`${Math.round(n)}px`}hide(){this.menuElement&&(this.menuElement.remove(),this.menuElement=null),this.backdropElement&&(this.backdropElement.remove(),this.backdropElement=null)}buildMenu(){if(!this.menuElement)return;let e=(t,i,o,s)=>{let r=document.createElement("div");r.className="add-item-menu-item",r.style.display="flex",r.style.alignItems="center",r.style.padding="6px 12px",r.style.cursor="pointer",r.style.color="var(--vscode-menu-foreground)";let n=document.createElement("span");n.style.display="inline-flex",n.style.alignItems="center",n.style.justifyContent="center",n.style.marginRight="8px",n.innerHTML=window.getIconSvg?.(t)||"",r.appendChild(n);let l=document.createElement("div");l.style.display="flex",l.style.flexDirection="column",l.style.flex="1";let p=document.createElement("div");if(p.textContent=i,p.style.fontWeight="500",l.appendChild(p),o){let a=document.createElement("div");a.textContent=o,a.style.fontSize="11px",a.style.color="var(--vscode-descriptionForeground)",l.appendChild(a)}r.appendChild(l),r.addEventListener("mouseenter",()=>{r.style.background="var(--vscode-menu-selectionBackground)",r.style.color="var(--vscode-menu-selectionForeground)"}),r.addEventListener("mouseleave",()=>{r.style.background="transparent",r.style.color="var(--vscode-menu-foreground)"}),r.addEventListener("click",()=>{s(),this.hide()}),this.menuElement.appendChild(r)};e("issue-opened","Create new issue","Create a project issue in a repository.",this.options.onCreateIssue),e("repo","Add item from repository","Attach an existing issue or pull request from a repo.",this.options.onAddFromRepo)}}});function he(u,e){u.innerHTML='<div class="title">'+e+'</div><div class="loading"><em>Loading...</em></div>'}function ge(u,e,t){u.innerHTML='<div class="title">'+e+'</div><div style="color:var(--vscode-editor-foreground)">'+t+"</div>"}function ve(u,e,t){if(window.filterBarHelper&&typeof window.filterBarHelper.create=="function")try{return window.filterBarHelper.create({parent:u,suffix:t.suffix||e,effFilter:typeof t.effFilter=="string"?t.effFilter:void 0,viewKey:e,step:t.step||50,onLoadMore:t.onLoadMore,onSave:t.onSave,onDiscard:t.onDiscard})}catch{return null}return null}function h(u){return u?String(u).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):""}function O(u){if(!u)return null;let e=String(u).trim();if(/^#?[0-9a-f]{3}$/i.test(e)||/^#?[0-9a-f]{6}$/i.test(e)||/^#?[0-9a-f]{8}$/i.test(e)){let o=e[0]==="#"?e.slice(1):e;return"#"+(o.length===8?o.substring(0,6):o)}let t={GRAY:"#848d97",RED:"#f85149",ORANGE:"#db6d28",YELLOW:"#d29922",GREEN:"#3fb950",BLUE:"#2f81f7",PURPLE:"#a371f7",PINK:"#db61a2",BLACK:"#000000",WHITE:"#ffffff"},i=e.toUpperCase();return t[i]||null}function B(u,e){if(!u)return null;let t=u.replace("#",""),i=o=>parseInt(o,16);if(t.length===3){let o=i(t[0]+t[0]),s=i(t[1]+t[1]),r=i(t[2]+t[2]);return"rgba("+o+","+s+","+r+","+e+")"}if(t.length===6||t.length===8){let o=t.length===8?t.substring(0,6):t,s=i(t.substring(0,2)),r=i(o.substring(2,4)),n=i(o.substring(4,6));return"rgba("+s+","+r+","+n+","+e+")"}return null}function ye(u){if(!u)return"#333333";let e=u.replace("#",""),t=r=>parseInt(r,16),i,o,s;if(e.length===3)i=t(e[0]+e[0]),o=t(e[1]+e[1]),s=t(e[2]+e[2]);else if(e.length===6||e.length===8){let r=e.length===8?e.substring(0,6):e;i=t(r.substring(0,2)),o=t(r.substring(2,4)),s=t(r.substring(4,6))}else return"#333333";return .2126*(i/255)+.7152*(o/255)+.0722*(s/255)>.6?"#111111":"#ffffff"}var Q=class{static groupItems(e,t){let i=[],o=(t.dataType||"").toLowerCase();if(o==="single_select"?i=t.options||[]:o==="iteration"&&(i=t.configuration&&t.configuration.iterations||[]),i&&i.length>0){let l=i.map(a=>({option:a,items:[]})),p=[];return e.forEach((a,m)=>{let d=a.fieldValues.find(f=>String(f.fieldId)===String(t.id)||f.fieldName===t.name),c=!1;if(d){let f=null,g=null;if(o==="single_select"?(f=d.optionId||d.option&&d.option.id,g=d.name||d.option&&d.option.name):o==="iteration"&&(f=d.iterationId||d.iteration&&d.iteration.id||d.id,g=d.title||d.iteration&&d.iteration.title),f||g){let v=l.find(y=>f&&String(y.option.id)===String(f)||g&&(String(y.option.name)===String(g)||String(y.option.title)===String(g)));v&&(v.items.push({item:a,index:m}),c=!0)}}c||p.push({item:a,index:m})}),p.length>0&&l.push({option:{name:"Unassigned",title:"Unassigned",color:"GRAY"},items:p}),l.filter(a=>a.items.length>0)}let s=new Map,r=[];e.forEach((l,p)=>{let a=l.fieldValues.find(c=>String(c.fieldId)===String(t.id)||c.fieldName===t.name),m=null;if(a)if(a.text!==void 0)m=a.text;else if(a.title!==void 0)m=a.title;else if(a.number!==void 0)m=a.number;else if(a.date!==void 0)m=a.date;else if(a.option)m=a.option.name||a.option.title||a.option.id;else if(a.iteration)m=a.iteration.title||a.iteration.id;else if(a.parent||a.parentIssue||a.issue||a.item||a.value){let c=a.parent||a.parentIssue||a.issue||a.item||a.value;c&&(m=c.number||c.id||c.raw&&(c.raw.number||c.raw.id)||c.url||c.title||c.name||null)}else a.assignees?m=Array.isArray(a.assignees)?a.assignees.map(c=>c.login||c.name).join(", "):a.assignees:a.repository?m=a.repository.nameWithOwner||a.repository.name||a.repository.full_name||a.repository.id:a.milestone?m=a.milestone.title||a.milestone.id||a.milestone.name:m=a.value!==void 0?a.value:null;if(m==null||m===""){r.push({item:l,index:p});return}let d=String(m);s.has(d)||s.set(d,{option:{id:d,name:d,title:d},items:[]}),s.get(d).items.push({item:l,index:p})});let n=Array.from(s.values());return r.length>0&&n.push({option:{name:"Unassigned",title:"Unassigned",color:"GRAY"},items:r}),n}};var Ze={table:{path:"M0 1.75C0 .784.784 0 1.75 0h12.5C15.216 0 16 .784 16 1.75v12.5A1.75 1.75 0 0 1 14.25 16H1.75A1.75 1.75 0 0 1 0 14.25ZM6.5 6.5v8h7.75a.25.25 0 0 0 .25-.25V6.5Zm8-1.5V1.75a.25.25 0 0 0-.25-.25H6.5V5Zm-13 1.5v7.75c0 .138.112.25.25.25H5v-8ZM5 5V1.5H1.75a.25.25 0 0 0-.25.25V5Z"},project:{path:"M1.75 0h12.5C15.216 0 16 .784 16 1.75v12.5A1.75 1.75 0 0 1 14.25 16H1.75A1.75 1.75 0 0 1 0 14.25V1.75C0 .784.784 0 1.75 0ZM1.5 1.75v12.5c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25V1.75a.25.25 0 0 0-.25-.25H1.75a.25.25 0 0 0-.25.25ZM11.75 3a.75.75 0 0 1 .75.75v7.5a.75.75 0 0 1-1.5 0v-7.5a.75.75 0 0 1 .75-.75Zm-8.25.75a.75.75 0 0 1 1.5 0v5.5a.75.75 0 0 1-1.5 0ZM8 3a.75.75 0 0 1 .75.75v3.5a.75.75 0 0 1-1.5 0v-3.5A.75.75 0 0 1 8 3Z"},board:{path:"M1.75 0h12.5C15.216 0 16 .784 16 1.75v12.5A1.75 1.75 0 0 1 14.25 16H1.75A1.75 1.75 0 0 1 0 14.25V1.75C0 .784.784 0 1.75 0ZM1.5 1.75v12.5c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25V1.75a.25.25 0 0 0-.25-.25H1.75a.25.25 0 0 0-.25.25ZM11.75 3a.75.75 0 0 1 .75.75v7.5a.75.75 0 0 1-1.5 0v-7.5a.75.75 0 0 1 .75-.75Zm-8.25.75a.75.75 0 0 1 1.5 0v5.5a.75.75 0 0 1-1.5 0ZM8 3a.75.75 0 0 1 .75.75v3.5a.75.75 0 0 1-1.5 0v-3.5A.75.75 0 0 1 8 3Z"},roadmap:{path:'<path d="M4.75 7a.75.75 0 0 0 0 1.5h4.5a.75.75 0 0 0 0-1.5h-4.5ZM5 4.75A.75.75 0 0 1 5.75 4h5.5a.75.75 0 0 1 0 1.5h-5.5A.75.75 0 0 1 5 4.75ZM6.75 10a.75.75 0 0 0 0 1.5h4.5a.75.75 0 0 0 0-1.5h-4.5Z" /><path d="M0 1.75C0 .784.784 0 1.75 0h12.5C15.216 0 16 .784 16 1.75v12.5A1.75 1.75 0 0 1 14.25 16H1.75A1.75 1.75 0 0 1 0 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25V1.75a.25.25 0 0 0-.25-.25Z" />',isInnerHTML:!0},list:{path:"M5.75 2.5h8.5a.75.75 0 0 1 0 1.5h-8.5a.75.75 0 0 1 0-1.5Zm0 5h8.5a.75.75 0 0 1 0 1.5h-8.5a.75.75 0 0 1 0-1.5Zm0 5h8.5a.75.75 0 0 1 0 1.5h-8.5a.75.75 0 0 1 0-1.5ZM2 14a1 1 0 1 1 0-2 1 1 0 0 1 0 2Zm1-6a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM2 4a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"},people:{path:"M2 5.5a3.5 3.5 0 1 1 5.898 2.549 5.508 5.508 0 0 1 3.034 4.084.75.75 0 1 1-1.482.235 4 4 0 0 0-7.9 0 .75.75 0 0 1-1.482-.236A5.507 5.507 0 0 1 3.102 8.05 3.493 3.493 0 0 1 2 5.5ZM11 4a3.001 3.001 0 0 1 2.22 5.018 5.01 5.01 0 0 1 2.56 3.012.749.749 0 0 1-.885.954.752.752 0 0 1-.549-.514 3.507 3.507 0 0 0-2.522-2.372.75.75 0 0 1-.574-.73v-.352a.75.75 0 0 1 .416-.672A1.5 1.5 0 0 0 11 5.5.75.75 0 0 1 11 4Zm-5.5-.5a2 2 0 1 0-.001 3.999A2 2 0 0 0 5.5 3.5Z"},tag:{path:'<path d="M1 7.775V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 0 1 0 2.474l-5.026 5.026a1.75 1.75 0 0 1-2.474 0l-6.25-6.25A1.752 1.752 0 0 1 1 7.775Zm1.5 0c0 .066.026.13.073.177l6.25 6.25a.25.25 0 0 0 .354 0l5.025-5.025a.25.25 0 0 0 0-.354l-6.25-6.25a.25.25 0 0 0-.177-.073H2.75a.25.25 0 0 0-.25.25"></path>',isInnerHTML:!0},"single-select":{path:'<path d="m5.06 7.356 2.795 2.833c.08.081.21.081.29 0l2.794-2.833c.13-.131.038-.356-.145-.356H5.206c-.183 0-.275.225-.145.356Z"></path><path d="M1 2.75C1 1.784 1.784 1 2.75 1h10.5c.966 0 1.75.784 1.75 1.75v10.5A1.75 1.75 0 0 1 13.25 15H2.75A1.75 1.75 0 0 1 1 13.25Zm1.75-.25a.25.25 0 0 0-.25.25v10.5c0 .138.112.25.25.25h10.5a.25.25 0 0 0 .25-.25V2.75a.25.25 0 0 0-.25-.25Z"></path>',isInnerHTML:!0},"issue-tracks":{path:'<path d="M1.5 8a6.5 6.5 0 0 1 13 0A.75.75 0 0 0 16 8a8 8 0 1 0-8 8 .75.75 0 0 0 0-1.5A6.5 6.5 0 0 1 1.5 8Z"></path><path d="M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm3.573 5.823-2.896-2.896a.25.25 0 0 1 0-.354l2.896-2.896a.25.25 0 0 1 .427.177V11.5h3.25a.75.75 0 0 1 0 1.5H12v2.146a.25.25 0 0 1-.427.177Z"></path>',isInnerHTML:!0},"issue-tracked-by":{path:'<path d="M1.5 8a6.5 6.5 0 0 1 13 0A.75.75 0 0 0 16 8a8 8 0 1 0-8 8 .75.75 0 0 0 0-1.5A6.5 6.5 0 0 1 1.5 8Z"></path><path d="M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm1.5 1.75a.75.75 0 0 1 .75-.75h5a.75.75 0 0 1 0 1.5h-5a.75.75 0 0 1-.75-.75Zm2.75 2.25a.75.75 0 0 0 0 1.5h3a.75.75 0 0 0 0-1.5h-3Z"></path>',isInnerHTML:!0},iterations:{path:"M2.5 7.25a4.75 4.75 0 0 1 9.5 0 .75.75 0 0 0 1.5 0 6.25 6.25 0 1 0-6.25 6.25H12v2.146c0 .223.27.335.427.177l2.896-2.896a.25.25 0 0 0 0-.354l-2.896-2.896a.25.25 0 0 0-.427.177V12H7.25A4.75 4.75 0 0 1 2.5 7.25Z"},number:{path:"M9 4.75A.75.75 0 0 1 9.75 4h4a.75.75 0 0 1 .53 1.28l-1.89 1.892c.312.076.604.18.867.319.742.391 1.244 1.063 1.244 2.005 0 .653-.231 1.208-.629 1.627-.386.408-.894.653-1.408.777-1.01.243-2.225.063-3.124-.527a.751.751 0 0 1 .822-1.254c.534.35 1.32.474 1.951.322.306-.073.53-.201.67-.349.129-.136.218-.32.218-.596 0-.308-.123-.509-.444-.678-.373-.197-.98-.318-1.806-.318a.75.75 0 0 1-.53-1.28l1.72-1.72H9.75A.75.75 0 0 1 9 4.75Zm-3.587 5.763c-.35-.05-.77.113-.983.572a.75.75 0 1 1-1.36-.632c.508-1.094 1.589-1.565 2.558-1.425 1 .145 1.872.945 1.872 2.222 0 1.433-1.088 2.192-1.79 2.681-.308.216-.571.397-.772.573H7a.75.75 0 0 1 0 1.5H3.75a.75.75 0 0 1-.75-.75c0-.69.3-1.211.67-1.61.348-.372.8-.676 1.15-.92.8-.56 1.18-.904 1.18-1.474 0-.473-.267-.69-.587-.737ZM5.604.089A.75.75 0 0 1 6 .75v4.77h.711a.75.75 0 0 1 0 1.5H3.759a.75.75 0 0 1 0-1.5H4.5V2.15l-.334.223a.75.75 0 0 1-.832-1.248l1.5-1a.75.75 0 0 1 .77-.037Z"},calendar:{path:"M4.75 0a.75.75 0 0 1 .75.75V2h5V.75a.75.75 0 0 1 1.5 0V2h1.25c.966 0 1.75.784 1.75 1.75v10.5A1.75 1.75 0 0 1 13.25 16H2.75A1.75 1.75 0 0 1 1 14.25V3.75C1 2.784 1.784 2 2.75 2H4V.75A.75.75 0 0 1 4.75 0ZM2.5 7.5v6.75c0 .138.112.25.25.25h10.5a.25.25 0 0 0 .25-.25V7.5Zm10.75-4H2.75a.25.25 0 0 0-.25.25V6h11V3.75a.25.25 0 0 0-.25-.25Z"},"pull-request":{path:"M1.5 3.25a2.25 2.25 0 1 1 3 2.122v5.256a2.251 2.251 0 1 1-1.5 0V5.372A2.25 2.25 0 0 1 1.5 3.25Zm5.677-.177L9.573.677A.25.25 0 0 1 10 .854V2.5h1A2.5 2.5 0 0 1 13.5 5v5.628a2.251 2.251 0 1 1-1.5 0V5a1 1 0 0 0-1-1h-1v1.646a.25.25 0 0 1-.427.177L7.177 3.427a.25.25 0 0 1 0-.354ZM3.75 2.5a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Zm0 9.5a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Zm8.25.75a.75.75 0 1 0 1.5 0 .75.75 0 0 0-1.5 0Z"},milestone:{path:"M7.75 0a.75.75 0 0 1 .75.75V3h3.634c.414 0 .814.147 1.13.414l2.07 1.75a1.75 1.75 0 0 1 0 2.672l-2.07 1.75a1.75 1.75 0 0 1-1.13.414H8.5v5.25a.75.75 0 0 1-1.5 0V10H2.75A1.75 1.75 0 0 1 1 8.25v-3.5C1 3.784 1.784 3 2.75 3H7V.75A.75.75 0 0 1 7.75 0Zm4.384 8.5a.25.25 0 0 0 .161-.06l2.07-1.75a.248.248 0 0 0 0-.38l-2.07-1.75a.25.25 0 0 0-.161-.06H2.75a.25.25 0 0 0-.25.25v3.5c0 .138.112.25.25.25h9.384Z"},repo:{path:"M2 2.5A2.5 2.5 0 0 1 4.5 0h8.75a.75.75 0 0 1 .75.75v12.5a.75.75 0 0 1-.75.75h-2.5a.75.75 0 0 1 0-1.5h1.75v-2h-8a1 1 0 0 0-.714 1.7.75.75 0 1 1-1.072 1.05A2.495 2.495 0 0 1 2 11.5Zm10.5-1h-8a1 1 0 0 0-1 1v6.708A2.486 2.486 0 0 1 4.5 9h8ZM5 12.25a.25.25 0 0 1 .25-.25h3.5a.25.25 0 0 1 .25.25v3.25a.25.25 0 0 1-.4.2l-1.45-1.087a.249.249 0 0 0-.3 0L5.4 15.7a.25.25 0 0 1-.4-.2Z"},typography:{path:"M6.71 10H2.332l-.874 2.498a.75.75 0 0 1-1.415-.496l3.39-9.688a1.217 1.217 0 0 1 2.302.018l3.227 9.681a.75.75 0 0 1-1.423.474Zm3.13-4.358C10.53 4.374 11.87 4 13 4c1.5 0 3 .939 3 2.601v5.649a.75.75 0 0 1-1.448.275C13.995 12.82 13.3 13 12.5 13c-.77 0-1.514-.231-2.078-.709-.577-.488-.922-1.199-.922-2.041 0-.694.265-1.411.887-1.944C11 7.78 11.88 7.5 13 7.5h1.5v-.899c0-.54-.5-1.101-1.5-1.101-.869 0-1.528.282-1.84.858a.75.75 0 1 1-1.32-.716ZM6.21 8.5 4.574 3.594 2.857 8.5Zm8.29.5H13c-.881 0-1.375.22-1.637.444-.253.217-.363.5-.363.806 0 .408.155.697.39.896.249.21.63.354 1.11.354.732 0 1.26-.209 1.588-.449.35-.257.412-.495.412-.551Z"},"issue-opened":{path:'<path d="M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path><path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Z"></path>',isInnerHTML:!0},"issue-closed":{path:'<path d="M11.28 6.78a.75.75 0 0 0-1.06-1.06L7.25 8.69 5.78 7.22a.75.75 0 0 0-1.06 1.06l2 2a.75.75 0 0 0 1.06 0l3.5-3.5Z"></path><path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0Zm-1.5 0a6.5 6.5 0 1 0-13 0 6.5 6.5 0 0 0 13 0Z"></path>',isInnerHTML:!0},"issue-draft":{path:'<path d="M14.307 11.655a.75.75 0 0 1 .165 1.048 8.05 8.05 0 0 1-1.769 1.77.75.75 0 0 1-.883-1.214 6.552 6.552 0 0 0 1.44-1.439.75.75 0 0 1 1.047-.165Zm-2.652-9.962a.75.75 0 0 1 1.048-.165 8.05 8.05 0 0 1 1.77 1.769.75.75 0 0 1-1.214.883 6.552 6.552 0 0 0-1.439-1.44.75.75 0 0 1-.165-1.047ZM6.749.097a8.074 8.074 0 0 1 2.502 0 .75.75 0 1 1-.233 1.482 6.558 6.558 0 0 0-2.036 0A.751.751 0 0 1 6.749.097ZM.955 6.125a.75.75 0 0 1 .624.857 6.558 6.558 0 0 0 0 2.036.75.75 0 1 1-1.482.233 8.074 8.074 0 0 1 0-2.502.75.75 0 0 1 .858-.624Zm14.09 0a.75.75 0 0 1 .858.624c.13.829.13 1.673 0 2.502a.75.75 0 1 1-1.482-.233 6.558 6.558 0 0 0 0-2.036.75.75 0 0 1 .624-.857Zm-8.92 8.92a.75.75 0 0 1 .857-.624 6.558 6.558 0 0 0 2.036 0 .75.75 0 1 1 .233 1.482c-.829.13-1.673.13-2.502 0a.75.75 0 0 1-.624-.858Zm-4.432-3.39a.75.75 0 0 1 1.048.165 6.552 6.552 0 0 0 1.439 1.44.751.751 0 0 1-.883 1.212 8.05 8.05 0 0 1-1.77-1.769.75.75 0 0 1 .166-1.048Zm2.652-9.962A.75.75 0 0 1 4.18 2.74a6.556 6.556 0 0 0-1.44 1.44.751.751 0 0 1-1.212-.883 8.05 8.05 0 0 1 1.769-1.77.75.75 0 0 1 1.048.166Z"></path>',isInnerHTML:!0},"git-pull-request":{path:"M1.5 3.25a2.25 2.25 0 1 1 3 2.122v5.256a2.251 2.251 0 1 1-1.5 0V5.372A2.25 2.25 0 0 1 1.5 3.25Zm5.677-.177L9.573.677A.25.25 0 0 1 10 .854V2.5h1A2.5 2.5 0 0 1 13.5 5v5.628a2.251 2.251 0 1 1-1.5 0V5a1 1 0 0 0-1-1h-1v1.646a.25.25 0 0 1-.427.177L7.177 3.427a.25.25 0 0 1 0-.354ZM3.75 2.5a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Zm0 9.5a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Zm8.25.75a.75.75 0 1 0 1.5 0 .75.75 0 0 0-1.5 0Z"},"git-pull-request-closed":{path:"M3.25 1A2.25 2.25 0 0 1 4 5.372v5.256a2.251 2.251 0 1 1-1.5 0V5.372A2.251 2.251 0 0 1 3.25 1Zm9.5 5.5a.75.75 0 0 1 .75.75v3.378a2.251 2.251 0 1 1-1.5 0V7.25a.75.75 0 0 1 .75-.75Zm-2.03-5.273a.75.75 0 0 1 1.06 0l.97.97.97-.97a.748.748 0 0 1 1.265.332.75.75 0 0 1-.205.729l-.97.97.97.97a.751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018l-.97-.97-.97.97a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734l.97-.97-.97-.97a.75.75 0 0 1 0-1.06ZM2.5 3.25a.75.75 0 1 0 1.5 0 .75.75 0 0 0-1.5 0ZM3.25 12a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Zm9.5 0a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Z"},"git-pull-request-draft":{path:"M3.25 1A2.25 2.25 0 0 1 4 5.372v5.256a2.251 2.251 0 1 1-1.5 0V5.372A2.251 2.251 0 0 1 3.25 1Zm9.5 14a2.25 2.25 0 1 1 0-4.5 2.25 2.25 0 0 1 0 4.5ZM2.5 3.25a.75.75 0 1 0 1.5 0 .75.75 0 0 0-1.5 0ZM3.25 12a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Zm9.5 0a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5ZM14 7.5a1.25 1.25 0 1 1-2.5 0 1.25 1.25 0 0 1 2.5 0Zm0-4.25a1.25 1.25 0 1 1-2.5 0 1.25 1.25 0 0 1 2.5 0Z"},"git-merge":{path:"M5.45 5.154A4.25 4.25 0 0 0 9.25 7.5h1.378a2.251 2.251 0 1 1 0 1.5H9.25A5.734 5.734 0 0 1 5 7.123v3.505a2.25 2.25 0 1 1-1.5 0V5.372a2.25 2.25 0 1 1 1.95-.218ZM4.25 13.5a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm8.5-4.5a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM5 3.25a.75.75 0 1 0 0 .005V3.25Z"},blocked:{path:"M4.467.22a.749.749 0 0 1 .53-.22h6.006c.199 0 .389.079.53.22l4.247 4.247c.141.14.22.331.22.53v6.006a.749.749 0 0 1-.22.53l-4.247 4.247a.749.749 0 0 1-.53.22H4.997a.749.749 0 0 1-.53-.22L.22 11.533a.749.749 0 0 1-.22-.53V4.997c0-.199.079-.389.22-.53Zm.84 1.28L1.5 5.308v5.384L5.308 14.5h5.384l3.808-3.808V5.308L10.692 1.5ZM4 7.75A.75.75 0 0 1 4.75 7h6.5a.75.75 0 0 1 0 1.5h-6.5A.75.75 0 0 1 4 7.75Z"},"sort-asc":{path:"m12.927 2.573 3 3A.25.25 0 0 1 15.75 6H13.5v6.75a.75.75 0 0 1-1.5 0V6H9.75a.25.25 0 0 1-.177-.427l3-3a.25.25 0 0 1 .354 0ZM0 12.25a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5H.75a.75.75 0 0 1-.75-.75Zm0-4a.75.75 0 0 1 .75-.75h4.5a.75.75 0 0 1 0 1.5H.75A.75.75 0 0 1 0 8.25Zm0-4a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 1 0 1.5H.75A.75.75 0 0 1 0 4.25Z"},"sort-desc":{path:"M0 4.25a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5H.75A.75.75 0 0 1 0 4.25Zm0 4a.75.75 0 0 1 .75-.75h4.5a.75.75 0 0 1 0 1.5H.75A.75.75 0 0 1 0 8.25Zm0 4a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 1 0 1.5H.75a.75.75 0 0 1-.75-.75ZM13.5 10h2.25a.25.25 0 0 1 .177.427l-3 3a.25.25 0 0 1-.354 0l-3-3A.25.25 0 0 1 9.75 10H12V3.75a.75.75 0 0 1 1.5 0V10Z"},rows:{path:"M16 10.75v2.5A1.75 1.75 0 0 1 14.25 15H1.75A1.75 1.75 0 0 1 0 13.25v-2.5C0 9.784.784 9 1.75 9h12.5c.966 0 1.75.784 1.75 1.75Zm0-8v2.5A1.75 1.75 0 0 1 14.25 7H1.75A1.75 1.75 0 0 1 0 5.25v-2.5C0 1.784.784 1 1.75 1h12.5c.966 0 1.75.784 1.75 1.75Zm-1.75-.25H1.75a.25.25 0 0 0-.25.25v2.5c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25v-2.5a.25.25 0 0 0-.25-.25Zm0 8H1.75a.25.25 0 0 0-.25.25v2.5c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25v-2.5a.25.25 0 0 0-.25-.25Z"},sliceby:{path:"M14.5 1.5H6.5V5H10C10.4142 5 10.75 5.33579 10.75 5.75C10.75 6.16421 10.4142 6.5 10 6.5H6.5V7.75C6.5 8.16421 6.16421 8.5 5.75 8.5C5.33579 8.5 5 8.16421 5 7.75V6.5H1.5V14.5H5V12.75C5 12.3358 5.33579 12 5.75 12C6.16421 12 6.5 12.3358 6.5 12.75V14.5H14.5V1.5ZM5 1.5V5H1.5V1.5H5ZM0 14.5V5.75V1.5C0 0.671573 0.671573 0 1.5 0H5.75H14.5C15.3284 0 16 0.671573 16 1.5V14.5C16 15.3284 15.3284 16 14.5 16H5.75H1.5C0.671573 16 0 15.3284 0 14.5ZM9.62012 9.58516C10.8677 9.59206 11.8826 8.58286 11.8826 7.33544V6.32279C11.8826 5.90857 12.2184 5.57279 12.6326 5.57279C13.0468 5.57279 13.3826 5.90857 13.3826 6.32279V7.33544C13.3826 9.4147 11.6909 11.0966 9.61182 11.0851L9.3826 11.0839L9.3826 12.9995C9.3826 13.2178 9.12245 13.3312 8.96248 13.1827L6.07989 10.506C5.97337 10.4071 5.97337 10.2385 6.07989 10.1396L8.96248 7.46291C9.12245 7.31438 9.3826 7.42782 9.3826 7.64611V9.58384L9.62012 9.58516Z"},"eye-closed":{path:"M.143 2.31a.75.75 0 0 1 1.047-.167l14.5 10.5a.75.75 0 1 1-.88 1.214l-2.248-1.628C11.346 13.19 9.792 14 8 14c-1.981 0-3.67-.992-4.933-2.078C1.797 10.832.88 9.577.43 8.9a1.619 1.619 0 0 1 0-1.797c.353-.533.995-1.42 1.868-2.305L.31 3.357A.75.75 0 0 1 .143 2.31Zm1.536 5.622A.12.12 0 0 0 1.657 8c0 .021.006.045.022.068.412.621 1.242 1.75 2.366 2.717C5.175 11.758 6.527 12.5 8 12.5c1.195 0 2.31-.488 3.29-1.191L9.063 9.695A2 2 0 0 1 6.058 7.52L3.529 5.688a14.207 14.207 0 0 0-1.85 2.244ZM8 3.5c-.516 0-1.017.09-1.499.251a.75.75 0 1 1-.473-1.423A6.207 6.207 0 0 1 8 2c1.981 0 3.67.992 4.933 2.078 1.27 1.091 2.187 2.345 2.637 3.023a1.62 1.62 0 0 1 0 1.798c-.11.166-.248.365-.41.587a.75.75 0 1 1-1.21-.887c.148-.201.272-.382.371-.53a.119.119 0 0 0 0-.137c-.412-.621-1.242-1.75-2.366-2.717C10.825 4.242 9.473 3.5 8 3.5Z"},"arrow-left":{path:"M7.78 12.53a.75.75 0 0 1-1.06 0L2.47 8.28a.75.75 0 0 1 0-1.06l4.25-4.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042L4.81 7h7.44a.75.75 0 0 1 0 1.5H4.81l2.97 2.97a.75.75 0 0 1 0 1.06Z"},"arrow-right":{path:"M8.22 2.97a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042l2.97-2.97H3.75a.75.75 0 0 1 0-1.5h7.44L8.22 4.03a.75.75 0 0 1 0-1.06Z"},"triangle-down":{path:"M4.427 7.427l3.396 3.396a.25.25 0 00.354 0l3.396-3.396A.25.25 0 0011.396 7H4.604a.25.25 0 00-.177.427z"},"triangle-right":{path:"M8.573 4.604a.25.25 0 01.427-.177l3.396 3.396a.25.25 0 010 .354l-3.396 3.396a.25.25 0 01-.427-.177V4.604z"},note:{path:"M0 3.75C0 2.784.784 2 1.75 2h12.5c.966 0 1.75.784 1.75 1.75v8.5A1.75 1.75 0 0 1 14.25 14H1.75A1.75 1.75 0 0 1 0 12.25Zm1.75-.25a.25.25 0 0 0-.25.25v8.5c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25v-8.5a.25.25 0 0 0-.25-.25ZM3.5 6.25a.75.75 0 0 1 .75-.75h7a.75.75 0 0 1 0 1.5h-7a.75.75 0 0 1-.75-.75Zm.75 2.25a.75.75 0 0 0 0 1.5h4a.75.75 0 0 0 0-1.5h-4Z"},"chevron-left":{path:"M9.78 12.78a.75.75 0 0 1-1.06 0L4.47 8.53a.75.75 0 0 1 0-1.06l4.25-4.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042L6.06 8l3.72 3.72a.75.75 0 0 1 0 1.06Z"},"chevron-right":{path:"M6.22 3.22a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L9.94 8 6.22 4.28a.75.75 0 0 1 0-1.06Z"},"arrow-both":{path:"M3.72 3.72a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042L2.56 7h10.88l-2.22-2.22a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018l3.5 3.5a.75.75 0 0 1 0 1.06l-3.5 3.5a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734l2.22-2.22H2.56l2.22 2.22a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215l-3.5-3.5a.75.75 0 0 1 0-1.06Z"},location:{path:"m12.596 11.596-3.535 3.536a1.5 1.5 0 0 1-2.122 0l-3.535-3.536a6.5 6.5 0 1 1 9.192-9.193 6.5 6.5 0 0 1 0 9.193Zm-1.06-8.132v-.001a5 5 0 1 0-7.072 7.072L8 14.07l3.536-3.534a5 5 0 0 0 0-7.072ZM8 9a2 2 0 1 1-.001-3.999A2 2 0 0 1 8 9Z"},"zoom-in":{path:'<path d="M3.75 7.5a.75.75 0 0 1 .75-.75h2.25V4.5a.75.75 0 0 1 1.5 0v2.25h2.25a.75.75 0 0 1 0 1.5H8.25v2.25a.75.75 0 0 1-1.5 0V8.25H4.5a.75.75 0 0 1-.75-.75Z"></path><path d="M7.5 0a7.5 7.5 0 0 1 5.807 12.247l2.473 2.473a.749.749 0 1 1-1.06 1.06l-2.473-2.473A7.5 7.5 0 1 1 7.5 0Zm-6 7.5a6 6 0 1 0 12 0 6 6 0 0 0-12 0Z"></path>',isInnerHTML:!0},check:{path:"M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"},plus:{path:"M8 0a.75.75 0 0 1 .75.75v6.5h6.5a.75.75 0 0 1 0 1.5h-6.5v6.5a.75.75 0 0 1-1.5 0v-6.5h-6.5a.75.75 0 0 1 0-1.5h6.5v-6.5A.75.75 0 0 1 8 0Z"},search:{path:"M10.68 11.74a6 6 0 1 1 1.06-1.06l2.74 2.74a.75.75 0 1 1-1.06 1.06l-2.74-2.74ZM12 7a5 5 0 1 1-10 0 5 5 0 0 1 10 0Z"},"arrow-up-down":{path:"M8 2.5a.75.75 0 0 1 .53.22l3.5 3.5a.75.75 0 0 1-1.06 1.06L9 5.06v5.88l1.97-1.97a.75.75 0 0 1 1.06 1.06l-3.5 3.5a.75.75 0 0 1-1.06 0l-3.5-3.5a.75.75 0 1 1 1.06-1.06L7 10.94V5.06L5.03 7.03a.75.75 0 0 1-1.06-1.06l3.5-3.5A.75.75 0 0 1 8 2.5Z"},sort:{path:"M0 4.25a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5H.75A.75.75 0 0 1 0 4.25Zm0 4a.75.75 0 0 1 .75-.75h4.5a.75.75 0 0 1 0 1.5H.75A.75.75 0 0 1 0 8.25Zm0 4a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 1 0 1.5H.75a.75.75 0 0 1-.75-.75ZM13.5 10h2.25a.25.25 0 0 1 .177.427l-3 3a.25.25 0 0 1-.354 0l-3-3A.25.25 0 0 1 9.75 10H12V3.75a.75.75 0 0 1 1.5 0V10Z"}};function F(u,e={}){let t=Ze[u];if(!t)return console.warn(`Icon "${u}" not found in registry`),"";let i=e.size??14,o=e.className?`octicon octicon-${u} ${e.className}`:`octicon octicon-${u}`,s=e.fill??"currentColor",r=t.viewBox??"0 0 16 16",n=e.ariaLabel?"false":"true",l=e.ariaLabel?` aria-label="${be(e.ariaLabel)}"`:"",p=e.title?`<title>${be(e.title)}</title>`:"",a;return t.isInnerHTML?a=t.path:a=`<path d="${t.path}"/>`,`<svg class="${o}" viewBox="${r}" width="${i}" height="${i}" fill="${s}" aria-hidden="${n}"${l} focusable="false">${p}${a}</svg>`}function be(u){return u.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function J(u){switch((u||"").toLowerCase()){case"title":return"list";case"assignees":case"reviewers":return"people";case"single_select":return"single-select";case"labels":return"tag";case"parent_issue":return"issue-tracks";case"sub_issues_progress":return"issue-tracked-by";case"iteration":return"iterations";case"number":case"numeric":return"number";case"date":return"calendar";case"linked_pull_request":case"linked_pull_requests":case"pull_request":return"pull-request";case"milestone":return"milestone";case"repository":return"repo";case"text":case"string":return"typography";default:return"tag"}}var ee=class{render(e,t,i,o){let s=e&&e.title&&(e.title.raw&&e.title.raw.text||e.title.content&&(e.title.content.title||e.title.content.name)||typeof e.title=="string"&&e.title)||e&&e.content&&(e.content.title||e.content.name)||e&&e.raw&&e.raw.text||"",r=e&&e.title&&e.title.content&&e.title.content.number||e&&e.raw&&e.raw.itemContent&&e.raw.itemContent.number||i&&i.content&&i.content.number||"",n=e&&e.title&&e.title.content&&e.title.content.url||e&&e.raw&&e.raw.itemContent&&e.raw.itemContent.url||i&&i.content&&i.content.url||"",l=null;if(i&&Array.isArray(i.fieldValues)){let T=i.fieldValues.find(I=>I&&I.type==="single_select"&&(I.raw&&I.raw.field&&String(I.raw.field.name||"").toLowerCase()==="status"||I.fieldName&&String(I.fieldName||"").toLowerCase()==="status"||I.field&&I.field.name&&String(I.field.name||"").toLowerCase()==="status"));T&&(l=T.option&&(T.option.color||T.option.id||T.option.name)||T.raw&&T.raw.color||null)}let p=O(l)||null,a=p&&/^#([0-9a-f]{3}|[0-9a-f]{6})$/i.test(p)?p:"#666666",m=h(String(s||"")),d=r?h(String(r)):"",c=e&&e.title&&e.title.content||e&&e.raw&&e.raw.itemContent||i&&i.content||null,f=!1,g=!1,v=!1,y=!1,E=!1,Z=!1;try{if(c&&typeof c.__typename=="string"&&String(c.__typename).toLowerCase().includes("pullrequest")&&(f=!0),!f&&c&&typeof c.state=="string"){let w=String(c.state).toUpperCase();w==="CLOSED"&&(v=!0),w==="MERGED"&&(y=!0)}f&&(typeof c.isDraft=="boolean"&&(g=!!c.isDraft),(c.state&&String(c.state).toUpperCase())==="CLOSED"&&(v=!0),c.merged&&(y=!0));let T=["done","closed","completed","finished"];try{let w=c&&c.issueDependenciesSummary?c.issueDependenciesSummary:null;E=(w&&typeof w.blockedBy=="number"?w.blockedBy:0)>0}catch{E=!1}let I=!1;if(Array.isArray(i&&i.fieldValues)){let w=i.fieldValues.find(C=>{if(!C||C.type!=="single_select")return!1;let V=C.raw&&C.raw.field&&C.raw.field.name||C.fieldName||C.field&&C.field.name||"";return String(V||"").toLowerCase()==="status"});if(w&&w.option&&w.option.name){let C=String(w.option.name).toLowerCase();T.includes(C)&&(I=!0)}}let q=!!(c&&c.labels&&Array.isArray(c.labels.nodes)&&c.labels.nodes.some(w=>T.includes(String(w&&w.name||"").toLowerCase())));(I||q)&&(y||(v=!0))}catch{}let x="issue-opened";f?y?x="git-merge":v?x="git-pull-request-closed":g?x="git-pull-request-draft":x="git-pull-request":v?x="issue-closed":g?x="issue-draft":x="issue-opened";let k=F(x,{size:14,className:"field-icon title-icon",fill:a}),M=E?F("blocked",{size:9,className:"field-icon blocked-icon",fill:"#dc3545"}):"",A=d?`${s} #${r}`:s,L=h(String(n||"")),H=h(A);return L?'<a href="'+L+'" data-gh-open="'+L+'" title="'+H+`" target="_blank" rel="noopener noreferrer" style="cursor:pointer;color:inherit;text-decoration:none;display:inline-flex;align-items:center;gap:8px;width:100%;"><span style='position:relative;display:inline-flex;align-items:center;justify-content:center;flex-shrink:0'>`+k+(M?"<span class='blocked-overlay' style='position:absolute;right:-3px;bottom:-3px;width:14px;height:14px;border-radius:999px;background:var(--vscode-editor-background);display:flex;align-items:center;justify-content:center;box-sizing:border-box;'>"+M+"</span>":"")+'</span><span style="flex:1;min-width:0;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;display:block">'+m+"</span>"+(d?'<span style="flex:none;margin-left:6px;color:var(--vscode-descriptionForeground);white-space:nowrap">#'+d+"</span>":"")+"</a>":'<span title="'+H+`" style="color:inherit;display:inline-flex;align-items:center;gap:8px;width:100%;"><span style='position:relative;display:inline-flex;align-items:center;justify-content:center;flex-shrink:0'>`+k+(M?"<span class='blocked-overlay' style='position:absolute;right:-3px;bottom:-3px;width:14px;height:14px;border-radius:999px;background:var(--vscode-editor-background);display:flex;align-items:center;justify-content:center;box-sizing:border-box;'>"+M+"</span>":"")+'</span><span style="flex:1;min-width:0;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;display:block">'+m+"</span>"+(d?'<span style="flex:none;margin-left:6px;color:var(--vscode-descriptionForeground);white-space:nowrap">#'+d+"</span>":"")+"</span>"}},te=class{render(e){return"<div>"+h((e&&e.text)!=null?e.text:"")+"</div>"}},ne=class{render(e){let t=e.number!==void 0&&e.number!==null?String(e.number):"";return'<div style="text-align:right;font-variant-numeric:tabular-nums">'+h(t)+"</div>"}},ie=class{render(e){let t=e.date||e.startDate||e.dueOn||null;if(!t)return"<div></div>";try{let i=new Date(t);if(isNaN(i.getTime()))return"<div>"+h(String(t))+"</div>";let o=i.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});return"<div>"+h(o)+"</div>"}catch{return"<div>"+h(String(t))+"</div>"}}},re=class{render(e){let t=e&&e.option&&e.option.name||e&&e.name||"";if(!t)return"<div></div>";let i=e&&e.option&&(e.option.color||e.option.id)||e&&e.color||null,o=O(i)||null,s=!!(o&&/^#([0-9a-f]{3}|[0-9a-f]{6})$/i.test(o)),r=o||"#999999",n=s&&B(o,.12)||"rgba(0,0,0,0.06)",l=o||"#333333";return"<span style='display:inline-block;padding:2px 8px;margin-right:6px;border-radius:999px;border:1px solid "+h(r)+";background:"+h(n)+";color:"+h(l)+";font-size:12px;line-height:18px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis'>"+h(t)+"</span>"}},ae=class{render(e){let t=e.iteration||e;if(!t||!t.title)return"<div></div>";let i=String(t.title||""),o=t.color||t.colour||null,s=O(o)||null,r=!!(s&&/^#([0-9a-f]{3}|[0-9a-f]{6})$/i.test(s)),n=s||"#999999",l=r&&B(s,.12)||"rgba(0,0,0,0.06)",p=n;return"<span style='display:inline-block;padding:2px 8px;margin-right:6px;border-radius:999px;border:1px solid "+h(n)+";background:"+h(l)+";color:"+h(p)+";font-size:12px;line-height:18px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis'>"+h(i)+"</span>"}},se=class{render(e){let t=e&&(e.repository||e);if(!t)return"<div></div>";let i=t&&(t.nameWithOwner||t.full_name||t.name||t.id||"")||"";if(!i)return"<div></div>";let o=t&&(t.url||t.html_url||t.nameWithOwner&&`https://github.com/${t.nameWithOwner}`)||"",s=F("repo",{size:16,className:"field-icon",ariaLabel:"Repository"});if(o){let r=i+" - "+o;return'<div data-gh-open="'+h(o)+'" title="'+h(r)+'" style="display:flex;align-items:center;gap:6px;cursor:pointer">'+s+"<span>"+h(String(i))+"</span></div>"}return'<div style="display:flex;align-items:center;gap:6px">'+s+"<span>"+h(String(i))+"</span></div>"}},oe=class{render(e,t,i,o){return"<div>"+(e.labels||[]).map(s=>{let r=h(s.name||""),n=i&&(i.content&&i.content.repository&&i.content.repository.nameWithOwner||i.repository&&i.repository.nameWithOwner)||e.raw&&e.raw.itemContent&&e.raw.itemContent.repository&&e.raw.itemContent.repository.nameWithOwner||null,l=s.color||s.colour||null;if(t&&t.repoOptions&&n&&t.repoOptions[n]){let f=t.repoOptions[n].find(g=>g&&g.name===s.name);f&&(l=f.color||f.colour||l)}let p=O(l)||null,a=!!(p&&/^#([0-9a-f]{3}|[0-9a-f]{6})$/i.test(p)),m=p||"#999999",d=a&&B(p,.12)||"rgba(0,0,0,0.06)",c=p||"#333333";return"<span style='display:inline-block;padding:2px 8px;margin-right:6px;border-radius:999px;border:1px solid "+h(m)+";background:"+h(d)+";color:"+h(c)+";font-size:12px;line-height:18px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis'>"+r+"</span>"}).join("")+"</div>"}},G=class{render(e){let t=e.pullRequests||[];if(!t||t.length===0)return"";let i="<div style='display:flex;flex-wrap:wrap;gap:6px;align-items:center'>";for(let o=0;o<t.length;o++){let s=t[o],r=h(String(s&&s.number||"")),n=h(s&&s.title||""),l=h(s&&s.url||""),p=s&&(s.state_color||s.color||s.colour||s.state)||null,a=O(p)||null,m=!!(a&&/^#([0-9a-f]{3}|[0-9a-f]{6})$/i.test(a)),d=a||"#999999",c=m&&B(a,.12)||"rgba(0,0,0,0.06)",f=ye(a)||"#333333",g=!!(s&&s.isDraft),v=s&&s.state&&String(s.state).toUpperCase()||"",y=!!(s&&s.merged),E=!y&&v==="CLOSED",Z="git-pull-request";y?Z="git-merge":E?Z="git-pull-request-closed":g&&(Z="git-pull-request-draft");let x=F(Z,{size:12,className:"field-icon pr-icon",fill:a||"#666"}),M=!!(s&&Array.isArray(s.labels)&&s.labels.some(L=>L&&typeof L.name=="string"&&String(L.name).toLowerCase()==="blocked"))?F("blocked",{size:8,className:"field-icon blocked-icon",fill:"#dc3545"}):"",A=n?h(`#${s.number} ${s.title}`):h(`#${s.number}`);i+="<a href='"+l+"' title='"+A+"' target='_blank' rel='noopener noreferrer' style='cursor:pointer;text-decoration:none;color:inherit'><span style='display:inline-flex;align-items:center;gap:6px;padding:4px 8px;border-radius:999px;border:1px solid "+h(d)+";background:"+h(c)+";color:"+h(f)+";font-size:12px;line-height:18px;overflow:hidden;box-sizing:border-box;max-width:160px'><span style='position:relative;display:inline-flex;align-items:center;justify-content:center'>"+x+(M?"<span class='blocked-overlay' style='position:absolute;right:-3px;bottom:-3px;width:13px;height:13px;border-radius:999px;background:var(--vscode-editor-background);display:flex;align-items:center;justify-content:center;box-sizing:border-box;'>"+M+"</span>":"")+"</span><span style='flex:1 1 auto;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap'>#"+r+"</span></span></a>"}return i+="</div>",i}},U=class{render(e){return(e.issues||[]).map(t=>{let i=t.title?h(`#${t.number} ${t.title}`):h(`#${t.number}`);return"<a href='"+h(t.url||"")+"' target='_blank' rel='noopener noreferrer' title='"+i+"' style='display:inline-block;max-width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap'>#"+h(String(t.number||""))+" "+h(t.title||"")+"</a>"}).join("<br/>")}},le=class{render(e){let t=e.assignees||[];if(!t||t.length===0)return"<div></div>";let i=l=>{let p=l&&(l.login||l.name||""),a=l&&(l.url||l.html_url)||"";return a?String(a):p?`https://github.com/${p}`:""},o=t.slice(0,3).map((l,p)=>{let a=h(l.avatarUrl||l.avatar||""),m=p===0?"0px":p===1?"-8px":"-14px",d=Math.max(1,3-p),c=l.login||l.name||"",f=h((l.name||l.login||"").split(" ").map(y=>y[0]||"").join("").toUpperCase().slice(0,2)),g=h(i(l)),v="display:inline-flex;align-items:center;justify-content:center;width:20px;height:20px;border-radius:50%;border:2px solid var(--vscode-editor-background);margin-left:"+m+";vertical-align:middle;position:relative;z-index:"+d+";";return a?"<span title='"+h(c||"")+"' data-gh-open='"+g+"' style='"+v+"overflow:hidden;background-size:cover;background-position:center;background-image:url("+a+");'></span>":"<span title='"+h(c||"")+"' data-gh-open='"+g+"' style='"+v+"background:#777;color:#fff;font-size:11px;'>"+f+"</span>"}).join(""),s=t.map(l=>l.login||l.name||""),r="";s.length===1?r=s[0]:s.length===2?r=s[0]+" and "+s[1]:r=s.slice(0,-1).join(", ")+" and "+s.slice(-1)[0];let n=h(i(t[0]));return"<div style='display:flex;align-items:center;gap:8px'><span style='display:flex;align-items:center'><span style='display:inline-block;vertical-align:middle;height:20px;line-height:20px;margin-right:8px;'>"+o+"</span></span><span data-gh-open='"+n+"' style='white-space:nowrap;overflow:hidden;text-overflow:ellipsis;cursor:pointer'>"+h(r)+"</span></div>"}},de=class{render(e){let t=e.reviewers||[];return!t||t.length===0?"<div></div>":"<div>"+t.map(o=>{let s=o.login||o.name||o.kind||"",r=h(s),l=o&&(o.url||o.html_url)||""||(s?`https://github.com/${s}`:""),p=h(l);return l?"<a href='"+p+"' target='_blank' rel='noopener noreferrer' data-gh-open='"+p+"' style='text-decoration:none;color:inherit'>"+r+"</a>":r}).join(", ")+"</div>"}},ce=class{render(e){return"<div>"+h(e.milestone&&e.milestone.title||"")+"</div>"}},pe=class{render(e){try{if(!e||e.total==null||Number(e.total)<=0)return"";let t=Math.max(0,Math.floor(Number(e.total)||0)),i=Math.max(0,Math.floor(Number(e.done||0)));if(t===0)return"";let o=null;return e.percent!==void 0&&e.percent!==null?o=Number(e.percent):o=Math.round(i/t*100),o==null||!isFinite(o)?"":(o=Math.max(0,Math.min(100,o)),"<div class='sub-issues-progress' title='"+h(`${i} of ${t} sub-issues complete (${o}%)`)+"' style='display:flex;align-items:center;gap:8px;width:100%;'><div class='sub-issues-progress-count' style='min-width:44px;text-align:left;font-variant-numeric:tabular-nums;color:var(--vscode-descriptionForeground)'>"+h(String(i)+"/"+String(t))+"</div><div class='sub-issues-progress-bar' style='flex:1;min-width:0'><div style='width:100%;height:12px;border-radius:6px;border:1px solid var(--vscode-focusBorder);overflow:hidden;background:transparent;box-sizing:border-box'><div style='height:100%;width:"+String(o)+"%;background:var(--vscode-focusBorder)'></div></div></div><div class='sub-issues-progress-pct' style='min-width:44px;text-align:right;font-variant-numeric:tabular-nums;color:var(--vscode-descriptionForeground)'>"+h(String(o)+"%")+"</div></div>")}catch{return""}}},me=class{render(e,t,i,o){let s=["done","closed","completed","finished"],r=!1,n=e&&(e.parent||e.parentIssue||e.issue||e.option||e.item||e.value)||e&&e.raw&&(e.raw.parent||e.raw.itemContent||e.raw.item)||null,l=n&&(n.number||n.id||n.raw&&n.raw.number)&&(n.number||n.raw&&n.raw.number)||"",p=n&&(n.title||n.name||n.raw&&n.raw.title)&&(n.title||n.name||n.raw&&n.raw.title)||"",a=n&&(n.url||n.html_url||n.raw&&n.raw.url)&&(n.url||n.html_url||n.raw&&n.raw.url)||"",m=h(String(p||"")),d=l?h(String(l)):"",c=h(String(a||"")),f=null;try{var g=Array.isArray(o)?o:o||[];if(Array.isArray(g)&&g.length>0&&(l||n)){let w=n&&n.repository&&(n.repository.nameWithOwner||n.repository.name)||n&&n.content&&n.content.repository&&n.content.repository.nameWithOwner||null,C=[];l&&C.push(String(l)),n&&(n.id||n.raw&&n.raw.id)&&C.push(String(n.id||n.raw&&n.raw.id)),n&&(n.url||n.raw&&n.raw.url)&&C.push(String(n.url||n.raw&&n.raw.url)),n&&(n.title||n.name)&&C.push(String(n.title||n.name));let V=g.find(S=>{let b=S&&(S.content||S.raw&&S.raw.itemContent)||null;if(!b)return!1;let z=[];if(b.number&&z.push(String(b.number)),b.id&&z.push(String(b.id)),b.url&&z.push(String(b.url)),b.title&&z.push(String(b.title)),b.name&&z.push(String(b.name)),b.raw&&b.raw.number&&z.push(String(b.raw.number)),b.raw&&b.raw.id&&z.push(String(b.raw.id)),b.raw&&b.raw.url&&z.push(String(b.raw.url)),w){let N=b.repository&&(b.repository.nameWithOwner||b.repository.name)||null;if(N&&String(N)!==String(w))return!1}for(let N=0;N<C.length;N++)for(let W=0;W<z.length;W++)if(C[N]&&z[W]&&String(C[N])===String(z[W]))return!0;return!1});if(V&&Array.isArray(V.fieldValues)){let S=V.fieldValues.find(b=>b&&b.type==="single_select"&&(b.raw&&b.raw.field&&String(b.raw.field.name||"").toLowerCase()==="status"||b.fieldName&&String(b.fieldName||"").toLowerCase()==="status"||b.field&&b.field.name&&String(b.field.name||"").toLowerCase()==="status"));if(S&&(f=S.option&&(S.option.color||S.option.id||S.option.name)||S.raw&&S.raw.color||null,S.option&&S.option.name)){let b=String(S.option.name).toLowerCase();s.includes(b)&&(r=!0)}}}}catch{}f||(f=n&&(n.option&&(n.option.color||n.option.id||n.option.name)||n.color||n.colour)||null);let v=O(f)||null,y=!!(v&&/^#([0-9a-f]{3}|[0-9a-f]{6})$/i.test(v)),E=v||"#999999",Z=y&&B(v,.12)||"rgba(0,0,0,0.06)",x=ye(v)||"#333333",k=!1,M=!1,A=!1;try{(n&&n.state&&String(n.state).toUpperCase()||n&&n.parent&&n.parent.state&&String(n.parent.state).toUpperCase()||"")==="CLOSED"&&(k=!0),A=!!(n&&Array.isArray(n.labels)&&n.labels.some(S=>S&&typeof S.name=="string"&&String(S.name).toLowerCase()==="blocked")),(!!(n&&Array.isArray(n.labels)&&n.labels.some(S=>s.includes(String(S&&S.name||"").toLowerCase())))||r)&&(k=!0)}catch{}let L="issue-opened";k?L="issue-closed":M&&(L="issue-draft");let H=F(L,{size:14,className:"field-icon parent-issue-icon",fill:v||"#666"}),T=A?F("blocked",{size:9,className:"field-icon blocked-icon",fill:"#dc3545"}):"",I="<span style='display:block;width:100%;box-sizing:border-box'><div style='display:inline-flex;align-items:center;gap:8px;padding:4px 10px;border:1px solid "+h(E)+";border-radius:999px;color:"+h(x)+";background:"+h(Z)+";font-size:12px;line-height:18px;overflow:hidden;box-sizing:border-box;width:100%'><span style='position:relative;display:inline-flex;align-items:center;justify-content:center'>"+H+(T?"<span class='blocked-overlay' style='position:absolute;right:-3px;bottom:-3px;width:14px;height:14px;border-radius:999px;background:var(--vscode-editor-background);display:flex;align-items:center;justify-content:center;box-sizing:border-box;'>"+T+"</span>":"")+"</span><span class='parent-issue-title' style='flex:1;min-width:0;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;display:block'>"+m+"</span>"+(d?"<span style='margin-left:6px;color:var(--vscode-descriptionForeground);white-space:nowrap'>#"+d+"</span>":"")+"</div></span>",q="<span data-gh-open='"+(c||"")+"' class='parent-issue-wrapper' style='display:block;width:100%;cursor:"+(c?"pointer":"default")+"'>";return c?q+I+"</span>":I}};var Ae={title:new ee,text:new te,number:new ne,date:new ie,single_select:new re,iteration:new ae,repository:new se,labels:new oe,pull_request:new G,issue:new U,assignees:new le,reviewers:new de,milestone:new ce,sub_issues_progress:new pe,parent_issue:new me,linked_pull_requests:new G,tracks:new U};function j(u,e,t,i){if(!u)return"";try{let o=Ae[u.type];return o?o.render(u,e,t,i):""}catch(o){return console.error("Error rendering cell",o),""}}var ue=class{constructor(e,t,i,o,s){this.items=e;this.allFields=t;this.visibleFieldIds=i;this.onFilter=o;this.onAction=s;this.zoomLevel="month";this.activeMarkers=["milestones"];this.activeSortFieldId=null;this.startDateFieldId=null;this.endDateFieldId=null;this.initializedFields=!1;this.collapsedGroups=new Set;this.dayWidth=24;this.listWidth=320;this.scrollSyncing=!1;this.container=null;this.lastSnapshot=null;this.updateZoomSettings()}updateData(e,t,i){this.items=e,this.allFields=t,this.visibleFieldIds=i}updateZoomSettings(){switch(this.zoomLevel){case"month":this.dayWidth=24;break;case"quarter":this.dayWidth=8;break;case"year":this.dayWidth=2;break;default:this.dayWidth=24}}renderRoadmap(e,t){this.container=e,this.lastSnapshot=t,e.innerHTML="",this.ensureStyles(),e.className="roadmap-root",e.style.display="flex",e.style.flexDirection="column",e.style.height="100%",e.style.background="var(--vscode-editor-background)";let i=this.createControlHeader();e.appendChild(i);let o=document.createElement("div");o.className="roadmap-split-pane",o.style.display="flex",o.style.flex="1",o.style.overflow="hidden",o.style.borderTop="1px solid var(--vscode-panel-border)",e.appendChild(o);let s=document.createElement("div");s.className="roadmap-list-container",s.style.width=this.listWidth+"px",s.style.display="flex",s.style.flexDirection="column",s.style.background="var(--vscode-sideBar-background)",s.style.borderRight="1px solid var(--vscode-panel-border)",s.style.flexShrink="0",o.appendChild(s);let r=document.createElement("div");r.className="roadmap-list-header",r.style.height="32px",r.style.borderBottom="1px solid var(--vscode-panel-border)",r.style.padding="0 12px",r.style.display="flex",r.style.alignItems="center",r.style.fontWeight="600",r.style.fontSize="11px",r.style.textTransform="uppercase",r.style.background="var(--vscode-sideBar-background)",r.style.color="var(--vscode-descriptionForeground)",r.textContent="Items",s.appendChild(r);let n=document.createElement("div");n.className="roadmap-list-view",n.style.flex="1",n.style.overflowY="auto",n.style.overflowX="hidden",s.appendChild(n);let l=document.createElement("div");l.className="roadmap-timeline-container",l.style.flex="1",l.style.display="flex",l.style.flexDirection="column",l.style.overflow="hidden",o.appendChild(l);let p=this.createTimelineHeader();l.appendChild(p);let a=document.createElement("div");a.className="roadmap-grid-view",a.style.flex="1",a.style.overflow="auto",l.appendChild(a),n.addEventListener("scroll",()=>{this.scrollSyncing||(this.scrollSyncing=!0,a.scrollTop=n.scrollTop,this.scrollSyncing=!1)}),a.addEventListener("scroll",()=>{this.scrollSyncing||(this.scrollSyncing=!0,n.scrollTop=a.scrollTop,this.scrollSyncing=!1)});let m=t?.details?.groupByFields?.nodes||[],d=this.allFields.find(g=>m.some(v=>String(v.id)===String(g.id)||v.name===g.name)),c=[...this.items];if(this.activeSortFieldId){let g=this.allFields.find(v=>String(v.id)===String(this.activeSortFieldId));if(g){let v=["date","iteration","milestone"].includes((g.dataType||g.type||"").toLowerCase());c.sort((y,E)=>{if(v){let k=this.getDateFieldValue(y,"start")?.getTime()||0,M=this.getDateFieldValue(E,"start")?.getTime()||0;return k-M}let Z=y.fieldValues.find(k=>String(k.fieldId)===String(g.id))?.value||"",x=E.fieldValues.find(k=>String(k.fieldId)===String(g.id))?.value||"";return typeof Z=="string"&&typeof x=="string"?Z.localeCompare(x):typeof Z=="number"&&typeof x=="number"?Z-x:0})}}let f=d?Q.groupItems(c,d):[{option:{name:"",id:"none"},items:c.map((g,v)=>({item:g,index:v}))}];this.initializedFields||(this.initDefaultDateFields(),this.initializedFields=!0),this.renderGroups(n,a,f,d)}initDefaultDateFields(){let e=this.allFields.filter(t=>{let i=(t.dataType||t.type||"").toLowerCase();return i==="iteration"||i==="date"});if(!this.startDateFieldId){let t=e.find(i=>i.name.toLowerCase().includes("start"))||e[0];t&&(this.startDateFieldId=t.id)}if(!this.endDateFieldId){let t=e.find(i=>i.name.toLowerCase().includes("end"))||e[1]||e[0];t&&(this.endDateFieldId=t.id)}}ensureStyles(){if(document.getElementById("roadmap-styles"))return;let e=document.createElement("style");e.id="roadmap-styles",e.textContent=`
            .roadmap-root, .roadmap-root * {
                box-sizing: border-box;
            }
            .roadmap-root {
                font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif;
                color: var(--vscode-foreground);
            }
            .roadmap-list-row, .roadmap-grid-row {
                transition: background 0.1s;
                border-bottom: 1px solid var(--vscode-panel-border);
            }
            .roadmap-list-row:hover, .roadmap-grid-row:hover {
                background: var(--vscode-list-hoverBackground);
            }
            .roadmap-list-row {
                border-right: 1px solid var(--vscode-panel-border);
            }
            .roadmap-bar {
                transition: filter 0.2s, box-shadow 0.2s;
            }
            .roadmap-bar:hover {
                filter: brightness(1.1);
                cursor: pointer;
            }
            .roadmap-grid-view::-webkit-scrollbar {
                width: 12px;
                height: 12px;
            }
            .roadmap-grid-view::-webkit-scrollbar-thumb {
                background: var(--vscode-scrollbarSlider-background);
                border-radius: 6px;
                border: 3px solid transparent;
                background-clip: content-box;
            }
            .roadmap-grid-view::-webkit-scrollbar-thumb:hover {
                background: var(--vscode-scrollbarSlider-hoverBackground);
            }
            .roadmap-list-group-header, .roadmap-grid-group-header {
                z-index: 10;
                position: sticky;
                top: 0;
                background: var(--vscode-sideBar-background); /* Added background */
            }
            .roadmap-grid-header {
                height: 32px;
                flex: 0 0 auto;
                border-bottom: 1px solid var(--vscode-panel-border);
                background: var(--vscode-sideBar-background);
                position: sticky;
                top: 0;
                z-index: 20;
                overflow: hidden;
            }
            .gh-count-pill {
                font-weight: 500;
            }
            .roadmap-marker-label {
                position: absolute;
                top: 4px;
                padding: 2px 6px;
                background: #f1f8ff;
                color: #0366d6;
                border: 1px solid #0366d6;
                border-radius: 4px;
                font-size: 10px;
                white-space: nowrap;
                transform: translateX(-50%);
                z-index: 110;
            }
            .roadmap-marker-circle {
                position: absolute;
                top: 32px;
                left: -4px;
                width: 8px;
                height: 8px;
                border-radius: 50%;
                background: #0366d6;
                z-index: 105;
                transform: translateY(-50%);
            }
            .roadmap-marker-triangle {
                position: absolute;
                top: 0;
                left: -6px;
                width: 0;
                height: 0;
                border-left: 6px solid transparent;
                border-right: 6px solid transparent;
                border-top: 8px solid var(--vscode-descriptionForeground);
                z-index: 105;
            }
        `,document.head.appendChild(e)}createControlHeader(){let e=document.createElement("div");e.className="roadmap-controls",e.style.height="48px",e.style.display="flex",e.style.alignItems="center",e.style.padding="0 16px",e.style.background="var(--vscode-editor-background)";let t=document.createElement("div");t.style.fontWeight="600",t.style.fontSize="14px",t.textContent="Roadmap",e.appendChild(t);let i=document.createElement("div");i.style.flex="1",e.appendChild(i);let o=`
            background: transparent;
            border: 1px solid transparent;
            color: var(--vscode-foreground);
            border-radius: 6px;
            padding: 4px 8px;
            font-size: 13px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 6px;
            height: 32px;
            transition: all 0.2s;
        `,s=(d,c,f,g=!1)=>{let v=document.createElement("button");v.style.cssText=o;let y=c?F(c,{size:16,fill:"var(--vscode-descriptionForeground)"}):"",E=g?F("triangle-down",{size:12,fill:"var(--vscode-descriptionForeground)"}):"";return v.innerHTML=`${y} <span style="font-weight: 500;">${d}</span> ${E}`,v.onclick=f,v.onmouseenter=()=>{v.style.background="var(--vscode-toolbar-hoverBackground)",v.style.borderColor="var(--vscode-panel-border)"},v.onmouseleave=()=>{v.style.background="transparent",v.style.borderColor="transparent"},v},r=document.createElement("div");r.style.display="flex",r.style.alignItems="center",r.style.gap="4px",e.appendChild(r),r.appendChild(s("Markers","location",d=>this.showMarkersMenu(d),!0)),r.appendChild(s("Sort","arrow-up-down",d=>this.showSortMenu(d),!0)),r.appendChild(s("Date fields","calendar",d=>this.showDateFieldsMenu(d),!0));let n=this.zoomLevel.charAt(0).toUpperCase()+this.zoomLevel.slice(1);r.appendChild(s(n,"zoom-in",d=>this.showZoomMenu(d),!0));let l=document.createElement("button");l.style.cssText=o,l.style.fontWeight="600",l.style.marginRight="4px",l.textContent="Today",l.onclick=()=>{let d=this.container?.querySelector(".roadmap-grid-view");if(d){let c=new Date,f=this.getTimelineStart(),g=Math.ceil((c.getTime()-f.getTime())/(1e3*60*60*24))*this.dayWidth;d.scrollLeft=g-d.clientWidth/2}},r.appendChild(l);let p=document.createElement("div");p.style.display="flex",p.style.gap="2px";let a=s("","chevron-left",()=>{let d=this.container?.querySelector(".roadmap-grid-view");d&&(d.scrollLeft-=200)}),m=s("","chevron-right",()=>{let d=this.container?.querySelector(".roadmap-grid-view");d&&(d.scrollLeft+=200)});return p.appendChild(a),p.appendChild(m),r.appendChild(p),e}showMarkersMenu(e){let t=[{id:"milestones",label:"Milestones",icon:"milestone"}];this.allFields.forEach(i=>{let o=(i.dataType||i.type||"").toLowerCase();(o==="iteration"||o==="date")&&t.push({id:i.id,label:i.name,icon:J(o)})}),this.showDropdown(e.currentTarget,t,this.activeMarkers,i=>{this.activeMarkers.includes(i)?this.activeMarkers=this.activeMarkers.filter(o=>o!==i):this.activeMarkers.push(i),this.renderRoadmap(this.container,this.lastSnapshot)},!0)}showSortMenu(e){let t=[{id:null,label:"No sorting"}];this.allFields.forEach(i=>{let o=J(i.dataType||i.type);t.push({id:i.id,label:i.name,icon:o})}),this.showDropdown(e.currentTarget,t,[this.activeSortFieldId],i=>{this.activeSortFieldId=i,this.renderRoadmap(this.container,this.lastSnapshot)})}showDateFieldsMenu(e){let t=this.allFields.filter(n=>{let l=(n.dataType||n.type||"").toLowerCase();return l==="iteration"||l==="date"}),i=document.createElement("div");i.className="roadmap-dropdown-menu",i.style.cssText="position: fixed; z-index: 1000; background: var(--vscode-menu-background); border: 1px solid var(--vscode-menu-border); border-radius: 6px; box-shadow: 0 4px 12px rgba(0,0,0,0.15); min-width: 200px; padding: 8px 0; font-size: 13px; max-height: 400px; overflow-y: auto;";let o=(n,l,p,a=!1)=>{let m=document.createElement("div");if(m.style.padding="4px 12px",m.style.fontWeight="600",m.style.color="var(--vscode-descriptionForeground)",m.style.fontSize="11px",m.textContent=n,i.appendChild(m),t.forEach(d=>{let c=document.createElement("div");c.style.padding="6px 12px 6px 32px",c.style.cursor="pointer",c.style.position="relative",c.style.display="flex",c.style.alignItems="center",c.onmouseenter=()=>c.style.background="var(--vscode-menu-selectionBackground)",c.onmouseleave=()=>c.style.background="transparent";let f=(d.dataType||d.type||"").toLowerCase(),g=J(f),y=n.toLowerCase().includes("start")?"start":"end",E=f==="iteration"?`${d.name} ${y}`:d.name;c.innerHTML=`
                    <div class="roadmap-dropdown-check" style="position:absolute; left:10px; display:${d.id===l?"block":"none"}">
                        ${F("check",{size:14,fill:"var(--vscode-menu-foreground)"})}
                    </div>
                    <div style="margin-right:8px; display:flex; align-items:center;">
                        ${F(g,{size:14,fill:"var(--vscode-descriptionForeground)"})}
                    </div>
                    <span>${E}</span>
                `,c.onclick=()=>{p(d.id),document.body.contains(i)&&document.body.removeChild(i),this.renderRoadmap(this.container,this.lastSnapshot)},i.appendChild(c)}),!a){let d=document.createElement("div");d.style.height="1px",d.style.background="var(--vscode-menu-border)",d.style.margin="4px 0",i.appendChild(d)}};o("Start date",this.startDateFieldId,n=>this.startDateFieldId=n),o("End date",this.endDateFieldId,n=>this.endDateFieldId=n,!0);let s=e.currentTarget.getBoundingClientRect();i.style.top=s.bottom+4+"px",i.style.right=window.innerWidth-s.right+"px";let r=n=>{i.contains(n.target)||(document.body.contains(i)&&document.body.removeChild(i),window.removeEventListener("mousedown",r))};setTimeout(()=>window.addEventListener("mousedown",r),0),document.body.appendChild(i)}showZoomMenu(e){let t=[{id:"month",label:"Month"},{id:"quarter",label:"Quarter"},{id:"year",label:"Year"}];this.showDropdown(e.currentTarget,t,[this.zoomLevel],i=>{this.zoomLevel=i,this.updateZoomSettings(),this.renderRoadmap(this.container,this.lastSnapshot)})}showDropdown(e,t,i,o,s=!1){let r=document.createElement("div");r.className="roadmap-dropdown-menu",r.style.cssText="position: fixed; z-index: 1000; background: var(--vscode-menu-background); border: 1px solid var(--vscode-menu-border); border-radius: 6px; box-shadow: 0 4px 12px rgba(0,0,0,0.15); min-width: 180px; padding: 4px 0; font-size: 13px; max-height: 400px; overflow-y: auto;",t.forEach(p=>{let a=document.createElement("div");a.style.padding="6px 12px 6px 32px",a.style.cursor="pointer",a.style.position="relative",a.style.display="flex",a.style.alignItems="center",a.onmouseenter=()=>a.style.background="var(--vscode-menu-selectionBackground)",a.onmouseleave=()=>a.style.background="transparent";let m=i.includes(p.id);a.innerHTML=`
                <div class="roadmap-dropdown-check" style="position:absolute; left:10px; display:${m?"block":"none"}">
                    ${F("check",{size:14,fill:"var(--vscode-menu-foreground)"})}
                </div>
                ${p.icon?`<div style="margin-right:8px; display:flex; align-items:center;">${F(p.icon,{size:14,fill:"var(--vscode-descriptionForeground)"})}</div>`:""}
                <span>${p.label}</span>
            `,a.onclick=d=>{if(o(p.id),!s)document.body.contains(r)&&document.body.removeChild(r);else{let c=a.querySelector(".roadmap-dropdown-check");c&&(c.style.display=c.style.display==="none"?"block":"none")}d.stopPropagation()},r.appendChild(a)});let n=e.getBoundingClientRect();r.style.top=n.bottom+4+"px",r.style.right=window.innerWidth-n.right+"px";let l=p=>{r.contains(p.target)||(document.body.contains(r)&&document.body.removeChild(r),window.removeEventListener("mousedown",l))};setTimeout(()=>window.addEventListener("mousedown",l),0),document.body.appendChild(r)}getTimelineStart(){let e=this.items.flatMap(i=>[this.getDateFieldValue(i,"start"),this.getDateFieldValue(i,"end")]).filter(i=>!!i),t=e.length?new Date(Math.min(...e.map(i=>i.getTime()))):new Date;return t.setMonth(t.getMonth()-1),t.setDate(1),t.setHours(0,0,0,0),t}createTimelineHeader(){let e=document.createElement("div");return e.className="roadmap-grid-header",e.style.height="32px",e.style.borderBottom="1px solid var(--vscode-panel-border)",e.style.position="sticky",e.style.top="0",e.style.zIndex="20",e.style.background="var(--vscode-sideBar-background)",e.style.display="flex",e.style.overflow="hidden",e}renderGroups(e,t,i,o){e.innerHTML="",t.innerHTML="";let s=document.createElement("div");s.className="roadmap-grid-content",s.style.position="relative",t.appendChild(s);let r=this.getTimelineStart(),n=this.items.flatMap(y=>[this.getDateFieldValue(y,"start"),this.getDateFieldValue(y,"end")]).filter(y=>!!y),l=n.length?new Date(Math.max(...n.map(y=>y.getTime()))):new Date,p=this.zoomLevel==="year"?12:6;l.setMonth(l.getMonth()+p),l.setDate(1),l.setHours(0,0,0,0);let a=this.calculateOffset(l,r);s.style.width=a+"px";let m=this.container?.querySelector(".roadmap-grid-header");m.innerHTML="";let d=document.createElement("div");d.style.width=a+"px",d.style.flexShrink="0",d.style.display="flex",d.style.height="100%",m.appendChild(d);let c=document.createElement("div");c.className="roadmap-grid-lines",c.style.position="absolute",c.style.top="0",c.style.left="0",c.style.height="100%",c.style.width="100%",c.style.pointerEvents="none",c.style.zIndex="0",s.appendChild(c);let f=new Date(r);for(;f<l;){let y=new Date(f),E=new Date(f.getFullYear(),f.getMonth()+1,1),Z=this.calculateOffset(y,r),k=this.calculateOffset(E,r)-Z,M=document.createElement("div");M.className="roadmap-month-label",M.style.flex=`0 0 ${k}px`,M.style.borderRight="1px solid var(--vscode-panel-border)",M.style.background="var(--vscode-sideBar-background)",M.style.fontSize="12px",M.style.padding="7px 12px",M.style.fontWeight="600",M.style.color="var(--vscode-foreground)";let A=this.zoomLevel==="year"?f.toLocaleDateString("default",{month:"short"}):f.toLocaleDateString("default",{month:"long",year:"numeric"});this.zoomLevel==="year"&&f.getMonth()===0&&(A=f.getFullYear().toString()),M.textContent=A,d.appendChild(M);let L=document.createElement("div");L.style.position="absolute",L.style.left=Z+"px",L.style.height="100%",L.style.borderLeft="1px solid var(--vscode-panel-border)",L.style.opacity="0.2",c.appendChild(L),f=E}this.renderMarkers(s,r,l),t.onscroll=()=>{m.scrollLeft=t.scrollLeft};let g=40,v=1;i.forEach(y=>{let E=String(y.option.id||"unassigned"),Z=this.collapsedGroups.has(E),x=document.createElement("div");x.className="roadmap-list-group-header",x.style.height="32px",x.style.display="flex",x.style.alignItems="center",x.style.padding="0 8px",x.style.background="var(--vscode-sideBar-background)",x.style.borderBottom="1px solid var(--vscode-panel-border)",x.style.zIndex="10",x.style.position="sticky",x.style.top="0";let M=F(Z?"triangle-right":"triangle-down",{size:16,fill:"var(--vscode-descriptionForeground)"}),A=O(y.option.color)||"#848d97",L=`<div style="width:12px; height:12px; border-radius:50%; background:${A}; margin: 0 8px; border: 1px solid ${B(A,.4)}"></div>`;if(o){x.innerHTML=`
                    <div class="roadmap-group-toggle" style="cursor:pointer; width:24px; height:24px; display:flex; align-items:center; justify-content:center;">${M}</div>
                    ${L}
                    <span style="font-weight:600; font-size:13px; margin-right:8px;">${y.option.name||"Unassigned"}</span>
                    <span class="gh-count-pill" style="background:${B(A,.15)}; color:${A}; border: 1px solid ${B(A,.3)}; border-radius:10px; padding:2px 8px; font-size:11px; font-weight:600;">${y.items.length}</span>
                `,x.querySelector(".roadmap-group-toggle").addEventListener("click",()=>{Z?this.collapsedGroups.delete(E):this.collapsedGroups.add(E),this.renderRoadmap(this.container,this.lastSnapshot)}),e.appendChild(x);let H=document.createElement("div");H.className="roadmap-grid-group-header",H.style.height="32px",H.style.borderBottom="1px solid var(--vscode-panel-border)",H.style.background="var(--vscode-sideBar-background)",s.appendChild(H)}if(!Z){y.items.forEach(q=>{let w=q.item,C=document.createElement("div");C.className="roadmap-list-row",C.style.height=g+"px",C.style.display="flex",C.style.alignItems="center",C.style.padding="0";let V=document.createElement("div");V.style.width="40px",V.style.textAlign="center",V.style.fontSize="11px",V.style.color="var(--vscode-descriptionForeground)",V.textContent=String(v++),C.appendChild(V);let S=document.createElement("div");S.style.display="flex",S.style.alignItems="center",S.style.flex="1",S.style.overflow="hidden",S.style.padding="0 8px",S.style.gap="8px";let b=this.allFields.find(_=>_.name.toLowerCase()==="title"),z=w.fieldValues.find(_=>_.fieldId===b?.id)||{value:w.title,type:"title"},N=this.allFields.find(_=>(_.dataType||_.type||"").toLowerCase()==="assignees"),W=w.fieldValues.find(_=>_.fieldId===N?.id);S.innerHTML=`<div style="display:flex; align-items:center; gap:8px; overflow:hidden; flex:1;">${j(z,b,w,this.items)}</div>`,C.appendChild(S),e.appendChild(C);let R=document.createElement("div");R.className="roadmap-grid-row",R.style.height=g+"px",R.style.position="relative",s.appendChild(R),C.onmouseenter=()=>R.style.background="var(--vscode-list-hoverBackground)",C.onmouseleave=()=>R.style.background="transparent",R.onmouseenter=()=>C.style.background="var(--vscode-list-hoverBackground)",R.onmouseleave=()=>C.style.background="transparent";let P=this.getDateFieldValue(w,"start"),Y=this.getDateFieldValue(w,"end");if(P){let _=this.calculateOffset(P,r),Me=Y?Math.max(1,Math.round((Y.getTime()-P.getTime())/(1e3*60*60*24))):14,Ce=Math.max(40,Me*this.dayWidth),D=document.createElement("div");D.className="roadmap-bar",D.style.position="absolute",D.style.left=_+"px",D.style.top="6px",D.style.height="28px",D.style.minWidth=Ce+"px",D.style.background="var(--vscode-sideBar-background)",D.style.border="1px solid var(--vscode-panel-border)",D.style.borderRadius="14px",D.style.display="flex",D.style.alignItems="center",D.style.zIndex="2",D.style.fontSize="12px",D.style.overflow="hidden";let Se=P.toLocaleDateString([],{month:"short",day:"numeric",year:"numeric"}),ke=Y?Y.toLocaleDateString([],{month:"short",day:"numeric",year:"numeric"}):"No end date";D.title=`${w.title||"Item"} (${Se} - ${ke})`;let $=document.createElement("div");$.style.position="sticky",$.style.left="0",$.style.padding="0 8px",$.style.display="flex",$.style.alignItems="center",$.style.gap="6px",$.style.whiteSpace="nowrap",$.style.width="100%";let Ee=(X,K)=>!X||(K?.dataType||K?.type)?.toLowerCase()!=="assignees"?j(X,K,w,this.items):(X.assignees||[]).length===0?"":`<div style="display:flex; align-items:center;">${j(X,K,w,this.items).split("</span></span>")[0]}</span></span></div>`;$.innerHTML=`<div style="display:flex; align-items:center; gap:6px; overflow:hidden;">${j(z,b,w,this.items)}</div>${W?`<div style="margin-left:auto; display:flex;">${Ee(W,N)}</div>`:""}`,D.appendChild($),w.url&&(D.onclick=()=>this.onAction("openUrl",w,{})),R.appendChild(D)}});let H=document.createElement("div");H.style.height="32px",H.style.display="flex",H.style.alignItems="center",H.style.padding="0 8px",H.style.cursor="pointer",H.style.color="var(--vscode-descriptionForeground)";let T=F("plus",{size:16,fill:"currentColor"});H.innerHTML=`<div style="width:40px; display:flex; justify-content:center;">${T}</div><span style="font-size:13px; opacity: 0.8;">Add item</span>`,H.onclick=()=>this.onAction("addItem",{groupId:y.option.id},{}),e.appendChild(H);let I=document.createElement("div");I.className="roadmap-grid-row",I.style.height="32px",I.style.borderBottom="1px solid var(--vscode-panel-border)",s.appendChild(I),H.onmouseenter=()=>I.style.background="var(--vscode-list-hoverBackground)",H.onmouseleave=()=>I.style.background="transparent"}})}getDateFieldValue(e,t){let i=t==="start"?this.startDateFieldId:this.endDateFieldId,o=i?this.allFields.find(n=>String(n.id)===String(i)):null;if(!o)return null;let s=e.fieldValues.find(n=>String(n.fieldId)===String(o.id));if(!s)return null;let r=null;if(s.date)r=new Date(s.date);else if(s.iterationId&&o.configuration?.iterations){let n=o.configuration.iterations.find(l=>l.id===s.iterationId);n&&(r=new Date(n.startDate),t==="end"&&r.setDate(r.getDate()+(n.duration||14)))}return r&&r.setHours(0,0,0,0),r}calculateOffset(e,t){let i=new Date(e);i.setHours(0,0,0,0);let o=new Date(t);o.setHours(0,0,0,0);let s=i.getTime()-o.getTime();return Math.round(s/(1e3*60*60*24))*this.dayWidth}applyFilter(e){if(!this.container)return;this.container.querySelectorAll("[data-gh-item-id]").forEach(i=>{let o=i,s=o.getAttribute("data-gh-item-id");s&&(o.style.display=e.has(s)?"flex":"none")})}renderMarkers(e,t,i){let o=new Date;if(o.setHours(0,0,0,0),o>=t&&o<=i){let s=this.calculateOffset(o,t),r=document.createElement("div");r.style.position="absolute",r.style.left=s-1+"px",r.style.top="0",r.style.height="100%",r.style.width="2px",r.style.background="#fd8c73",r.style.zIndex="100",r.style.pointerEvents="none",e.appendChild(r);let n=document.createElement("div");n.style.position="absolute",n.style.top="-4px",n.style.left="-3px",n.style.width="8px",n.style.height="8px",n.style.borderRadius="50%",n.style.background="#fd8c73",r.appendChild(n)}if(this.activeMarkers.includes("milestones")){let s=this.allFields.find(n=>(n.dataType||n.type||"").toLowerCase()==="milestone"||n.name.toLowerCase()==="milestone"),r=new Map;this.items.forEach(n=>{let l=n.fieldValues.find(p=>p.fieldId===s?.id);l?.milestone?.dueDate&&r.set(l.milestone.id,new Date(l.milestone.dueDate))}),r.forEach(n=>{if(n.setHours(0,0,0,0),n>=t&&n<=i){let l=this.calculateOffset(n,t),p=document.createElement("div");p.style.position="absolute",p.style.left=l+"px",p.style.top="0",p.style.height="100%",p.style.borderLeft="1px dashed var(--vscode-descriptionForeground)",p.style.zIndex="10",p.style.pointerEvents="none",e.appendChild(p);let a=document.createElement("div");a.style.position="absolute",a.style.top="0",a.style.left="-4px",a.style.width="8px",a.style.height="8px",a.style.background="var(--vscode-descriptionForeground)",a.style.transform="rotate(45deg)",a.style.zIndex="11",p.appendChild(a)}})}this.activeMarkers.forEach(s=>{let r=this.allFields.find(l=>String(l.id)===String(s));if(!r)return;let n=(r.dataType||r.type||"").toLowerCase();if(n==="iteration"&&r.configuration?.iterations)r.configuration.iterations.forEach(l=>{let p=new Date(l.startDate);if(p.setHours(0,0,0,0),p>=t&&p<=i){let a=this.calculateOffset(p,t),m=document.createElement("div");m.style.position="absolute",m.style.left=a+"px",m.style.top="0",m.style.height="100%",m.style.borderLeft="2px solid #0366d6",m.style.opacity="0.7",m.style.zIndex="10",m.style.pointerEvents="none",e.appendChild(m);let d=document.createElement("div");d.className="roadmap-marker-circle",m.appendChild(d);let c=document.createElement("div");c.className="roadmap-marker-label";let f=p.toLocaleDateString([],{month:"short",day:"numeric"}),g=new Date(p);g.setDate(g.getDate()+(l.duration||14));let v=g.toLocaleDateString([],{month:"short",day:"numeric"});c.textContent=`${l.title||l.name||"Iteration"} (${f} - ${v})`,m.appendChild(c)}});else if(n==="date"){let l=new Set;this.items.forEach(p=>{let a=p.fieldValues.find(m=>String(m.fieldId)===String(r.id));a?.date&&l.add(a.date)}),l.forEach(p=>{let a=new Date(p);if(a.setHours(0,0,0,0),!isNaN(a.getTime())&&a>=t&&a<=i){let m=this.calculateOffset(a,t),d=document.createElement("div");d.style.position="absolute",d.style.left=m+"px",d.style.top="0",d.style.height="100%",d.style.borderLeft="1px solid var(--vscode-descriptionForeground)",d.style.opacity="0.4",d.style.zIndex="10",d.style.pointerEvents="none",e.appendChild(d);let c=document.createElement("div");c.className="roadmap-marker-triangle",d.appendChild(c)}})}})}};window.roadmapViewFetcher=function(u,e,t){let i=u&&(u.name||u.id)?u.name||u.id:"Roadmap View";try{he(e,i)}catch{}let o=50,s=null;function r(p,a){let m=p||{},d=m.items||[],c=m.allFields||m.fields||[],f=(m.fields||[]).map(k=>String(k.id));e.innerHTML="",e.style.margin="0",e.style.padding="0",e.style.height="100%",e.style.display="flex",e.style.flexDirection="column",e.style.overflow="hidden";let g=document.createElement("div");g.style.flex="0 0 auto",g.style.background="var(--vscode-editor-background)",g.style.zIndex="20",g.style.position="relative",g.style.display="flex",g.style.justifyContent="space-between",g.style.alignItems="center",g.style.width="100%";let v=document.createElement("div");v.style.flex="1 1 auto",v.style.marginRight="8px",g.appendChild(v);let y=ve(v,t,{suffix:t,step:o,onLoadMore:()=>{o+=50,l()},onSave:()=>{},onDiscard:()=>{l()}});a&&y&&typeof y.setEffectiveFilter=="function"&&y.setEffectiveFilter(a),y&&typeof y.registerItems=="function"&&y.registerItems(d,{fields:c}),e.appendChild(g);let E=document.createElement("div");E.style.flex="1 1 auto",E.style.overflow="hidden",E.style.position="relative",e.appendChild(E);let Z=m?.details?.groupByFields?.nodes||[],x=c.find(k=>Z.some(M=>String(M.id)===String(k.id)||M.name===k.name));s?s.updateData(d,c,f):s=new ue(d,c,f,k=>{y&&y.inputEl&&(y.inputEl.value=k,y.inputEl.dispatchEvent(new Event("input",{bubbles:!0})))},(k,M,A)=>{k==="openUrl"&&M.url?window.__APP_MESSAGING__.postMessage({command:"openUrl",url:M.url}):k==="addItem"&&M&&A&&Promise.resolve().then(()=>(we(),xe)).then(({AddItemMenu:L})=>{new L({anchorElement:A.anchorElement||document.body,onCreateIssue:()=>{window.__APP_MESSAGING__.postMessage({command:"addItem:createIssue",viewKey:t,projectId:p&&p.id,columnFieldId:x?x.id:null,columnValueId:M.groupId==="__no_value__"?null:M.groupId})},onAddFromRepo:()=>{window.__APP_MESSAGING__.postMessage({command:"addItem:addFromRepo",viewKey:t,projectId:p&&p.id,columnFieldId:x?x.id:null,columnValueId:M.groupId==="__no_value__"?null:M.groupId})}}).show()}).catch(L=>console.error("Failed to load AddItemMenu",L))}),s.renderRoadmap(E,m),y&&typeof y.onFilterChange=="function"&&y.onFilterChange(k=>{s&&s.applyFilter(k)})}function n(p){let a=p.data;a&&a.command==="fields"&&a.viewKey===t&&(a.error?ge(e,i,String(a.error)):r(a.payload,a.effectiveFilter))}function l(){window.__APP_MESSAGING__.postMessage({command:"requestFields",first:o,viewKey:t})}window.addEventListener("message",n),l()};})();
//# sourceMappingURL=roadmapViewFetcher.js.map
