function w(i,a,d){a.innerHTML='<div class="title">'+(i.name||i.id||"Roadmap View")+'</div><div class="loading"><em>Loading roadmap\u2026</em></div>';let r=50;function p(t){return t?String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):""}function l(t){try{let e=t&&t.items||[];a.innerHTML='<div class="title">'+(i.name||i.id||"Roadmap View")+"</div><div><strong>Items:</strong> "+e.length+"</div>";let n=document.createElement("ol");n.style.marginTop="8px";for(let s=0;s<e.length;s++){let o=e[s],c=document.createElement("li");c.style.marginBottom="6px";let f=o&&o.content&&(o.content.title||o.content.name)||o&&o.title||o&&o.raw&&o.raw.title||"#"+(s+1);c.innerHTML='<div style="font-weight:600">'+p(String(f||""))+"</div>",n.appendChild(c)}a.appendChild(n)}catch{a.innerHTML='<div class="title">'+(i.name||i.id||"Roadmap View")+"</div><div>Error rendering snapshot</div>"}}function m(t){var n;let e=t&&t.data?t.data:t;try{window.vscodeApi&&typeof window.vscodeApi.postMessage=="function"&&window.vscodeApi.postMessage({command:"debugLog",level:"debug",viewKey:d,message:"roadmapViewFetcher.onMessage",data:{command:e&&e.command,eventViewKey:e&&e.viewKey}})}catch{}try{console.log("roadmapViewFetcher.onMessage",{cmd:e&&e.command,viewKey:e&&e.viewKey})}catch{}if(e&&e.command==="fields"){if(e.viewKey&&d&&String(e.viewKey)!==String(d))return;e.error?a.innerHTML='<div class="title">'+(i.name||i.id||"Roadmap View")+'</div><div style="color:var(--vscode-editor-foreground)">'+String(e.error)+"</div>":l(e.payload||((n=e.payload)==null?void 0:n.data)||e.payload)}}function g(){try{try{window.vscodeApi&&typeof window.vscodeApi.postMessage=="function"&&window.vscodeApi.postMessage({command:"debugLog",level:"debug",viewKey:d,message:"roadmapViewFetcher.requestFields",data:{first:r}})}catch{}try{console.log("roadmapViewFetcher.requestFields",{viewKey:d,first:r})}catch{}if(typeof acquireVsCodeApi=="function"||window.vscodeApi&&typeof window.vscodeApi.postMessage=="function")try{window.vscodeApi&&typeof window.vscodeApi.postMessage=="function"?window.vscodeApi.postMessage({command:"requestFields",first:r,viewKey:d}):typeof acquireVsCodeApi=="function"&&acquireVsCodeApi().postMessage({command:"requestFields",first:r,viewKey:d})}catch{}}catch{}}window.addEventListener("message",m),g()}try{window.roadmapViewFetcher=w}catch{}
