{
  "version": 3,
  "sources": ["../../src/webviews/client/utils.ts", "../../src/webviews/client/renderers/cellRenderer.ts", "../../src/webviews/client/components/ColumnHeaderMenu.ts", "../../src/webviews/client/components/SlicePanel.ts", "../../src/webviews/client/components/ProjectTable.ts", "../../src/webviews/client/viewFetcherUtils.ts", "../../src/webviews/client/utils/tableSorting.ts", "../../src/webviews/client/tableViewFetcher.ts"],
  "sourcesContent": ["export function escapeHtml(s: any): string {\r\n    return s\r\n        ? String(s)\r\n            .replace(/&/g, \"&amp;\")\r\n            .replace(/</g, \"&lt;\")\r\n            .replace(/>/g, \"&gt;\")\r\n        : \"\";\r\n}\r\n\r\nexport function normalizeColor(color: any): string | null {\r\n    if (!color) return null;\r\n    let n = String(color).trim();\r\n    if (\r\n        /^#?[0-9a-f]{3}$/i.test(n) ||\r\n        /^#?[0-9a-f]{6}$/i.test(n) ||\r\n        /^#?[0-9a-f]{8}$/i.test(n)\r\n    ) {\r\n        let b = n[0] === \"#\" ? n.slice(1) : n;\r\n        return \"#\" + (b.length === 8 ? b.substring(0, 6) : b);\r\n    }\r\n    let s = {\r\n        GRAY: \"#848d97\",\r\n        RED: \"#f85149\",\r\n        ORANGE: \"#db6d28\",\r\n        YELLOW: \"#d29922\",\r\n        GREEN: \"#3fb950\",\r\n        BLUE: \"#2f81f7\",\r\n        PURPLE: \"#a371f7\",\r\n        PINK: \"#db61a2\",\r\n        BLACK: \"#000000\",\r\n        WHITE: \"#ffffff\",\r\n    };\r\n    let u = n.toUpperCase();\r\n    return (s as any)[u] || null;\r\n}\r\n\r\nexport function addAlpha(color: any, alpha: any): string | null {\r\n    if (!color) return null;\r\n    let s = color.replace(\"#\", \"\");\r\n    let u = (b: any) => parseInt(b, 16);\r\n    if (s.length === 3) {\r\n        let b = u(s[0] + s[0]),\r\n            S = u(s[1] + s[1]),\r\n            v = u(s[2] + s[2]);\r\n        return \"rgba(\" + b + \",\" + S + \",\" + v + \",\" + alpha + \")\";\r\n    }\r\n    if (s.length === 6 || s.length === 8) {\r\n        let b = s.length === 8 ? s.substring(0, 6) : s,\r\n            S = u(s.substring(0, 2)),\r\n            v = u(b.substring(2, 4)),\r\n            C = u(b.substring(4, 6));\r\n        return \"rgba(\" + S + \",\" + v + \",\" + C + \",\" + alpha + \")\";\r\n    }\r\n    return null;\r\n}\r\n\r\nexport function getContrastColor(color: any): string {\r\n    if (!color) return \"#333333\";\r\n    let n = color.replace(\"#\", \"\");\r\n    let s = (C: any) => parseInt(C, 16);\r\n    let u, b, S;\r\n    if (n.length === 3)\r\n        (u = s(n[0] + n[0])),\r\n            (b = s(n[1] + n[1])),\r\n            (S = s(n[2] + n[2]));\r\n    else if (n.length === 6 || n.length === 8) {\r\n        let C = n.length === 8 ? n.substring(0, 6) : n;\r\n        (u = s(C.substring(0, 2))),\r\n            (b = s(C.substring(2, 4))),\r\n            (S = s(C.substring(4, 6)));\r\n    } else return \"#333333\";\r\n    return 0.2126 * (u / 255) + 0.7152 * (b / 255) + 0.0722 * (S / 255) > 0.6\r\n        ? \"#111111\"\r\n        : \"#ffffff\";\r\n}\r\n", "import { escapeHtml, normalizeColor, addAlpha, getContrastColor } from \"../utils\";\r\n\r\nexport function renderCell(e: any, n: any, s: any, allItems: any) {\r\n    var u, b, S, v, C, E, W, D, H, T, _, j, U, c, i;\r\n    if (!e) return \"\";\r\n    try {\r\n        switch (e.type) {\r\n            case \"title\": {\r\n                let t =\r\n                    (e &&\r\n                        e.title &&\r\n                        ((e.title.raw && e.title.raw.text) ||\r\n                            (e.title.content &&\r\n                                (e.title.content.title || e.title.content.name)) ||\r\n                            (typeof e.title == \"string\" && e.title))) ||\r\n                    (e && e.content && (e.content.title || e.content.name)) ||\r\n                    (e && e.raw && e.raw.text) ||\r\n                    \"\",\r\n                    o =\r\n                        (e && e.title && e.title.content && e.title.content.number) ||\r\n                        (e && e.raw && e.raw.itemContent && e.raw.itemContent.number) ||\r\n                        (s && s.content && s.content.number) ||\r\n                        \"\",\r\n                    l =\r\n                        (e && e.title && e.title.content && e.title.content.url) ||\r\n                        (e && e.raw && e.raw.itemContent && e.raw.itemContent.url) ||\r\n                        (s && s.content && s.content.url) ||\r\n                        \"\",\r\n                    r = null;\r\n                if (s && Array.isArray(s.fieldValues)) {\r\n                    let w = s.fieldValues.find(\r\n                        (x: any) =>\r\n                            x &&\r\n                            x.type === \"single_select\" &&\r\n                            ((x.raw &&\r\n                                x.raw.field &&\r\n                                String(x.raw.field.name || \"\").toLowerCase() ===\r\n                                \"status\") ||\r\n                                (x.fieldName &&\r\n                                    String(x.fieldName || \"\").toLowerCase() === \"status\") ||\r\n                                (x.field &&\r\n                                    x.field.name &&\r\n                                    String(x.field.name || \"\").toLowerCase() === \"status\"))\r\n                    );\r\n                    w &&\r\n                        (r =\r\n                            (w.option &&\r\n                                (w.option.color || w.option.id || w.option.name)) ||\r\n                            (w.raw && w.raw.color) ||\r\n                            null);\r\n                }\r\n                let a = normalizeColor(r) || null,\r\n                    p = a && /^#([0-9a-f]{3}|[0-9a-f]{6})$/i.test(a) ? a : \"#666666\",\r\n                    g = escapeHtml(String(t || \"\")),\r\n                    f = o ? escapeHtml(String(o)) : \"\";\r\n                return (\r\n                    '<a href=\"' +\r\n                    escapeHtml(String(l || \"\")) +\r\n                    '\" target=\"_blank\" rel=\"noopener noreferrer\" style=\"text-decoration:none;color:inherit;display:inline-flex;align-items:center;gap:8px;width:100%;\"><svg width=\"14\" height=\"14\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" style=\"flex-shrink:0;color:' +\r\n                    escapeHtml(p) +\r\n                    '\"><circle cx=\"8\" cy=\"8\" r=\"6\" fill=\"currentColor\" /></svg><span style=\"flex:1;min-width:0;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;display:block\">' +\r\n                    g +\r\n                    \"</span>\" +\r\n                    (f\r\n                        ? '<span style=\"flex:none;margin-left:6px;color:var(--vscode-descriptionForeground);white-space:nowrap\">#' +\r\n                        f +\r\n                        \"</span>\"\r\n                        : \"\") +\r\n                    \"</a>\"\r\n                );\r\n            }\r\n            case \"text\":\r\n                return \"<div>\" + escapeHtml((u = e.text) != null ? u : \"\") + \"</div>\";\r\n            case \"number\": {\r\n                let t =\r\n                    e.number !== void 0 && e.number !== null ? String(e.number) : \"\";\r\n                return (\r\n                    '<div style=\"text-align:right;font-variant-numeric:tabular-nums\">' +\r\n                    escapeHtml(t) +\r\n                    \"</div>\"\r\n                );\r\n            }\r\n            case \"date\": {\r\n                let t =\r\n                    (v =\r\n                        (S = (b = e.date) != null ? b : e.startDate) != null\r\n                            ? S\r\n                            : e.dueOn) != null\r\n                        ? v\r\n                        : null;\r\n                if (!t) return \"<div></div>\";\r\n                try {\r\n                    let o = new Date(t);\r\n                    if (isNaN(o.getTime())) return \"<div>\" + escapeHtml(String(t)) + \"</div>\";\r\n                    let l = o.toLocaleDateString(\"en-US\", {\r\n                        month: \"short\",\r\n                        day: \"numeric\",\r\n                        year: \"numeric\",\r\n                    });\r\n                    return \"<div>\" + escapeHtml(l) + \"</div>\";\r\n                } catch {\r\n                    return \"<div>\" + escapeHtml(String(t)) + \"</div>\";\r\n                }\r\n            }\r\n            case \"single_select\": {\r\n                let t = escapeHtml(\r\n                    (E = (C = e.option) == null ? void 0 : C.name) != null ? E : \"\"\r\n                ),\r\n                    o = null;\r\n                if (n && Array.isArray(n.options)) {\r\n                    let f = n.options.find(\r\n                        (h: any) =>\r\n                            (h.id && e.option && e.option.id && h.id === e.option.id) ||\r\n                            (h.name &&\r\n                                e.option &&\r\n                                e.option.name &&\r\n                                h.name === e.option.name)\r\n                    );\r\n                    f &&\r\n                        (o = (D = (W = f.color) != null ? W : f.id) != null ? D : null);\r\n                }\r\n                let l = normalizeColor(o) || null,\r\n                    r = !!(l && /^#([0-9a-f]{3}|[0-9a-f]{6})$/i.test(l)),\r\n                    a = l || \"#999999\",\r\n                    p = (r && addAlpha(l, 0.12)) || \"rgba(0,0,0,0.06)\",\r\n                    g = l || \"#333333\";\r\n                // Render a full-width flexible pill so it can shrink and ellipsize inside table cells\r\n                return (\r\n                    '<span style=\"display:block;width:100%;box-sizing:border-box\">' +\r\n                    '<div style=\"display:inline-flex;align-items:center;padding:2px 8px;border:1px solid ' +\r\n                    escapeHtml(a) +\r\n                    \";border-radius:999px;color:\" +\r\n                    escapeHtml(g) +\r\n                    \";background:\" +\r\n                    escapeHtml(p) +\r\n                    ';font-size:12px;line-height:18px;overflow:hidden;box-sizing:border-box;width:100%\">' +\r\n                    '<span style=\"flex:1 1 auto;min-width:0;max-width:100%;display:block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap\">' +\r\n                    t +\r\n                    \"</span>\" +\r\n                    \"</div>\" +\r\n                    \"</span>\"\r\n                );\r\n            }\r\n            case \"labels\":\r\n                return (\r\n                    \"<div>\" +\r\n                    (e.labels || [])\r\n                        .map((o: any) => {\r\n                            let l = escapeHtml(o.name || \"\"),\r\n                                r =\r\n                                    (s &&\r\n                                        ((s.content &&\r\n                                            s.content.repository &&\r\n                                            s.content.repository.nameWithOwner) ||\r\n                                            (s.repository && s.repository.nameWithOwner))) ||\r\n                                    (e.raw &&\r\n                                        e.raw.itemContent &&\r\n                                        e.raw.itemContent.repository &&\r\n                                        e.raw.itemContent.repository.nameWithOwner) ||\r\n                                    null,\r\n                                a = o.color || o.colour || null;\r\n                            if (n && n.repoOptions && r && n.repoOptions[r]) {\r\n                                let k = n.repoOptions[r].find(\r\n                                    (L: any) => L && L.name === o.name\r\n                                );\r\n                                k && (a = k.color || k.colour || a);\r\n                            }\r\n                            let p = normalizeColor(a) || null,\r\n                                g = !!(p && /^#([0-9a-f]{3}|[0-9a-f]{6})$/i.test(p)),\r\n                                f = p || \"#999999\",\r\n                                h = (g && addAlpha(p, 0.12)) || \"rgba(0,0,0,0.06)\",\r\n                                w = p || \"#333333\";\r\n                            return (\r\n                                '<span style=\"display:inline-block;padding:2px 8px;margin-right:6px;border-radius:999px;border:1px solid ' +\r\n                                escapeHtml(f) +\r\n                                \";background:\" +\r\n                                escapeHtml(h) +\r\n                                \";color:\" +\r\n                                escapeHtml(w) +\r\n                                ';font-size:12px;line-height:18px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis\">' +\r\n                                l +\r\n                                \"</span>\"\r\n                            );\r\n                        })\r\n                        .join(\"\") +\r\n                    \"</div>\"\r\n                );\r\n            case \"repository\": {\r\n                let t = escapeHtml(\r\n                    (T = (H = e.repository) == null ? void 0 : H.nameWithOwner) !=\r\n                        null\r\n                        ? T\r\n                        : \"\"\r\n                );\r\n                return (\r\n                    '<a href=\"' +\r\n                    escapeHtml(\r\n                        ((_ = e.repository) == null ? void 0 : _.url) ||\r\n                        ((j = e.repository) == null ? void 0 : j.html_url) ||\r\n                        \"\"\r\n                    ) +\r\n                    '\" target=\"_blank\" rel=\"noopener noreferrer\" style=\"text-decoration:none;color:inherit;display:inline-flex;align-items:center;gap:8px\"><svg width=\"14\" height=\"14\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" style=\"flex-shrink:0;color:var(--vscode-icon-foreground)\"><path fill=\"currentColor\" d=\"M2 2.5A1.5 1.5 0 0 1 3.5 1h9A1.5 1.5 0 0 1 14 2.5v11A1.5 1.5 0 0 1 12.5 15h-9A1.5 1.5 0 0 1 2 13.5v-11zM3.5 2A.5.5 0 0 0 3 2.5V4h10V2.5a.5.5 0 0 0-.5-.5h-9z\"/></svg><span>' +\r\n                    t +\r\n                    \"</span></a>\"\r\n                );\r\n            }\r\n            case \"pull_request\": {\r\n                const prs = e.pullRequests || [];\r\n                return (function () {\r\n                    var prs = e.pullRequests || [];\r\n                    if (!prs || prs.length === 0) return \"\";\r\n                    var out =\r\n                        '<div style=\"display:flex;flex-wrap:wrap;gap:6px;align-items:center\">';\r\n                    for (var i = 0; i < prs.length; i++) {\r\n                        var p = prs[i];\r\n                        var num = escapeHtml(String((p && p.number) || \"\"));\r\n                        var titleText = escapeHtml((p && p.title) || \"\");\r\n                        var url = escapeHtml((p && p.url) || \"\");\r\n                        var rawColor =\r\n                            (p && (p.state_color || p.color || p.colour || p.state)) ||\r\n                            null;\r\n                        var normColor = normalizeColor(rawColor) || null;\r\n                        var hasHex = !!(\r\n                            normColor && /^#([0-9a-f]{3}|[0-9a-f]{6})$/i.test(normColor)\r\n                        );\r\n                        var border = normColor || \"#999999\";\r\n                        var bg = (hasHex && addAlpha(normColor, 0.12)) || \"rgba(0,0,0,0.06)\";\r\n                        var fg = getContrastColor(normColor) || \"#333333\";\r\n                        out +=\r\n                            '<a href=\"' +\r\n                            url +\r\n                            '\" target=\"_blank\" rel=\"noopener noreferrer\" style=\"text-decoration:none;color:inherit\">' +\r\n                            '<span title=\"' +\r\n                            titleText +\r\n                            '\" style=\"display:inline-flex;align-items:center;gap:6px;padding:4px 8px;border-radius:999px;border:1px solid ' +\r\n                            escapeHtml(border) +\r\n                            \";background:\" +\r\n                            escapeHtml(bg) +\r\n                            \";color:\" +\r\n                            escapeHtml(fg) +\r\n                            ';font-size:12px;line-height:18px;overflow:hidden;box-sizing:border-box;max-width:160px\">' +\r\n                            '<svg width=\"12\" height=\"12\" viewBox=\"0 0 16 16\" xmlns=\"http://www.w3.org/2000/svg\" style=\"flex-shrink:0;color:' +\r\n                            escapeHtml(normColor || \"#666\") +\r\n                            '\"><circle cx=\"8\" cy=\"8\" r=\"6\" fill=\"currentColor\" /></svg>' +\r\n                            '<span style=\"flex:1 1 auto;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap\">#' +\r\n                            num +\r\n                            \"</span></span></a>\";\r\n                    }\r\n                    out += \"</div>\";\r\n                    return out;\r\n                })();\r\n            }\r\n            case \"issue\":\r\n                return (e.issues || [])\r\n                    .map(\r\n                        (t: any) =>\r\n                            '<a href=\"' +\r\n                            escapeHtml(t.url || \"\") +\r\n                            '\" target=\"_blank\" rel=\"noopener noreferrer\">#' +\r\n                            escapeHtml(String(t.number || \"\")) +\r\n                            \" \" +\r\n                            escapeHtml(t.title || \"\") +\r\n                            \"</a>\"\r\n                    )\r\n                    .join(\"<br/>\");\r\n            case \"assignees\": {\r\n                let t = e.assignees || [];\r\n                if (t.length === 0) return \"<div></div>\";\r\n                let l = t\r\n                    .slice(0, 3)\r\n                    .map((g: any, f: any) => {\r\n                        let h = escapeHtml(g.avatarUrl || g.avatar || \"\"),\r\n                            w = f === 0 ? \"0px\" : f === 1 ? \"-8px\" : \"-14px\",\r\n                            x = Math.max(1, 3 - f);\r\n                        if (h)\r\n                            return (\r\n                                '<span title=\"' +\r\n                                escapeHtml(g.login || g.name || \"\") +\r\n                                '\" style=\"display:inline-block;width:20px;height:20px;border-radius:50%;overflow:hidden;background-size:cover;background-position:center;background-image:url(' +\r\n                                h +\r\n                                \");border:2px solid var(--vscode-editor-background);margin-left:\" +\r\n                                w +\r\n                                \";vertical-align:middle;position:relative;z-index:\" +\r\n                                x +\r\n                                '\"></span>'\r\n                            );\r\n                        let k = escapeHtml(\r\n                            (g.name || g.login || \"\")\r\n                                .split(\" \")\r\n                                .map((L: any) => L[0] || \"\")\r\n                                .join(\"\")\r\n                                .toUpperCase()\r\n                                .slice(0, 2)\r\n                        );\r\n                        return (\r\n                            '<span title=\"' +\r\n                            escapeHtml(g.login || g.name || \"\") +\r\n                            '\" style=\"display:inline-flex;align-items:center;justify-content:center;width:20px;height:20px;border-radius:50%;background:#777;color:#fff;font-size:11px;border:2px solid var(--vscode-editor-background);margin-left:' +\r\n                            w +\r\n                            \";vertical-align:middle;position:relative;z-index:\" +\r\n                            x +\r\n                            '\">' +\r\n                            k +\r\n                            \"</span>\"\r\n                        );\r\n                    })\r\n                    .join(\"\"),\r\n                    r = t.map((g: any) => g.login || g.name || \"\"),\r\n                    a = \"\";\r\n                return (\r\n                    r.length === 1\r\n                        ? (a = r[0])\r\n                        : r.length === 2\r\n                            ? (a = r[0] + \" and \" + r[1])\r\n                            : (a = r.slice(0, -1).join(\", \") + \" and \" + r.slice(-1)[0]),\r\n                    '<div style=\"display:flex;align-items:center;gap:8px\"><span style=\"display:flex;align-items:center\">' +\r\n                    ('<span style=\"display:inline-block;vertical-align:middle;height:20px;line-height:20px;margin-right:8px;\">' +\r\n                        l +\r\n                        \"</span>\") +\r\n                    '</span><span style=\"white-space:nowrap;overflow:hidden;text-overflow:ellipsis\">' +\r\n                    escapeHtml(a) +\r\n                    \"</span></div>\"\r\n                );\r\n            }\r\n            case \"requested_reviewers\":\r\n                return (\r\n                    \"<div>\" +\r\n                    escapeHtml(\r\n                        (e.reviewers || [])\r\n                            .map((t: any) => t.login || t.name || t.kind || \"\")\r\n                            .join(\", \")\r\n                    ) +\r\n                    \"</div>\"\r\n                );\r\n            case \"iteration\": {\r\n                let t = escapeHtml((U = e.title) != null ? U : \"\"),\r\n                    l = normalizeColor(\"GRAY\") || null,\r\n                    r = !!(l && /^#([0-9a-f]{3}|[0-9a-f]{6})$/i.test(l)),\r\n                    a = l || \"#999999\",\r\n                    p = (r && addAlpha(l, 0.12)) || \"rgba(0,0,0,0.06)\",\r\n                    g = l || \"#333333\";\r\n                return (\r\n                    '<div style=\"display:inline-block;padding:2px 8px;border:1px solid ' +\r\n                    escapeHtml(a) +\r\n                    \";border-radius:999px;color:\" +\r\n                    escapeHtml(g) +\r\n                    \";background:\" +\r\n                    escapeHtml(p) +\r\n                    ';font-size:12px;line-height:18px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis\">' +\r\n                    t +\r\n                    \"</div>\"\r\n                );\r\n            }\r\n            case \"parent_issue\": {\r\n                let t =\r\n                    (e &&\r\n                        (e.parent ||\r\n                            e.parentIssue ||\r\n                            e.issue ||\r\n                            e.option ||\r\n                            e.item ||\r\n                            e.value)) ||\r\n                    (e &&\r\n                        e.raw &&\r\n                        (e.raw.parent || e.raw.itemContent || e.raw.item)) ||\r\n                    null,\r\n                    o =\r\n                        (t &&\r\n                            (t.number || t.id || (t.raw && t.raw.number)) &&\r\n                            (t.number || (t.raw && t.raw.number))) ||\r\n                        \"\",\r\n                    l =\r\n                        (t &&\r\n                            (t.title || t.name || (t.raw && t.raw.title)) &&\r\n                            (t.title || t.name || (t.raw && t.raw.title))) ||\r\n                        \"\",\r\n                    r =\r\n                        (t &&\r\n                            (t.url || t.html_url || (t.raw && t.raw.url)) &&\r\n                            (t.url || t.html_url || (t.raw && t.raw.url))) ||\r\n                        \"\",\r\n                    a = escapeHtml(String(l || \"\")),\r\n                    p = o ? escapeHtml(String(o)) : \"\",\r\n                    g = escapeHtml(String(r || \"\")),\r\n                    f = null;\r\n                try {\r\n                    var itemsList = Array.isArray(allItems)\r\n                        ? allItems\r\n                        : allItems || [];\r\n                    if (\r\n                        Array.isArray(itemsList) &&\r\n                        itemsList.length > 0 &&\r\n                        (o || t)\r\n                    ) {\r\n                        let B =\r\n                            (t &&\r\n                                t.repository &&\r\n                                (t.repository.nameWithOwner || t.repository.name)) ||\r\n                            (t &&\r\n                                t.content &&\r\n                                t.content.repository &&\r\n                                t.content.repository.nameWithOwner) ||\r\n                            null,\r\n                            O = [];\r\n                        o && O.push(String(o)),\r\n                            t &&\r\n                            (t.id || (t.raw && t.raw.id)) &&\r\n                            O.push(String(t.id || (t.raw && t.raw.id))),\r\n                            t &&\r\n                            (t.url || (t.raw && t.raw.url)) &&\r\n                            O.push(String(t.url || (t.raw && t.raw.url))),\r\n                            t && (t.title || t.name) && O.push(String(t.title || t.name));\r\n                        let $ = itemsList.find((A) => {\r\n                            let d =\r\n                                (A && (A.content || (A.raw && A.raw.itemContent))) || null;\r\n                            if (!d) return !1;\r\n                            let M = [];\r\n                            if (\r\n                                (d.number && M.push(String(d.number)),\r\n                                    d.id && M.push(String(d.id)),\r\n                                    d.url && M.push(String(d.url)),\r\n                                    d.title && M.push(String(d.title)),\r\n                                    d.name && M.push(String(d.name)),\r\n                                    d.raw && d.raw.number && M.push(String(d.raw.number)),\r\n                                    d.raw && d.raw.id && M.push(String(d.raw.id)),\r\n                                    d.raw && d.raw.url && M.push(String(d.raw.url)),\r\n                                    B)\r\n                            ) {\r\n                                let V =\r\n                                    (d.repository &&\r\n                                        (d.repository.nameWithOwner || d.repository.name)) ||\r\n                                    null;\r\n                                if (V && String(V) !== String(B)) return !1;\r\n                            }\r\n                            for (let V = 0; V < O.length; V++)\r\n                                for (let X = 0; X < M.length; X++)\r\n                                    if (O[V] && M[X] && String(O[V]) === String(M[X]))\r\n                                        return !0;\r\n                            return !1;\r\n                        });\r\n                        if ($ && Array.isArray($.fieldValues)) {\r\n                            let A = $.fieldValues.find(\r\n                                (d: any) =>\r\n                                    d &&\r\n                                    d.type === \"single_select\" &&\r\n                                    ((d.raw &&\r\n                                        d.raw.field &&\r\n                                        String(d.raw.field.name || \"\").toLowerCase() ===\r\n                                        \"status\") ||\r\n                                        (d.fieldName &&\r\n                                            String(d.fieldName || \"\").toLowerCase() ===\r\n                                            \"status\") ||\r\n                                        (d.field &&\r\n                                            d.field.name &&\r\n                                            String(d.field.name || \"\").toLowerCase() ===\r\n                                            \"status\"))\r\n                            );\r\n                            A &&\r\n                                (f =\r\n                                    (A.option &&\r\n                                        (A.option.color || A.option.id || A.option.name)) ||\r\n                                    (A.raw && A.raw.color) ||\r\n                                    null);\r\n                        }\r\n                    }\r\n                } catch { }\r\n                f ||\r\n                    (f =\r\n                        (t &&\r\n                            ((t.option &&\r\n                                (t.option.color || t.option.id || t.option.name)) ||\r\n                                t.color ||\r\n                                t.colour)) ||\r\n                        null);\r\n                let h = normalizeColor(f) || null,\r\n                    w = !!(h && /^#([0-9a-f]{3}|[0-9a-f]{6})$/i.test(h)),\r\n                    x = h || \"#999999\",\r\n                    k = (w && addAlpha(h, 0.12)) || \"rgba(0,0,0,0.06)\",\r\n                    L = getContrastColor(h) || \"#333333\",\r\n                    q =\r\n                        '<span style=\"display:block;width:100%;box-sizing:border-box\">' +\r\n                        '<div style=\"display:inline-flex;align-items:center;gap:8px;padding:4px 10px;border:1px solid ' +\r\n                        escapeHtml(x) +\r\n                        \";border-radius:999px;color:\" +\r\n                        escapeHtml(L) +\r\n                        \";background:\" +\r\n                        escapeHtml(k) +\r\n                        ';font-size:12px;line-height:18px;overflow:hidden;box-sizing:border-box;width:100%\">' +\r\n                        '<svg width=\"14\" height=\"14\" viewBox=\"0 0 16 16\" xmlns=\"http://www.w3.org/2000/svg\" style=\"flex-shrink:0;color:' +\r\n                        escapeHtml(h || \"#666\") +\r\n                        '\"><circle cx=\"8\" cy=\"8\" r=\"6\" fill=\"currentColor\" /></svg>' +\r\n                        '<span style=\"flex:1;min-width:0;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;display:block\">' +\r\n                        a +\r\n                        \"</span>\" +\r\n                        (p\r\n                            ? '<span style=\"margin-left:6px;color:var(--vscode-descriptionForeground);white-space:nowrap\">#' +\r\n                            p +\r\n                            \"</span>\"\r\n                            : \"\") +\r\n                        \"</div></span>\";\r\n                return g\r\n                    ? '<span data-gh-open=\"' +\r\n                    g +\r\n                    '\" style=\"display:block;width:100%;cursor:pointer\">' +\r\n                    q +\r\n                    \"</span>\"\r\n                    : q;\r\n            }\r\n            case \"milestone\":\r\n                return (\r\n                    \"<div>\" +\r\n                    escapeHtml(\r\n                        (i = (c = e.milestone) == null ? void 0 : c.title) != null\r\n                            ? i\r\n                            : \"\"\r\n                    ) +\r\n                    \"</div>\"\r\n                );\r\n            case \"sub_issues_progress\":\r\n                try {\r\n                    // Only render when there is a meaningful total (> 0)\r\n                    if (!e || e.total == null || Number(e.total) <= 0) return \"\";\r\n                    const totalCount = Math.max(0, Math.floor(Number(e.total) || 0));\r\n                    const doneCount = Math.max(0, Math.floor(Number(e.done || 0)));\r\n                    if (totalCount === 0) return \"\";\r\n                    // percentage for text\r\n                    let pct = null;\r\n                    if (e.percent !== void 0 && e.percent !== null)\r\n                        pct = Number(e.percent);\r\n                    else pct = Math.round((doneCount / totalCount) * 100);\r\n                    if (pct == null || !isFinite(pct)) return \"\";\r\n                    pct = Math.max(0, Math.min(100, pct));\r\n                    // Build segmented bar: one segment per total; filled segments show full color,\r\n                    // remaining segments show only border using the active theme color.\r\n                    let segs = [];\r\n                    for (let si = 0; si < totalCount; si++) {\r\n                        if (si < doneCount) {\r\n                            segs.push(\r\n                                '<div style=\"flex:1;height:12px;border-radius:4px;background:var(--vscode-focusBorder)\"></div>'\r\n                            );\r\n                        } else {\r\n                            segs.push(\r\n                                '<div style=\"flex:1;height:12px;border-radius:4px;border:1px solid var(--vscode-focusBorder);background:transparent\"></div>'\r\n                            );\r\n                        }\r\n                    }\r\n                    return (\r\n                        '<div style=\"display:flex;align-items:center;gap:8px\">' +\r\n                        '<div style=\"flex:1;min-width:0;display:flex;gap:4px;align-items:center\">' +\r\n                        segs.join(\"\") +\r\n                        \"</div>\" +\r\n                        '<div style=\"min-width:44px;text-align:right;font-variant-numeric:tabular-nums;color:var(--vscode-descriptionForeground)\">' +\r\n                        escapeHtml(String(pct) + \"%\") +\r\n                        \"</div>\" +\r\n                        \"</div>\"\r\n                    );\r\n                } catch {\r\n                    return \"\";\r\n                }\r\n            case \"missing\":\r\n                return \"\";\r\n            default:\r\n                return (\r\n                    \"<div>\" +\r\n                    escapeHtml(\r\n                        e && e.raw && e.raw.__typename\r\n                            ? String(e.raw.__typename)\r\n                            : JSON.stringify(e).slice(0, 200)\r\n                    ) +\r\n                    \"</div>\"\r\n                );\r\n        }\r\n    } catch {\r\n        return \"\";\r\n    }\r\n}\r\n", "/**\r\n * Column Header Dropdown Menu Component\r\n * Shows context menu when clicking column header with actions like sort, group, slice, hide, move\r\n */\r\n\r\nexport interface MenuOptions {\r\n    canGroup: boolean;\r\n    canSlice: boolean;\r\n    canFilter: boolean;\r\n    onSort?: (direction: 'ASC' | 'DESC') => void;\r\n    onGroup?: () => void;\r\n    onSlice?: () => void;\r\n    onHide?: () => void;\r\n    onMove?: (direction: 'left' | 'right') => void;\r\n    onFilter?: () => void;\r\n}\r\n\r\nexport class ColumnHeaderMenu {\r\n    private field: any;\r\n    private options: MenuOptions;\r\n    private menuElement: HTMLElement | null = null;\r\n    private backdropElement: HTMLElement | null = null;\r\n\r\n    constructor(field: any, options: MenuOptions) {\r\n        this.field = field;\r\n        this.options = options;\r\n    }\r\n\r\n    /**\r\n     * Show the menu anchored below the header element\r\n     */\r\n    public show(anchorElement: HTMLElement): void {\r\n        // Hide any existing menu\r\n        this.hide();\r\n\r\n        // Create backdrop to detect outside clicks\r\n        this.backdropElement = document.createElement('div');\r\n        this.backdropElement.style.position = 'fixed';\r\n        this.backdropElement.style.top = '0';\r\n        this.backdropElement.style.left = '0';\r\n        this.backdropElement.style.right = '0';\r\n        this.backdropElement.style.bottom = '0';\r\n        this.backdropElement.style.zIndex = '999';\r\n        this.backdropElement.addEventListener('click', () => this.hide());\r\n        document.body.appendChild(this.backdropElement);\r\n\r\n        // Create menu\r\n        this.menuElement = document.createElement('div');\r\n        this.menuElement.className = 'column-header-menu';\r\n        this.menuElement.style.position = 'absolute';\r\n        this.menuElement.style.background = 'var(--vscode-menu-background)';\r\n        this.menuElement.style.border = '1px solid var(--vscode-menu-border)';\r\n        this.menuElement.style.borderRadius = '4px';\r\n        this.menuElement.style.boxShadow = '0 2px 8px rgba(0, 0, 0, 0.15)';\r\n        this.menuElement.style.minWidth = '180px';\r\n        this.menuElement.style.padding = '4px 0';\r\n        this.menuElement.style.zIndex = '1000';\r\n        this.menuElement.style.fontSize = '13px';\r\n\r\n        // Position below anchor\r\n        const rect = anchorElement.getBoundingClientRect();\r\n        this.menuElement.style.top = `${rect.bottom + 4}px`;\r\n        this.menuElement.style.left = `${rect.left}px`;\r\n\r\n        // Build menu items\r\n        this.buildMenuItems();\r\n\r\n        document.body.appendChild(this.menuElement);\r\n    }\r\n\r\n    /**\r\n     * Hide and remove the menu\r\n     */\r\n    public hide(): void {\r\n        if (this.menuElement) {\r\n            this.menuElement.remove();\r\n            this.menuElement = null;\r\n        }\r\n        if (this.backdropElement) {\r\n            this.backdropElement.remove();\r\n            this.backdropElement = null;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Build menu items based on options\r\n     */\r\n    private buildMenuItems(): void {\r\n        if (!this.menuElement) return;\r\n\r\n        // Header\r\n        this.addMenuItem('Select column', null, { isHeader: true });\r\n        this.addSeparator();\r\n\r\n        // Sort options (always available)\r\n        this.addMenuItem('Sort ascending \u2191', () => {\r\n            this.options.onSort?.('ASC');\r\n            this.hide();\r\n        }, { icon: '\u2191' });\r\n\r\n        this.addMenuItem('Sort descending \u2193', () => {\r\n            this.options.onSort?.('DESC');\r\n            this.hide();\r\n        }, { icon: '\u2193' });\r\n\r\n        this.addSeparator();\r\n\r\n        // Group by (conditional)\r\n        if (this.options.canGroup) {\r\n            this.addMenuItem('Group by values', () => {\r\n                this.options.onGroup?.();\r\n                this.hide();\r\n            });\r\n        }\r\n\r\n        // Slice by (conditional)\r\n        if (this.options.canSlice) {\r\n            this.addMenuItem('Slice by values', () => {\r\n                this.options.onSlice?.();\r\n                this.hide();\r\n            });\r\n        }\r\n\r\n        // Filter (conditional)\r\n        if (this.options.canFilter) {\r\n            this.addMenuItem('Filter by values...', () => {\r\n                this.options.onFilter?.();\r\n                this.hide();\r\n            });\r\n        }\r\n\r\n        // Always available actions\r\n        if (this.options.canGroup || this.options.canSlice || this.options.canFilter) {\r\n            this.addSeparator();\r\n        }\r\n\r\n        this.addMenuItem('Hide field', () => {\r\n            this.options.onHide?.();\r\n            this.hide();\r\n        });\r\n\r\n        this.addSeparator();\r\n\r\n        this.addMenuItem('Move left \u2190', () => {\r\n            this.options.onMove?.('left');\r\n            this.hide();\r\n        }, { icon: '\u2190' });\r\n\r\n        this.addMenuItem('Move right \u2192', () => {\r\n            this.options.onMove?.('right');\r\n            this.hide();\r\n        }, { icon: '\u2192' });\r\n    }\r\n\r\n    /**\r\n     * Add a menu item\r\n     */\r\n    private addMenuItem(\r\n        label: string,\r\n        onClick: (() => void) | null,\r\n        options?: { isHeader?: boolean; icon?: string }\r\n    ): void {\r\n        if (!this.menuElement) return;\r\n\r\n        const item = document.createElement('div');\r\n        item.className = 'menu-item';\r\n        item.textContent = label;\r\n\r\n        if (options?.isHeader) {\r\n            item.style.padding = '6px 12px';\r\n            item.style.fontWeight = '600';\r\n            item.style.color = 'var(--vscode-descriptionForeground)';\r\n            item.style.fontSize = '11px';\r\n            item.style.textTransform = 'uppercase';\r\n            item.style.cursor = 'default';\r\n        } else {\r\n            item.style.padding = '6px 12px';\r\n            item.style.cursor = 'pointer';\r\n            item.style.color = 'var(--vscode-menu-foreground)';\r\n\r\n            if (onClick) {\r\n                item.addEventListener('mouseenter', () => {\r\n                    item.style.background = 'var(--vscode-menu-selectionBackground)';\r\n                    item.style.color = 'var(--vscode-menu-selectionForeground)';\r\n                });\r\n\r\n                item.addEventListener('mouseleave', () => {\r\n                    item.style.background = 'transparent';\r\n                    item.style.color = 'var(--vscode-menu-foreground)';\r\n                });\r\n\r\n                item.addEventListener('click', onClick);\r\n            }\r\n        }\r\n\r\n        this.menuElement.appendChild(item);\r\n    }\r\n\r\n    /**\r\n     * Add menu separator\r\n     */\r\n    private addSeparator(): void {\r\n        if (!this.menuElement) return;\r\n\r\n        const separator = document.createElement('div');\r\n        separator.style.height = '1px';\r\n        separator.style.background = 'var(--vscode-menu-separatorBackground)';\r\n        separator.style.margin = '4px 0';\r\n\r\n        this.menuElement.appendChild(separator);\r\n    }\r\n}\r\n", "/**\r\n * Slice Panel Component\r\n * Shows unique values for a field with counts, allowing quick filtering\r\n */\r\n\r\nexport class SlicePanel {\r\n    private container: HTMLElement;\r\n    private field: any;\r\n    private items: any[];\r\n    private panelElement: HTMLElement | null = null;\r\n    private onValueSelectCallback?: (value: any) => void;\r\n\r\n    constructor(container: HTMLElement, field: any, items: any[]) {\r\n        this.container = container;\r\n        this.field = field;\r\n        this.items = items;\r\n    }\r\n\r\n    /**\r\n     * Render the slice panel\r\n     */\r\n    public render(): void {\r\n        this.close(); // Close any existing panel\r\n\r\n        // Create panel\r\n        this.panelElement = document.createElement('div');\r\n        this.panelElement.className = 'slice-panel';\r\n        this.panelElement.style.position = 'relative'; // Not fixed!\r\n        this.panelElement.style.float = 'left'; // Float left\r\n        this.panelElement.style.width = '250px';\r\n        this.panelElement.style.marginRight = '12px';\r\n        this.panelElement.style.background = 'var(--vscode-sideBar-background)';\r\n        this.panelElement.style.border = '1px solid var(--vscode-sideBar-border)';\r\n        this.panelElement.style.borderRadius = '4px';\r\n        this.panelElement.style.display = 'flex';\r\n        this.panelElement.style.flexDirection = 'column';\r\n        this.panelElement.style.overflow = 'hidden';\r\n        this.panelElement.style.maxHeight = '600px';\r\n\r\n        // Header\r\n        const header = document.createElement('div');\r\n        header.style.padding = '12px';\r\n        header.style.borderBottom = '1px solid var(--vscode-sideBar-border)';\r\n        header.style.display = 'flex';\r\n        header.style.justifyContent = 'space-between';\r\n        header.style.alignItems = 'center';\r\n\r\n        const title = document.createElement('div');\r\n        title.textContent = `Slice by ${this.field.name}`;\r\n        title.style.fontWeight = '600';\r\n        header.appendChild(title);\r\n\r\n        const closeBtn = document.createElement('button');\r\n        closeBtn.textContent = '\u00D7';\r\n        closeBtn.style.background = 'transparent';\r\n        closeBtn.style.border = 'none';\r\n        closeBtn.style.fontSize = '24px';\r\n        closeBtn.style.cursor = 'pointer';\r\n        closeBtn.style.color = 'var(--vscode-foreground)';\r\n        closeBtn.addEventListener('click', () => this.close());\r\n        header.appendChild(closeBtn);\r\n\r\n        this.panelElement.appendChild(header);\r\n\r\n        // Content\r\n        const content = document.createElement('div');\r\n        content.style.flex = '1';\r\n        content.style.overflow = 'auto';\r\n        content.style.padding = '8px';\r\n\r\n        this.renderValues(content);\r\n\r\n        this.panelElement.appendChild(content);\r\n        this.container.appendChild(this.panelElement);\r\n    }\r\n\r\n    /**\r\n     * Render the list of unique values with counts\r\n     */\r\n    private renderValues(container: HTMLElement): void {\r\n        // Get unique values and their counts\r\n        const valueCounts = this.getValueCounts();\r\n\r\n        if (valueCounts.size === 0) {\r\n            const empty = document.createElement('div');\r\n            empty.textContent = 'No values';\r\n            empty.style.padding = '8px';\r\n            empty.style.color = 'var(--vscode-descriptionForeground)';\r\n            container.appendChild(empty);\r\n            return;\r\n        }\r\n\r\n        // Sort by count (descending)\r\n        const sorted = Array.from(valueCounts.entries())\r\n            .sort((a, b) => b[1] - a[1]);\r\n\r\n        // Render each value\r\n        sorted.forEach(([value, count]) => {\r\n            const item = document.createElement('div');\r\n            item.className = 'slice-value-item';\r\n            item.style.padding = '8px 12px';\r\n            item.style.cursor = 'pointer';\r\n            item.style.borderRadius = '4px';\r\n            item.style.marginBottom = '4px';\r\n            item.style.display = 'flex';\r\n            item.style.justifyContent = 'space-between';\r\n            item.style.alignItems = 'center';\r\n\r\n            const label = document.createElement('span');\r\n            label.textContent = this.formatValue(value);\r\n            label.style.flex = '1';\r\n\r\n            const badge = document.createElement('span');\r\n            badge.textContent = String(count);\r\n            badge.style.background = 'var(--vscode-badge-background)';\r\n            badge.style.color = 'var(--vscode-badge-foreground)';\r\n            badge.style.padding = '2px 6px';\r\n            badge.style.borderRadius = '10px';\r\n            badge.style.fontSize = '11px';\r\n\r\n            item.appendChild(label);\r\n            item.appendChild(badge);\r\n\r\n            // Hover effect\r\n            item.addEventListener('mouseenter', () => {\r\n                item.style.background = 'var(--vscode-list-hoverBackground)';\r\n            });\r\n\r\n            item.addEventListener('mouseleave', () => {\r\n                item.style.background = 'transparent';\r\n            });\r\n\r\n            // Click handler\r\n            item.addEventListener('click', () => {\r\n                if (this.onValueSelectCallback) {\r\n                    this.onValueSelectCallback(value);\r\n                }\r\n            });\r\n\r\n            container.appendChild(item);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Get unique values and their counts\r\n     */\r\n    private getValueCounts(): Map<string, number> {\r\n        const counts = new Map<string, number>();\r\n\r\n        this.items.forEach(item => {\r\n            const fieldValue = item.fieldValues?.find((fv: any) =>\r\n                fv.fieldId === this.field.id || fv.fieldName === this.field.name\r\n            );\r\n\r\n            if (fieldValue) {\r\n                const value = this.extractValue(fieldValue);\r\n                const key = String(value || '(empty)');\r\n                counts.set(key, (counts.get(key) || 0) + 1);\r\n            } else {\r\n                counts.set('(empty)', (counts.get('(empty)') || 0) + 1);\r\n            }\r\n        });\r\n\r\n        return counts;\r\n    }\r\n\r\n    /**\r\n     * Extract value from field value object\r\n     */\r\n    private extractValue(fieldValue: any): any {\r\n        const dataType = (this.field.dataType || '').toLowerCase();\r\n\r\n        switch (dataType) {\r\n            case 'text':\r\n            case 'title':\r\n                return fieldValue.text || fieldValue.title;\r\n            case 'number':\r\n                return fieldValue.number;\r\n            case 'date':\r\n                return fieldValue.date;\r\n            case 'single_select':\r\n                return fieldValue.option?.name || fieldValue.name;\r\n            case 'iteration':\r\n                return fieldValue.title || fieldValue.iteration?.title;\r\n            default:\r\n                return fieldValue.text || fieldValue.value || null;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Format value for display\r\n     */\r\n    private formatValue(value: any): string {\r\n        if (value === null || value === undefined) {\r\n            return '(empty)';\r\n        }\r\n        return String(value);\r\n    }\r\n\r\n    /**\r\n     * Register callback for value selection\r\n     */\r\n    public onValueSelect(callback: (value: any) => void): void {\r\n        this.onValueSelectCallback = callback;\r\n    }\r\n\r\n    /**\r\n     * Close and remove the panel\r\n     */\r\n    public close(): void {\r\n        if (this.panelElement) {\r\n            this.panelElement.remove();\r\n            this.panelElement = null;\r\n        }\r\n    }\r\n}\r\n", "import { renderCell } from \"../renderers/cellRenderer\";\r\nimport { normalizeColor, getContrastColor } from \"../utils\";\r\nimport { ColumnHeaderMenu } from \"./ColumnHeaderMenu\";\r\nimport { SlicePanel } from \"./SlicePanel\";\r\nimport type { SortConfig } from \"../utils/tableSorting\";\r\n\r\nexport interface TableOptions {\r\n    groupingFieldName?: string;\r\n    sortConfig?: SortConfig | null;\r\n    viewKey?: string;\r\n    hiddenFields?: string[];\r\n    onSortChange?: (config: SortConfig) => void;\r\n    onGroupChange?: (fieldName: string) => void;\r\n    onSliceChange?: (field: any) => void;\r\n}\r\n\r\nexport class ProjectTable {\r\n    private container: HTMLElement;\r\n    private allFields: any[]; // All fields including hidden\r\n    private fields: any[]; // Visible fields only\r\n    private items: any[];\r\n    private options: TableOptions;\r\n    private hiddenFieldIds: Set<string>;\r\n    private activeMenu: ColumnHeaderMenu | null = null;\r\n    private activeSlicePanel: SlicePanel | null = null;\r\n\r\n    constructor(container: HTMLElement, fields: any[], items: any[], options: TableOptions = {}) {\r\n        this.container = container;\r\n        this.allFields = fields;\r\n        this.options = options;\r\n        this.items = items;\r\n\r\n        // Load hidden fields from options or localStorage\r\n        const hiddenFromStorage = this.loadHiddenFields();\r\n        const hiddenFromOptions = options.hiddenFields || [];\r\n        this.hiddenFieldIds = new Set([...hiddenFromStorage, ...hiddenFromOptions]);\r\n\r\n        // Filter visible fields\r\n        this.fields = this.allFields.filter(f => !this.hiddenFieldIds.has(f.id));\r\n\r\n        // Load and apply field order if stored\r\n        this.applyFieldOrder();\r\n    }\r\n\r\n    public render() {\r\n        this.container.innerHTML = \"\";\r\n\r\n        const tableContainer = document.createElement(\"div\");\r\n        tableContainer.style.overflowX = \"auto\";\r\n        tableContainer.style.overflowY = \"auto\";\r\n        tableContainer.style.width = \"100%\";\r\n        tableContainer.style.display = \"block\";\r\n        tableContainer.style.height = \"100%\"; // Let it grow\r\n\r\n        const table = document.createElement(\"table\");\r\n        table.style.borderCollapse = \"separate\";\r\n        table.style.borderSpacing = \"0\";\r\n        table.style.tableLayout = \"fixed\";\r\n        table.style.width = \"max-content\";\r\n\r\n        this.renderColGroup(table);\r\n        this.renderHeader(table);\r\n        this.renderBody(table);\r\n\r\n        tableContainer.appendChild(table);\r\n        this.container.appendChild(tableContainer);\r\n\r\n        // Post-render: adjust column widths based on content (simple heuristic)\r\n        // This was in the original code, we can keep it or improve it.\r\n        // For now, let's keep the sticky header logic and resizers.\r\n        this.setupResizers(table);\r\n    }\r\n\r\n    private renderColGroup(table: HTMLTableElement) {\r\n        const colgroup = document.createElement(\"colgroup\");\r\n        // Index column\r\n        const colIndex = document.createElement(\"col\");\r\n        colIndex.style.width = \"40px\";\r\n        colgroup.appendChild(colIndex);\r\n\r\n        for (const field of this.fields) {\r\n            const col = document.createElement(\"col\");\r\n            col.style.width = \"150px\"; // Default width\r\n            colgroup.appendChild(col);\r\n        }\r\n\r\n        // Add Field column\r\n        const colAddField = document.createElement(\"col\");\r\n        colAddField.style.width = \"50px\";\r\n        colgroup.appendChild(colAddField);\r\n\r\n        table.appendChild(colgroup);\r\n    }\r\n\r\n    private renderHeader(table: HTMLTableElement) {\r\n        const thead = document.createElement(\"thead\");\r\n        thead.style.background = \"var(--vscode-editor-background)\";\r\n        thead.style.position = \"sticky\";\r\n        thead.style.top = \"0\";\r\n        thead.style.zIndex = \"10\";\r\n\r\n        const tr = document.createElement(\"tr\");\r\n\r\n        // Index Header\r\n        const thIndex = document.createElement(\"th\");\r\n        thIndex.textContent = \"#\";\r\n        this.styleHeaderCell(thIndex);\r\n        tr.appendChild(thIndex);\r\n\r\n        // Field Headers\r\n        for (const field of this.fields) {\r\n            const th = document.createElement(\"th\");\r\n\r\n            // Create header content wrapper\r\n            const headerContent = document.createElement('div');\r\n            headerContent.style.display = 'flex';\r\n            headerContent.style.alignItems = 'center';\r\n            headerContent.style.justifyContent = 'space-between';\r\n            headerContent.style.width = '100%';\r\n            headerContent.style.gap = '4px';\r\n\r\n            // Field name span\r\n            const nameSpan = document.createElement('span');\r\n            let headerText = field.name || field.id || \"\";\r\n\r\n            // Add sort indicator if this field is sorted\r\n            if (this.options.sortConfig?.fieldId === field.id) {\r\n                const indicator = this.options.sortConfig?.direction === 'ASC' ? ' \u2191' : ' \u2193';\r\n                headerText += indicator;\r\n            }\r\n\r\n            nameSpan.textContent = headerText;\r\n            nameSpan.style.flex = '1';\r\n            nameSpan.style.overflow = 'hidden';\r\n            nameSpan.style.textOverflow = 'ellipsis';\r\n            nameSpan.style.whiteSpace = 'nowrap';\r\n\r\n            // Check if this field is grouped\r\n            const isGrouped = field.name?.toLowerCase() === this.options.groupingFieldName?.toLowerCase();\r\n\r\n            // Check if this field is being sliced (we'll add this state later)\r\n            const isSliced = false; // TODO: Track active slice field\r\n\r\n            // Icons container (for filter/group indicators)\r\n            const iconsContainer = document.createElement('span');\r\n            iconsContainer.style.display = 'flex';\r\n            iconsContainer.style.alignItems = 'center';\r\n            iconsContainer.style.gap = '2px';\r\n\r\n            // Add filter/funnel icon if grouped or sliced\r\n            if (isGrouped || isSliced) {\r\n                const filterIcon = document.createElement('span');\r\n                filterIcon.textContent = '\u25BC'; // Down arrow\r\n                filterIcon.style.fontSize = '10px';\r\n                filterIcon.style.color = 'var(--vscode-foreground)';\r\n                filterIcon.style.opacity = '0.7';\r\n                filterIcon.title = isGrouped ? 'Grouped by this field' : 'Sliced by this field';\r\n                iconsContainer.appendChild(filterIcon);\r\n            }\r\n\r\n            // Menu button (\u22EE)\r\n            const menuBtn = document.createElement('button');\r\n            menuBtn.textContent = '\u22EE';\r\n            menuBtn.style.background = 'transparent';\r\n            menuBtn.style.border = 'none';\r\n            menuBtn.style.cursor = 'pointer';\r\n            menuBtn.style.fontSize = '16px';\r\n            menuBtn.style.padding = '2px 4px';\r\n            menuBtn.style.color = 'var(--vscode-foreground)';\r\n            menuBtn.style.opacity = '0.6';\r\n            menuBtn.style.borderRadius = '3px';\r\n            menuBtn.title = `${field.name} options`;\r\n\r\n            // Hover effects\r\n            menuBtn.addEventListener('mouseenter', () => {\r\n                menuBtn.style.opacity = '1';\r\n                menuBtn.style.background = 'var(--vscode-toolbar-hoverBackground)';\r\n            });\r\n\r\n            menuBtn.addEventListener('mouseleave', () => {\r\n                menuBtn.style.opacity = '0.6';\r\n                menuBtn.style.background = 'transparent';\r\n            });\r\n\r\n            // Click handler for menu\r\n            menuBtn.addEventListener('click', (e) => {\r\n                e.stopPropagation();\r\n                this.showHeaderMenu(e, field, th);\r\n            });\r\n\r\n            headerContent.appendChild(nameSpan);\r\n            // Add icon indicator BETWEEN name and menu (only if grouped/sliced)\r\n            if (isGrouped || isSliced) {\r\n                headerContent.appendChild(iconsContainer);\r\n            }\r\n            headerContent.appendChild(menuBtn);\r\n            th.appendChild(headerContent);\r\n\r\n            // Header hover state\r\n            th.addEventListener('mouseenter', () => {\r\n                th.style.background = 'var(--vscode-list-hoverBackground)';\r\n            });\r\n\r\n            th.addEventListener('mouseleave', () => {\r\n                th.style.background = 'var(--vscode-editor-background)';\r\n            });\r\n\r\n            this.styleHeaderCell(th);\r\n            tr.appendChild(th);\r\n        }\r\n\r\n        // Add Field column (+)\r\n        const thAddField = document.createElement(\"th\");\r\n        const addFieldBtn = document.createElement('button');\r\n        addFieldBtn.textContent = '+';\r\n        addFieldBtn.style.background = 'transparent';\r\n        addFieldBtn.style.border = 'none';\r\n        addFieldBtn.style.cursor = 'pointer';\r\n        addFieldBtn.style.fontSize = '18px';\r\n        addFieldBtn.style.fontWeight = 'bold';\r\n        addFieldBtn.style.color = 'var(--vscode-foreground)';\r\n        addFieldBtn.style.width = '100%';\r\n        addFieldBtn.style.height = '100%';\r\n        addFieldBtn.title = 'Show hidden fields';\r\n\r\n        addFieldBtn.addEventListener('click', () => this.showHiddenFieldsMenu(addFieldBtn));\r\n\r\n        thAddField.appendChild(addFieldBtn);\r\n        this.styleHeaderCell(thAddField);\r\n        thAddField.style.textAlign = 'center';\r\n        thAddField.style.width = '50px';\r\n        tr.appendChild(thAddField);\r\n\r\n        thead.appendChild(tr);\r\n        table.appendChild(thead);\r\n    }\r\n\r\n    private styleHeaderCell(th: HTMLTableCellElement) {\r\n        th.style.padding = \"6px\";\r\n        th.style.textAlign = \"left\";\r\n        th.style.whiteSpace = \"nowrap\";\r\n        th.style.overflow = \"hidden\";\r\n        th.style.textOverflow = \"ellipsis\";\r\n        th.style.borderRight = \"1px solid var(--vscode-editorGroup-border)\";\r\n        th.style.borderBottom = \"1px solid var(--vscode-editorGroup-border)\";\r\n        th.style.position = \"sticky\";\r\n        th.style.top = \"0\";\r\n        th.style.zIndex = \"11\";\r\n        th.style.background = \"var(--vscode-editor-background)\";\r\n        th.style.height = \"32px\"; // Enforce fixed height\r\n        th.style.boxSizing = \"border-box\";\r\n    }\r\n\r\n    private renderBody(table: HTMLTableElement) {\r\n        const tbody = document.createElement(\"tbody\");\r\n\r\n        // Check for grouping\r\n        const groupingField = this.getGroupingField();\r\n\r\n        if (groupingField) {\r\n            this.renderGroupedRows(tbody, groupingField);\r\n        } else {\r\n            this.renderFlatRows(tbody, this.items);\r\n        }\r\n\r\n        table.appendChild(tbody);\r\n    }\r\n\r\n    private getGroupingField() {\r\n        // Logic to determine grouping field from options or view details\r\n        // Passed via options.groupingFieldName or similar\r\n        if (this.options.groupingFieldName) {\r\n            return this.fields.find(f =>\r\n                (f.name && f.name.toLowerCase() === this.options.groupingFieldName?.toLowerCase()) ||\r\n                (f.id && f.id === this.options.groupingFieldName)\r\n            );\r\n        }\r\n        return null;\r\n    }\r\n\r\n    private renderFlatRows(tbody: HTMLTableSectionElement, items: any[]) {\r\n        items.forEach((item, index) => {\r\n            const tr = this.createRow(item, index);\r\n            tbody.appendChild(tr);\r\n        });\r\n    }\r\n\r\n    private renderGroupedRows(tbody: HTMLTableSectionElement, groupingField: any) {\r\n        // Group items\r\n        const groups = this.groupItems(this.items, groupingField);\r\n\r\n        for (const group of groups) {\r\n            // Render Group Header\r\n            const trHeader = document.createElement(\"tr\");\r\n            const tdHeader = document.createElement(\"td\");\r\n            tdHeader.colSpan = this.fields.length + 1;\r\n            tdHeader.style.padding = \"8px\";\r\n            tdHeader.style.background = \"var(--vscode-editor-background)\"; // Ensure opaque background\r\n            tdHeader.style.fontWeight = \"600\";\r\n            tdHeader.style.borderTop = \"1px solid var(--vscode-editorGroup-border)\";\r\n            tdHeader.style.borderBottom = \"1px solid var(--vscode-editorGroup-border)\";\r\n            tdHeader.style.position = \"sticky\";\r\n            tdHeader.style.top = \"32px\"; // Matches fixed header height\r\n            tdHeader.style.zIndex = \"9\";\r\n            tdHeader.style.boxShadow = \"0 1px 2px rgba(0,0,0,0.1)\"; // Add shadow for better separation\r\n\r\n            // Group Header Content\r\n            const headerContent = document.createElement(\"div\");\r\n            headerContent.style.display = \"flex\";\r\n            headerContent.style.alignItems = \"center\";\r\n            headerContent.style.gap = \"8px\";\r\n\r\n            // Toggle Button\r\n            const toggleBtn = document.createElement(\"vscode-button\");\r\n            toggleBtn.setAttribute(\"appearance\", \"icon\");\r\n            toggleBtn.textContent = \"-\"; // Use icon if available\r\n            toggleBtn.style.width = \"20px\";\r\n            toggleBtn.style.height = \"20px\";\r\n            toggleBtn.style.cursor = \"pointer\";\r\n\r\n            // Group Name & Color\r\n            const colorDot = document.createElement(\"div\");\r\n            colorDot.style.width = \"12px\";\r\n            colorDot.style.height = \"12px\";\r\n            colorDot.style.borderRadius = \"50%\";\r\n            colorDot.style.backgroundColor = normalizeColor(group.option.color) || \"gray\";\r\n\r\n            const nameSpan = document.createElement(\"span\");\r\n            nameSpan.textContent = group.option.name || group.option.title || \"Unassigned\";\r\n\r\n            const countBadge = document.createElement(\"vscode-badge\");\r\n            countBadge.textContent = String(group.items.length);\r\n\r\n            headerContent.appendChild(toggleBtn);\r\n            headerContent.appendChild(colorDot);\r\n            headerContent.appendChild(nameSpan);\r\n            headerContent.appendChild(countBadge);\r\n\r\n            tdHeader.appendChild(headerContent);\r\n            trHeader.appendChild(tdHeader);\r\n            tbody.appendChild(trHeader);\r\n\r\n            // Render Items\r\n            const groupRows: HTMLTableRowElement[] = [];\r\n            group.items.forEach((groupItem: any) => {\r\n                const tr = this.createRow(groupItem.item, groupItem.index);\r\n                tr.classList.add(\"group-row-\" + group.option.id); // Add class for group toggling\r\n                tbody.appendChild(tr);\r\n                groupRows.push(tr);\r\n            });\r\n\r\n            // Toggle Logic\r\n            toggleBtn.addEventListener(\"click\", () => {\r\n                const isCollapsed = toggleBtn.textContent === \"+\";\r\n                toggleBtn.textContent = isCollapsed ? \"-\" : \"+\";\r\n                groupRows.forEach(row => {\r\n                    row.style.display = isCollapsed ? \"table-row\" : \"none\";\r\n                });\r\n            });\r\n        }\r\n    }\r\n\r\n    private groupItems(items: any[], field: any) {\r\n        // Normalize options: Single Select uses .options, Iteration uses .configuration.iterations\r\n        let options: any[] = [];\r\n        const dType = (field.dataType || \"\").toLowerCase();\r\n        if (dType === \"single_select\") {\r\n            options = field.options || [];\r\n        } else if (dType === \"iteration\") {\r\n            options = (field.configuration && field.configuration.iterations) || [];\r\n        }\r\n\r\n        const groups: any[] = options.map((opt: any) => ({ option: opt, items: [] }));\r\n        const unassigned: any[] = [];\r\n\r\n        items.forEach((item, index) => {\r\n            const fv = item.fieldValues.find((v: any) => v.fieldId === field.id || v.fieldName === field.name);\r\n            let placed = false;\r\n\r\n            if (fv) {\r\n                // Match logic\r\n                let matchId: string | null = null;\r\n                let matchName: string | null = null;\r\n\r\n                if (dType === \"single_select\") {\r\n                    matchId = fv.optionId || (fv.option && fv.option.id);\r\n                    matchName = fv.name || (fv.option && fv.option.name);\r\n                } else if (dType === \"iteration\") {\r\n                    matchId = fv.iterationId || (fv.iteration && fv.iteration.id) || fv.id;\r\n                    matchName = fv.title || (fv.iteration && fv.iteration.title);\r\n                }\r\n\r\n                if (matchId || matchName) {\r\n                    const group = groups.find((g: any) =>\r\n                        (matchId && g.option.id === matchId) ||\r\n                        (matchName && (g.option.name === matchName || g.option.title === matchName))\r\n                    );\r\n                    if (group) {\r\n                        group.items.push({ item, index });\r\n                        placed = true;\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (!placed) {\r\n                unassigned.push({ item, index });\r\n            }\r\n        });\r\n\r\n        if (unassigned.length > 0) {\r\n            groups.push({ option: { name: \"Unassigned\", title: \"Unassigned\", color: \"GRAY\" }, items: unassigned });\r\n        }\r\n\r\n        return groups.filter((g: any) => g.items.length > 0);\r\n    }\r\n\r\n    private createRow(item: any, index: number): HTMLTableRowElement {\r\n        const tr = document.createElement(\"tr\");\r\n        tr.setAttribute(\"data-gh-item-id\", item.id);\r\n\r\n        // Index Cell\r\n        const tdIndex = document.createElement(\"td\");\r\n        tdIndex.textContent = String(index + 1);\r\n        this.styleCell(tdIndex);\r\n        tr.appendChild(tdIndex);\r\n\r\n        // Field Cells\r\n        for (const field of this.fields) {\r\n            const td = document.createElement(\"td\");\r\n            this.styleCell(td);\r\n\r\n            const fv = item.fieldValues.find((v: any) => v.fieldId === field.id || v.fieldName === field.name);\r\n            if (fv) {\r\n                td.innerHTML = renderCell(fv, field, item, this.items);\r\n            }\r\n            tr.appendChild(td);\r\n        }\r\n\r\n        return tr;\r\n    }\r\n\r\n    private styleCell(td: HTMLTableCellElement) {\r\n        td.style.padding = \"6px\";\r\n        td.style.borderRight = \"1px solid var(--vscode-editorGroup-border)\";\r\n        td.style.borderBottom = \"1px solid var(--vscode-editorGroup-border)\";\r\n        td.style.whiteSpace = \"nowrap\";\r\n        td.style.overflow = \"hidden\";\r\n        td.style.textOverflow = \"ellipsis\";\r\n    }\r\n\r\n    private showHeaderMenu(event: MouseEvent, field: any, headerElement: HTMLElement) {\r\n        event.stopPropagation();\r\n\r\n        // Hide existing menu\r\n        if (this.activeMenu) {\r\n            this.activeMenu.hide();\r\n        }\r\n\r\n        // Determine capabilities based on field type\r\n        const dataType = (field.dataType || '').toLowerCase();\r\n        const canGroup = ['single_select', 'iteration'].includes(dataType);\r\n        const canSlice = (field.name?.toLowerCase() || '') !== 'title';\r\n\r\n        // Create and show menu\r\n        this.activeMenu = new ColumnHeaderMenu(field, {\r\n            canGroup,\r\n            canSlice,\r\n            canFilter: false, // Optional feature for later\r\n            onSort: (direction) => this.handleSort(field, direction),\r\n            onGroup: () => this.handleGroup(field),\r\n            onSlice: () => this.handleSlice(field),\r\n            onHide: () => this.hideField(field.id),\r\n            onMove: (direction) => this.handleMove(field, direction)\r\n        });\r\n\r\n        this.activeMenu.show(headerElement);\r\n    }\r\n\r\n    private showHiddenFieldsMenu(anchorElement: HTMLElement) {\r\n        // Hide any existing menu\r\n        if (this.activeMenu) {\r\n            this.activeMenu.hide();\r\n        }\r\n\r\n        // Get hidden fields\r\n        const hiddenFields = this.allFields.filter(f => this.hiddenFieldIds.has(f.id));\r\n\r\n        if (hiddenFields.length === 0) {\r\n            // Show message that no fields are hidden\r\n            const message = document.createElement('div');\r\n            message.textContent = 'No hidden fields';\r\n            message.style.position = 'absolute';\r\n            message.style.background = 'var(--vscode-menu-background)';\r\n            message.style.border = '1px solid var(--vscode-menu-border)';\r\n            message.style.borderRadius = '4px';\r\n            message.style.padding = '12px';\r\n            message.style.fontSize = '13px';\r\n            message.style.color = 'var(--vscode-descriptionForeground)';\r\n            message.style.zIndex = '1000';\r\n\r\n            const rect = anchorElement.getBoundingClientRect();\r\n            message.style.top = `${rect.bottom + 4}px`;\r\n            message.style.left = `${rect.left}px`;\r\n\r\n            document.body.appendChild(message);\r\n\r\n            setTimeout(() => message.remove(), 2000);\r\n            return;\r\n        }\r\n\r\n        // Create simple menu for hidden fields\r\n        const menu = document.createElement('div');\r\n        menu.style.position = 'absolute';\r\n        menu.style.background = 'var(--vscode-menu-background)';\r\n        menu.style.border = '1px solid var(--vscode-menu-border)';\r\n        menu.style.borderRadius = '4px';\r\n        menu.style.padding = '4px 0';\r\n        menu.style.minWidth = '180px';\r\n        menu.style.zIndex = '1000';\r\n        menu.style.fontSize = '13px';\r\n\r\n        const rect = anchorElement.getBoundingClientRect();\r\n        menu.style.top = `${rect.bottom + 4}px`;\r\n        menu.style.left = `${rect.left}px`;\r\n\r\n        // Header\r\n        const header = document.createElement('div');\r\n        header.textContent = 'Show field';\r\n        header.style.padding = '6px 12px';\r\n        header.style.fontWeight = '600';\r\n        header.style.color = 'var(--vscode-descriptionForeground)';\r\n        header.style.fontSize = '11px';\r\n        header.style.textTransform = 'uppercase';\r\n        menu.appendChild(header);\r\n\r\n        const separator = document.createElement('div');\r\n        separator.style.height = '1px';\r\n        separator.style.background = 'var(--vscode-menu-separatorBackground)';\r\n        separator.style.margin = '4px 0';\r\n        menu.appendChild(separator);\r\n\r\n        // Field items\r\n        hiddenFields.forEach(field => {\r\n            const item = document.createElement('div');\r\n            item.textContent = field.name || field.id;\r\n            item.style.padding = '6px 12px';\r\n            item.style.cursor = 'pointer';\r\n            item.style.color = 'var(--vscode-menu-foreground)';\r\n\r\n            item.addEventListener('mouseenter', () => {\r\n                item.style.background = 'var(--vscode-menu-selectionBackground)';\r\n                item.style.color = 'var(--vscode-menu-selectionForeground)';\r\n            });\r\n\r\n            item.addEventListener('mouseleave', () => {\r\n                item.style.background = 'transparent';\r\n                item.style.color = 'var(--vscode-menu-foreground)';\r\n            });\r\n\r\n            item.addEventListener('click', () => {\r\n                this.showField(field.id);\r\n                menu.remove();\r\n                backdrop.remove();\r\n            });\r\n\r\n            menu.appendChild(item);\r\n        });\r\n\r\n        // Backdrop\r\n        const backdrop = document.createElement('div');\r\n        backdrop.style.position = 'fixed';\r\n        backdrop.style.top = '0';\r\n        backdrop.style.left = '0';\r\n        backdrop.style.right = '0';\r\n        backdrop.style.bottom = '0';\r\n        backdrop.style.zIndex = '999';\r\n        backdrop.addEventListener('click', () => {\r\n            menu.remove();\r\n            backdrop.remove();\r\n        });\r\n\r\n        document.body.appendChild(backdrop);\r\n        document.body.appendChild(menu);\r\n    }\r\n\r\n    private handleSort(field: any, direction: 'ASC' | 'DESC') {\r\n        const sortConfig: SortConfig = {\r\n            fieldId: field.id,\r\n            direction\r\n        };\r\n\r\n        // Save to localStorage\r\n        this.saveSortConfig(sortConfig);\r\n\r\n        // Notify parent component\r\n        if (this.options.onSortChange) {\r\n            this.options.onSortChange(sortConfig);\r\n        }\r\n    }\r\n\r\n    private handleGroup(field: any) {\r\n        if (this.options.onGroupChange && field.name) {\r\n            this.options.onGroupChange(field.name);\r\n        }\r\n    }\r\n\r\n    private handleSlice(field: any) {\r\n        // Close existing panel\r\n        if (this.activeSlicePanel) {\r\n            this.activeSlicePanel.close();\r\n            this.activeSlicePanel = null;\r\n        }\r\n\r\n        // Create and show new panel in the table container (left side)\r\n        this.activeSlicePanel = new SlicePanel(this.container, field, this.items);\r\n        this.activeSlicePanel.render();\r\n\r\n        // Make sure the slice panel appears before the table\r\n        const table = this.container.querySelector('table');\r\n        if (table) {\r\n            const sliceEl = this.container.querySelector('.slice-panel');\r\n            if (sliceEl) {\r\n                this.container.insertBefore(sliceEl, table);\r\n            }\r\n        }\r\n\r\n        this.activeSlicePanel.onValueSelect((value) => {\r\n            // Filter table by this value\r\n            // TODO: Integrate with filter bar for proper filtering\r\n            console.log(`Filter by ${field.name}:`, value);\r\n        });\r\n\r\n        // Notify parent\r\n        if (this.options.onSliceChange) {\r\n            this.options.onSliceChange(field);\r\n        }\r\n    }\r\n\r\n    public hideField(fieldId: string) {\r\n        this.hiddenFieldIds.add(fieldId);\r\n        this.saveHiddenFields();\r\n        this.fields = this.allFields.filter(f => !this.hiddenFieldIds.has(f.id));\r\n        this.render();\r\n    }\r\n\r\n    public showField(fieldId: string) {\r\n        this.hiddenFieldIds.delete(fieldId);\r\n        this.saveHiddenFields();\r\n        this.fields = this.allFields.filter(f => !this.hiddenFieldIds.has(f.id));\r\n        this.render();\r\n    }\r\n\r\n    private handleMove(field: any, direction: 'left' | 'right') {\r\n        const currentIndex = this.fields.findIndex(f => f.id === field.id);\r\n\r\n        if (direction === 'left' && currentIndex > 0) {\r\n            // Swap with previous\r\n            [this.fields[currentIndex], this.fields[currentIndex - 1]] =\r\n                [this.fields[currentIndex - 1], this.fields[currentIndex]];\r\n        } else if (direction === 'right' && currentIndex < this.fields.length - 1) {\r\n            // Swap with next\r\n            [this.fields[currentIndex], this.fields[currentIndex + 1]] =\r\n                [this.fields[currentIndex + 1], this.fields[currentIndex]];\r\n        }\r\n\r\n        this.saveFieldOrder();\r\n        this.render();\r\n    }\r\n\r\n    // LocalStorage persistence methods\r\n    private getStorageKey(suffix: string): string {\r\n        return this.options.viewKey ? `ghProjects.table.${this.options.viewKey}.${suffix}` : '';\r\n    }\r\n\r\n    private loadHiddenFields(): string[] {\r\n        const key = this.getStorageKey('hiddenFields');\r\n        if (!key) return [];\r\n\r\n        try {\r\n            const stored = localStorage.getItem(key);\r\n            return stored ? JSON.parse(stored) : [];\r\n        } catch {\r\n            return [];\r\n        }\r\n    }\r\n\r\n    private saveHiddenFields() {\r\n        const key = this.getStorageKey('hiddenFields');\r\n        if (!key) return;\r\n\r\n        localStorage.setItem(key, JSON.stringify(Array.from(this.hiddenFieldIds)));\r\n    }\r\n\r\n    private saveSortConfig(config: SortConfig) {\r\n        const key = this.getStorageKey('sortConfig');\r\n        if (!key) return;\r\n\r\n        localStorage.setItem(key, JSON.stringify(config));\r\n    }\r\n\r\n    private saveFieldOrder() {\r\n        const key = this.getStorageKey('fieldOrder');\r\n        if (!key) return;\r\n\r\n        const order = this.fields.map(f => f.id);\r\n        localStorage.setItem(key, JSON.stringify(order));\r\n    }\r\n\r\n    private applyFieldOrder() {\r\n        const key = this.getStorageKey('fieldOrder');\r\n        if (!key) return;\r\n\r\n        try {\r\n            const stored = localStorage.getItem(key);\r\n            if (!stored) return;\r\n\r\n            const order: string[] = JSON.parse(stored);\r\n            const orderedFields: any[] = [];\r\n\r\n            // Add fields in stored order\r\n            for (const fieldId of order) {\r\n                const field = this.fields.find(f => f.id === fieldId);\r\n                if (field) {\r\n                    orderedFields.push(field);\r\n                }\r\n            }\r\n\r\n            // Add any new fields not in stored order\r\n            for (const field of this.fields) {\r\n                if (!orderedFields.find(f => f.id === field.id)) {\r\n                    orderedFields.push(field);\r\n                }\r\n            }\r\n\r\n            this.fields = orderedFields;\r\n        } catch {\r\n            // Ignore errors, use default order\r\n        }\r\n    }\r\n\r\n    private setupResizers(table: HTMLTableElement) {\r\n        const headers = table.querySelectorAll('th');\r\n\r\n        headers.forEach((th, index) => {\r\n            // Skip index column\r\n            if (index === 0) return;\r\n\r\n            // Create resizer element\r\n            const resizer = document.createElement('div');\r\n            resizer.className = 'column-resizer';\r\n            resizer.style.position = 'absolute';\r\n            resizer.style.top = '0';\r\n            resizer.style.right = '0';\r\n            resizer.style.width = '4px';\r\n            resizer.style.height = '100%';\r\n            resizer.style.cursor = 'col-resize';\r\n            resizer.style.userSelect = 'none';\r\n            resizer.style.zIndex = '100';\r\n\r\n            // Visual feedback on hover\r\n            resizer.addEventListener('mouseenter', () => {\r\n                resizer.style.background = 'var(--vscode-focusBorder)';\r\n            });\r\n\r\n            resizer.addEventListener('mouseleave', () => {\r\n                resizer.style.background = 'transparent';\r\n            });\r\n\r\n            // Resize logic\r\n            let startX = 0;\r\n            let startWidth = 0;\r\n\r\n            resizer.addEventListener('mousedown', (e: MouseEvent) => {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n\r\n                startX = e.pageX;\r\n                startWidth = th.offsetWidth;\r\n\r\n                const onMouseMove = (e: MouseEvent) => {\r\n                    const newWidth = Math.max(50, startWidth + (e.pageX - startX));\r\n                    th.style.width = `${newWidth}px`;\r\n                    th.style.minWidth = `${newWidth}px`;\r\n                    th.style.maxWidth = `${newWidth}px`;\r\n                };\r\n\r\n                const onMouseUp = () => {\r\n                    document.removeEventListener('mousemove', onMouseMove);\r\n                    document.removeEventListener('mouseup', onMouseUp);\r\n\r\n                    // Save column width\r\n                    const fieldIndex = index - 1; // Adjust for index column\r\n                    if (fieldIndex >= 0 && fieldIndex < this.fields.length) {\r\n                        this.saveColumnWidth(this.fields[fieldIndex].id, th.offsetWidth);\r\n                    }\r\n                };\r\n\r\n                document.addEventListener('mousemove', onMouseMove);\r\n                document.addEventListener('mouseup', onMouseUp);\r\n            });\r\n\r\n            // Make th position relative for absolute positioning\r\n            (th as HTMLElement).style.position = 'relative';\r\n            th.appendChild(resizer);\r\n        });\r\n\r\n        // Restore column widths from localStorage\r\n        this.restoreColumnWidths(table);\r\n    }\r\n\r\n    private saveColumnWidth(fieldId: string, width: number) {\r\n        const key = this.getStorageKey('columnWidths');\r\n        if (!key) return;\r\n\r\n        try {\r\n            const stored = localStorage.getItem(key);\r\n            const widths = stored ? JSON.parse(stored) : {};\r\n            widths[fieldId] = width;\r\n            localStorage.setItem(key, JSON.stringify(widths));\r\n        } catch { }\r\n    }\r\n\r\n    private restoreColumnWidths(table: HTMLTableElement) {\r\n        const key = this.getStorageKey('columnWidths');\r\n        if (!key) return;\r\n\r\n        try {\r\n            const stored = localStorage.getItem(key);\r\n            if (!stored) return;\r\n\r\n            const widths = JSON.parse(stored);\r\n            const headers = table.querySelectorAll('th');\r\n\r\n            this.fields.forEach((field, index) => {\r\n                const width = widths[field.id];\r\n                if (width) {\r\n                    const th = headers[index + 1] as HTMLElement; // +1 for index column\r\n                    if (th) {\r\n                        th.style.width = `${width}px`;\r\n                        th.style.minWidth = `${width}px`;\r\n                        th.style.maxWidth = `${width}px`;\r\n                    }\r\n                }\r\n            });\r\n        } catch { }\r\n    }\r\n}\r\n", "/// <reference path=\"./global.d.ts\" />\r\n\r\n/**\r\n * Sends a debug log message to the extension host.\r\n */\r\nexport function logDebug(viewKey: string, message: string, data?: any) {\r\n    try {\r\n        if (\r\n            window.vscodeApi &&\r\n            typeof window.vscodeApi.postMessage === \"function\"\r\n        ) {\r\n            window.vscodeApi.postMessage({\r\n                command: \"debugLog\",\r\n                level: \"debug\",\r\n                viewKey: viewKey,\r\n                message: message,\r\n                data: data,\r\n            });\r\n        }\r\n    } catch (e) { }\r\n    try {\r\n        if (console && console.log) {\r\n            console.log(message, data);\r\n        }\r\n    } catch (e) { }\r\n}\r\n\r\n/**\r\n * Sets the container content to a loading state.\r\n */\r\nexport function setLoadingState(container: HTMLElement, titleText: string) {\r\n    container.innerHTML =\r\n        '<div class=\"title\">' +\r\n        titleText +\r\n        '</div><div class=\"loading\"><em>Loading...</em></div>';\r\n}\r\n\r\n/**\r\n * Sets the container content to an error state.\r\n */\r\nexport function setErrorState(container: HTMLElement, titleText: string, error: string) {\r\n    container.innerHTML =\r\n        '<div class=\"title\">' +\r\n        titleText +\r\n        '</div><div style=\"color:var(--vscode-editor-foreground)\">' +\r\n        error +\r\n        \"</div>\";\r\n}\r\n\r\n/**\r\n * Creates a standardized \"Load more\" button.\r\n */\r\nexport function createLoadMoreButton(onClick: () => void): HTMLButtonElement {\r\n    const btn = document.createElement(\"button\");\r\n    btn.type = \"button\";\r\n    btn.textContent = \"Load more\";\r\n    btn.style.marginLeft = \"8px\";\r\n    btn.style.border = \"1px solid var(--vscode-editorWidget-border)\";\r\n    btn.addEventListener(\"click\", () => {\r\n        onClick();\r\n        btn.disabled = true;\r\n        btn.textContent = \"Loading...\";\r\n    });\r\n    return btn;\r\n}\r\n\r\n/**\r\n * Initializes the filter bar using the shared filterBarHelper.\r\n * Returns the barApi if successful, or null.\r\n */\r\nexport function initFilterBar(\r\n    container: HTMLElement,\r\n    viewKey: string,\r\n    options: {\r\n        suffix?: string;\r\n        step?: number;\r\n        onLoadMore?: () => void;\r\n    }\r\n): any {\r\n    if (\r\n        window.filterBarHelper &&\r\n        typeof window.filterBarHelper.create === \"function\"\r\n    ) {\r\n        try {\r\n            return window.filterBarHelper.create({\r\n                parent: container,\r\n                suffix: options.suffix || viewKey,\r\n                effFilter: undefined,\r\n                viewKey: viewKey,\r\n                step: options.step || 50,\r\n                onLoadMore: options.onLoadMore,\r\n            });\r\n        } catch (e) {\r\n            return null;\r\n        }\r\n    }\r\n    return null;\r\n}\r\n\r\n/**\r\n * Toggles visibility of elements based on matched IDs from the filter.\r\n */\r\nexport function applyFilterVisibility(\r\n    root: HTMLElement | Document,\r\n    selector: string,\r\n    matchedIds: Set<string>,\r\n    displayStyle: string = \"block\"\r\n) {\r\n    try {\r\n        const elements = Array.from(root.querySelectorAll(selector));\r\n        for (let i = 0; i < elements.length; i++) {\r\n            try {\r\n                const el = elements[i] as HTMLElement;\r\n                const id = el.getAttribute(\"data-gh-item-id\");\r\n                el.style.display = matchedIds.has(String(id)) ? displayStyle : \"none\";\r\n            } catch (e) { }\r\n        }\r\n    } catch (e) { }\r\n}\r\n", "import type { FieldConfig } from \"../../../lib/types\";\r\n\r\nexport interface SortConfig {\r\n    fieldId: string;\r\n    direction: 'ASC' | 'DESC';\r\n    secondary?: {\r\n        fieldId: string;\r\n        direction: 'ASC' | 'DESC';\r\n    };\r\n}\r\n\r\n/**\r\n * Parse sortByFields from GitHub GraphQL response into SortConfig\r\n */\r\nexport function parseSortByFields(sortByFields: any): SortConfig | null {\r\n    if (!sortByFields || !sortByFields.nodes || sortByFields.nodes.length === 0) {\r\n        return null;\r\n    }\r\n\r\n    const primary = sortByFields.nodes[0];\r\n    if (!primary || !primary.field) {\r\n        return null;\r\n    }\r\n\r\n    const config: SortConfig = {\r\n        fieldId: primary.field.id || primary.field.name,\r\n        direction: primary.direction || 'ASC'\r\n    };\r\n\r\n    // Add secondary sort if available\r\n    if (sortByFields.nodes.length > 1) {\r\n        const secondary = sortByFields.nodes[1];\r\n        if (secondary && secondary.field) {\r\n            config.secondary = {\r\n                fieldId: secondary.field.id || secondary.field.name,\r\n                direction: secondary.direction || 'ASC'\r\n            };\r\n        }\r\n    }\r\n\r\n    return config;\r\n}\r\n\r\n/**\r\n * Sort items array based on sort configuration\r\n */\r\nexport function sortItems(items: any[], fields: FieldConfig[], sortConfig: SortConfig): any[] {\r\n    if (!sortConfig || items.length === 0) {\r\n        return items;\r\n    }\r\n\r\n    const field = fields.find(f => f.id === sortConfig.fieldId || f.name === sortConfig.fieldId);\r\n    if (!field) {\r\n        return items;\r\n    }\r\n\r\n    // Create a copy to avoid mutating original\r\n    const sorted = [...items];\r\n\r\n    sorted.sort((a, b) => {\r\n        // Primary sort\r\n        const primaryResult = compareFieldValues(a, b, field, sortConfig.direction);\r\n\r\n        // If equal and secondary sort exists, use secondary\r\n        if (primaryResult === 0 && sortConfig.secondary) {\r\n            const secondaryField = fields.find(f =>\r\n                f.id === sortConfig.secondary!.fieldId || f.name === sortConfig.secondary!.fieldId\r\n            );\r\n            if (secondaryField) {\r\n                return compareFieldValues(a, b, secondaryField, sortConfig.secondary.direction);\r\n            }\r\n        }\r\n\r\n        return primaryResult;\r\n    });\r\n\r\n    return sorted;\r\n}\r\n\r\n/**\r\n * Compare two items by a specific field\r\n */\r\nexport function compareFieldValues(a: any, b: any, field: FieldConfig, direction: 'ASC' | 'DESC'): number {\r\n    // Find field values for both items\r\n    const aValue = getFieldValue(a, field);\r\n    const bValue = getFieldValue(b, field);\r\n\r\n    // Handle null/undefined\r\n    if (aValue === null && bValue === null) return 0;\r\n    if (aValue === null) return direction === 'ASC' ? 1 : -1;\r\n    if (bValue === null) return direction === 'ASC' ? -1 : 1;\r\n\r\n    let result = 0;\r\n    const dataType = (field.dataType || '').toLowerCase();\r\n\r\n    switch (dataType) {\r\n        case 'text':\r\n        case 'title':\r\n            result = compareText(aValue, bValue);\r\n            break;\r\n\r\n        case 'number':\r\n            result = compareNumber(aValue, bValue);\r\n            break;\r\n\r\n        case 'date':\r\n            result = compareDate(aValue, bValue);\r\n            break;\r\n\r\n        case 'single_select':\r\n            result = compareSingleSelect(aValue, bValue, field);\r\n            break;\r\n\r\n        case 'iteration':\r\n            result = compareIteration(aValue, bValue);\r\n            break;\r\n\r\n        case 'labels':\r\n            result = compareLabels(aValue, bValue);\r\n            break;\r\n\r\n        default:\r\n            // Fallback to string comparison\r\n            result = String(aValue).localeCompare(String(bValue));\r\n    }\r\n\r\n    return direction === 'ASC' ? result : -result;\r\n}\r\n\r\n/**\r\n * Extract field value from item\r\n */\r\nfunction getFieldValue(item: any, field: FieldConfig): any {\r\n    const fieldValue = item.fieldValues?.find((fv: any) =>\r\n        fv.fieldId === field.id || fv.fieldName === field.name\r\n    );\r\n\r\n    if (!fieldValue) return null;\r\n\r\n    const dataType = (field.dataType || '').toLowerCase();\r\n\r\n    switch (dataType) {\r\n        case 'text':\r\n        case 'title':\r\n            return fieldValue.text || fieldValue.title || null;\r\n\r\n        case 'number':\r\n            return fieldValue.number !== undefined ? fieldValue.number : null;\r\n\r\n        case 'date':\r\n            return fieldValue.date || fieldValue.startDate || fieldValue.dueOn || null;\r\n\r\n        case 'single_select':\r\n            return fieldValue.option || fieldValue;\r\n\r\n        case 'iteration':\r\n            return fieldValue;\r\n\r\n        case 'labels':\r\n            return fieldValue.labels || [];\r\n\r\n        default:\r\n            return fieldValue;\r\n    }\r\n}\r\n\r\n/**\r\n * Compare text values\r\n */\r\nfunction compareText(a: any, b: any): number {\r\n    const aStr = String(a || '').toLowerCase();\r\n    const bStr = String(b || '').toLowerCase();\r\n    return aStr.localeCompare(bStr);\r\n}\r\n\r\n/**\r\n * Compare number values\r\n */\r\nfunction compareNumber(a: any, b: any): number {\r\n    const aNum = typeof a === 'number' ? a : parseFloat(a);\r\n    const bNum = typeof b === 'number' ? b : parseFloat(b);\r\n\r\n    if (isNaN(aNum) && isNaN(bNum)) return 0;\r\n    if (isNaN(aNum)) return 1;\r\n    if (isNaN(bNum)) return -1;\r\n\r\n    return aNum - bNum;\r\n}\r\n\r\n/**\r\n * Compare date values\r\n */\r\nfunction compareDate(a: any, b: any): number {\r\n    const aDate = new Date(a);\r\n    const bDate = new Date(b);\r\n\r\n    if (isNaN(aDate.getTime()) && isNaN(bDate.getTime())) return 0;\r\n    if (isNaN(aDate.getTime())) return 1;\r\n    if (isNaN(bDate.getTime())) return -1;\r\n\r\n    return aDate.getTime() - bDate.getTime();\r\n}\r\n\r\n/**\r\n * Compare single select values by option order\r\n */\r\nfunction compareSingleSelect(a: any, b: any, field: FieldConfig): number {\r\n    const aOption = a.option || a;\r\n    const bOption = b.option || b;\r\n\r\n    if (!aOption || !bOption) {\r\n        return compareText(aOption?.name || '', bOption?.name || '');\r\n    }\r\n\r\n    // If field has options array, sort by position in array\r\n    if (field.options && Array.isArray(field.options)) {\r\n        const aIndex = field.options.findIndex((opt: any) =>\r\n            opt.id === aOption.id || opt.name === aOption.name\r\n        );\r\n        const bIndex = field.options.findIndex((opt: any) =>\r\n            opt.id === bOption.id || opt.name === bOption.name\r\n        );\r\n\r\n        if (aIndex !== -1 && bIndex !== -1) {\r\n            return aIndex - bIndex;\r\n        }\r\n    }\r\n\r\n    // Fallback to name comparison\r\n    return compareText(aOption.name, bOption.name);\r\n}\r\n\r\n/**\r\n * Compare iteration values by start date\r\n */\r\nfunction compareIteration(a: any, b: any): number {\r\n    const aDate = a.startDate || a.iteration?.startDate;\r\n    const bDate = b.startDate || b.iteration?.startDate;\r\n\r\n    if (!aDate && !bDate) {\r\n        // Sort by title if no dates\r\n        return compareText(a.title || a.iteration?.title, b.title || b.iteration?.title);\r\n    }\r\n\r\n    return compareDate(aDate, bDate);\r\n}\r\n\r\n/**\r\n * Compare labels by first label name\r\n */\r\nfunction compareLabels(a: any, b: any): number {\r\n    const aLabels = Array.isArray(a) ? a : [];\r\n    const bLabels = Array.isArray(b) ? b : [];\r\n\r\n    if (aLabels.length === 0 && bLabels.length === 0) return 0;\r\n    if (aLabels.length === 0) return 1;\r\n    if (bLabels.length === 0) return -1;\r\n\r\n    return compareText(aLabels[0].name, bLabels[0].name);\r\n}\r\n", "import { ProjectTable } from \"./components/ProjectTable\";\r\nimport { setLoadingState, setErrorState, initFilterBar, createLoadMoreButton, logDebug } from \"./viewFetcherUtils\";\r\nimport { parseSortByFields, sortItems } from \"./utils/tableSorting\";\r\n\r\n/// <reference path=\"./global.d.ts\" />\r\n\r\nwindow.tableViewFetcher = function (view: any, container: HTMLElement, viewKey: any) {\r\n  const viewName = (view && (view.name || view.id)) ? (view.name || view.id) : \"Table View\";\r\n  try {\r\n    setLoadingState(container, viewName);\r\n  } catch (e) { }\r\n\r\n  let itemsLimit = 30;\r\n\r\n  function render(payload: any) {\r\n    const snapshot = payload || {};\r\n    const fields = snapshot.fields || [];\r\n    const allItems = snapshot.items || [];\r\n    const items = allItems.slice(0, itemsLimit);\r\n\r\n    // Reset container layout\r\n    container.innerHTML = \"\";\r\n    container.style.margin = \"0\";\r\n    container.style.padding = \"0\";\r\n    container.style.height = \"100%\";\r\n    container.style.display = \"flex\";\r\n    container.style.flexDirection = \"column\";\r\n    container.style.overflow = \"hidden\";\r\n\r\n    // Header / Filter Bar Container\r\n    const headerContainer = document.createElement(\"div\");\r\n    headerContainer.style.flex = \"0 0 auto\";\r\n    headerContainer.style.background = \"var(--vscode-editor-background)\";\r\n    headerContainer.style.zIndex = \"20\";\r\n    headerContainer.style.position = \"relative\";\r\n    headerContainer.style.display = \"flex\";\r\n    headerContainer.style.justifyContent = \"space-between\";\r\n    headerContainer.style.alignItems = \"center\";\r\n    headerContainer.style.width = \"100%\"; // Ensure full width\r\n\r\n    // Filter Wrapper to take available space\r\n    const filterWrapper = document.createElement(\"div\");\r\n    filterWrapper.style.flex = \"1 1 auto\";\r\n    filterWrapper.style.marginRight = \"8px\";\r\n    headerContainer.appendChild(filterWrapper);\r\n\r\n    // Init Filter Bar\r\n    let barApi = initFilterBar(filterWrapper, viewKey, {\r\n      suffix: viewKey ? String(viewKey).split(\":\").pop() : \"\",\r\n      step: itemsLimit,\r\n      onLoadMore: () => {\r\n        itemsLimit += 30;\r\n        requestFields();\r\n      }\r\n    });\r\n\r\n    // Fallback Header if Filter Bar fails or returns null\r\n    if (!barApi) {\r\n      const title = document.createElement(\"div\");\r\n      title.className = \"title\";\r\n      title.textContent = viewName;\r\n      title.style.padding = \"8px\";\r\n      headerContainer.appendChild(title);\r\n\r\n      const controls = document.createElement(\"div\");\r\n      controls.style.padding = \"8px\";\r\n\r\n      if (allItems.length > itemsLimit) {\r\n        const loadMore = createLoadMoreButton(() => {\r\n          itemsLimit += 30;\r\n          requestFields();\r\n        });\r\n        controls.appendChild(loadMore);\r\n      } else {\r\n        const span = document.createElement(\"span\");\r\n        span.textContent = \"All loaded\";\r\n        span.style.color = \"var(--vscode-descriptionForeground)\";\r\n        controls.appendChild(span);\r\n      }\r\n      headerContainer.appendChild(controls);\r\n    } else {\r\n      // Update load state in barApi\r\n      if (typeof barApi.setLoadState === \"function\") {\r\n        barApi.setLoadState(\r\n          allItems.length < itemsLimit,\r\n          allItems.length >= itemsLimit ? \"Load more\" : \"All loaded\"\r\n        );\r\n      }\r\n      // Register items for filtering\r\n      if (typeof barApi.registerItems === \"function\") {\r\n        barApi.registerItems(allItems, { fields });\r\n      }\r\n    }\r\n\r\n    container.appendChild(headerContainer);\r\n\r\n    // Table Container\r\n    const tableContainer = document.createElement(\"div\");\r\n    tableContainer.style.flex = \"1 1 auto\";\r\n    tableContainer.style.overflow = \"hidden\";\r\n    tableContainer.style.position = \"relative\";\r\n    container.appendChild(tableContainer);\r\n\r\n    // Determine Grouping\r\n    const groupingFieldName = getGroupingFieldName(snapshot);\r\n\r\n    // Parse sort config from GitHub\r\n    let sortConfig = parseSortByFields(snapshot.details?.sortByFields);\r\n\r\n    // Check for local override\r\n    if (viewKey) {\r\n      try {\r\n        const stored = localStorage.getItem(`ghProjects.table.${viewKey}.sortConfig`);\r\n        if (stored) sortConfig = JSON.parse(stored);\r\n      } catch { }\r\n    }\r\n\r\n    // Apply sorting\r\n    let displayItems = items;\r\n    if (sortConfig) {\r\n      displayItems = sortItems(items, fields, sortConfig);\r\n    }\r\n\r\n    // Render Table\r\n    const table = new ProjectTable(tableContainer, fields, displayItems, {\r\n      groupingFieldName: groupingFieldName || undefined,\r\n      sortConfig,\r\n      viewKey,\r\n      onSortChange: () => requestFields(),\r\n      onGroupChange: (fieldName: string) => {\r\n        if (viewKey) {\r\n          localStorage.setItem(`ghProjects.table.${viewKey}.groupingField`, fieldName);\r\n        }\r\n        requestFields();\r\n      }\r\n    });\r\n    table.render();\r\n\r\n    // Connect Filter to Table Visibility\r\n    if (barApi && typeof barApi.onFilterChange === \"function\") {\r\n      barApi.onFilterChange((matchedIds: Set<string>) => {\r\n        // Apply visibility to table rows\r\n        const rows = tableContainer.querySelectorAll(\"tr[data-gh-item-id]\");\r\n        rows.forEach((row: any) => {\r\n          const id = row.getAttribute(\"data-gh-item-id\");\r\n          if (id && matchedIds.has(id)) {\r\n            row.style.display = \"table-row\";\r\n          } else {\r\n            row.style.display = \"none\";\r\n          }\r\n        });\r\n      });\r\n    }\r\n  }\r\n\r\n  function onMessage(ev: MessageEvent) {\r\n    const msg = ev && ev.data ? ev.data : ev;\r\n    try {\r\n      if (msg && msg.command === \"fields\") {\r\n        if (msg.viewKey && viewKey && String(msg.viewKey) !== String(viewKey)) return;\r\n\r\n        if (msg.error) {\r\n          setErrorState(container, viewName, String(msg.error));\r\n        } else {\r\n          render(msg.payload);\r\n        }\r\n      }\r\n    } catch (e) { }\r\n  }\r\n\r\n  function requestFields() {\r\n    try {\r\n      if (window.vscodeApi && typeof window.vscodeApi.postMessage === \"function\") {\r\n        window.vscodeApi.postMessage({\r\n          command: \"requestFields\",\r\n          first: itemsLimit,\r\n          viewKey: viewKey,\r\n        });\r\n      }\r\n    } catch (e) { }\r\n  }\r\n\r\n  window.addEventListener(\"message\", onMessage);\r\n  requestFields();\r\n};\r\n\r\nfunction getGroupingFieldName(snapshot: any): string | null {\r\n  try {\r\n    if (snapshot && snapshot.details) {\r\n      const vgb = snapshot.details.verticalGroupByFields && snapshot.details.verticalGroupByFields.nodes;\r\n      const gb = snapshot.details.groupByFields && snapshot.details.groupByFields.nodes;\r\n\r\n      if (vgb && vgb.length > 0) return vgb[0].name || null;\r\n      if (gb && gb.length > 0) return gb[0].name || null;\r\n    }\r\n  } catch (e) { }\r\n  return null;\r\n}\r\n"],
  "mappings": "mBAAO,SAASA,EAAWC,EAAgB,CACvC,OAAOA,EACD,OAAOA,CAAC,EACL,QAAQ,KAAM,OAAO,EACrB,QAAQ,KAAM,MAAM,EACpB,QAAQ,KAAM,MAAM,EACvB,EACV,CAEO,SAASC,EAAeC,EAA2B,CACtD,GAAI,CAACA,EAAO,OAAO,KACnB,IAAIC,EAAI,OAAOD,CAAK,EAAE,KAAK,EAC3B,GACI,mBAAmB,KAAKC,CAAC,GACzB,mBAAmB,KAAKA,CAAC,GACzB,mBAAmB,KAAKA,CAAC,EAC3B,CACE,IAAIC,EAAID,EAAE,CAAC,IAAM,IAAMA,EAAE,MAAM,CAAC,EAAIA,EACpC,MAAO,KAAOC,EAAE,SAAW,EAAIA,EAAE,UAAU,EAAG,CAAC,EAAIA,EACvD,CACA,IAAIJ,EAAI,CACJ,KAAM,UACN,IAAK,UACL,OAAQ,UACR,OAAQ,UACR,MAAO,UACP,KAAM,UACN,OAAQ,UACR,KAAM,UACN,MAAO,UACP,MAAO,SACX,EACIK,EAAIF,EAAE,YAAY,EACtB,OAAQH,EAAUK,CAAC,GAAK,IAC5B,CAEO,SAASC,EAASJ,EAAYK,EAA2B,CAC5D,GAAI,CAACL,EAAO,OAAO,KACnB,IAAIF,EAAIE,EAAM,QAAQ,IAAK,EAAE,EACzBG,EAAKD,GAAW,SAASA,EAAG,EAAE,EAClC,GAAIJ,EAAE,SAAW,EAAG,CAChB,IAAII,EAAIC,EAAEL,EAAE,CAAC,EAAIA,EAAE,CAAC,CAAC,EACjBQ,EAAIH,EAAEL,EAAE,CAAC,EAAIA,EAAE,CAAC,CAAC,EACjBS,EAAIJ,EAAEL,EAAE,CAAC,EAAIA,EAAE,CAAC,CAAC,EACrB,MAAO,QAAUI,EAAI,IAAMI,EAAI,IAAMC,EAAI,IAAMF,EAAQ,GAC3D,CACA,GAAIP,EAAE,SAAW,GAAKA,EAAE,SAAW,EAAG,CAClC,IAAII,EAAIJ,EAAE,SAAW,EAAIA,EAAE,UAAU,EAAG,CAAC,EAAIA,EACzCQ,EAAIH,EAAEL,EAAE,UAAU,EAAG,CAAC,CAAC,EACvBS,EAAIJ,EAAED,EAAE,UAAU,EAAG,CAAC,CAAC,EACvBM,EAAIL,EAAED,EAAE,UAAU,EAAG,CAAC,CAAC,EAC3B,MAAO,QAAUI,EAAI,IAAMC,EAAI,IAAMC,EAAI,IAAMH,EAAQ,GAC3D,CACA,OAAO,IACX,CAEO,SAASI,EAAiBT,EAAoB,CACjD,GAAI,CAACA,EAAO,MAAO,UACnB,IAAIC,EAAID,EAAM,QAAQ,IAAK,EAAE,EACzBF,EAAKU,GAAW,SAASA,EAAG,EAAE,EAC9BL,EAAGD,EAAGI,EACV,GAAIL,EAAE,SAAW,EACZE,EAAIL,EAAEG,EAAE,CAAC,EAAIA,EAAE,CAAC,CAAC,EACbC,EAAIJ,EAAEG,EAAE,CAAC,EAAIA,EAAE,CAAC,CAAC,EACjBK,EAAIR,EAAEG,EAAE,CAAC,EAAIA,EAAE,CAAC,CAAC,UACjBA,EAAE,SAAW,GAAKA,EAAE,SAAW,EAAG,CACvC,IAAIO,EAAIP,EAAE,SAAW,EAAIA,EAAE,UAAU,EAAG,CAAC,EAAIA,EAC5CE,EAAIL,EAAEU,EAAE,UAAU,EAAG,CAAC,CAAC,EACnBN,EAAIJ,EAAEU,EAAE,UAAU,EAAG,CAAC,CAAC,EACvBF,EAAIR,EAAEU,EAAE,UAAU,EAAG,CAAC,CAAC,CAChC,KAAO,OAAO,UACd,MAAO,QAAUL,EAAI,KAAO,OAAUD,EAAI,KAAO,OAAUI,EAAI,KAAO,GAChE,UACA,SACV,CCxEO,SAASI,EAAWC,EAAQC,EAAQC,EAAQC,EAAe,CAC9D,IAAIC,EAAGC,EAAGC,EAAGC,EAAGC,EAAGC,EAAGC,EAAGC,EAAGC,EAAGC,EAAGC,EAAGC,EAAGC,EAAGC,EAAGC,EAC9C,GAAI,CAAClB,EAAG,MAAO,GACf,GAAI,CACA,OAAQA,EAAE,KAAM,CACZ,IAAK,QAAS,CACV,IAAImB,EACCnB,GACGA,EAAE,QACAA,EAAE,MAAM,KAAOA,EAAE,MAAM,IAAI,MACxBA,EAAE,MAAM,UACJA,EAAE,MAAM,QAAQ,OAASA,EAAE,MAAM,QAAQ,OAC7C,OAAOA,EAAE,OAAS,UAAYA,EAAE,QACxCA,GAAKA,EAAE,UAAYA,EAAE,QAAQ,OAASA,EAAE,QAAQ,OAChDA,GAAKA,EAAE,KAAOA,EAAE,IAAI,MACrB,GACAoB,EACKpB,GAAKA,EAAE,OAASA,EAAE,MAAM,SAAWA,EAAE,MAAM,QAAQ,QACnDA,GAAKA,EAAE,KAAOA,EAAE,IAAI,aAAeA,EAAE,IAAI,YAAY,QACrDE,GAAKA,EAAE,SAAWA,EAAE,QAAQ,QAC7B,GACJmB,EACKrB,GAAKA,EAAE,OAASA,EAAE,MAAM,SAAWA,EAAE,MAAM,QAAQ,KACnDA,GAAKA,EAAE,KAAOA,EAAE,IAAI,aAAeA,EAAE,IAAI,YAAY,KACrDE,GAAKA,EAAE,SAAWA,EAAE,QAAQ,KAC7B,GACJoB,EAAI,KACR,GAAIpB,GAAK,MAAM,QAAQA,EAAE,WAAW,EAAG,CACnC,IAAIqB,EAAIrB,EAAE,YAAY,KACjBsB,GACGA,GACAA,EAAE,OAAS,kBACTA,EAAE,KACAA,EAAE,IAAI,OACN,OAAOA,EAAE,IAAI,MAAM,MAAQ,EAAE,EAAE,YAAY,IAC3C,UACCA,EAAE,WACC,OAAOA,EAAE,WAAa,EAAE,EAAE,YAAY,IAAM,UAC/CA,EAAE,OACCA,EAAE,MAAM,MACR,OAAOA,EAAE,MAAM,MAAQ,EAAE,EAAE,YAAY,IAAM,SAC7D,EACAD,IACKD,EACIC,EAAE,SACEA,EAAE,OAAO,OAASA,EAAE,OAAO,IAAMA,EAAE,OAAO,OAC9CA,EAAE,KAAOA,EAAE,IAAI,OAChB,KACZ,CACA,IAAIE,EAAIC,EAAeJ,CAAC,GAAK,KACzBK,EAAIF,GAAK,gCAAgC,KAAKA,CAAC,EAAIA,EAAI,UACvDG,EAAIC,EAAW,OAAOV,GAAK,EAAE,CAAC,EAC9BW,EAAIV,EAAIS,EAAW,OAAOT,CAAC,CAAC,EAAI,GACpC,MACI,YACAS,EAAW,OAAOR,GAAK,EAAE,CAAC,EAC1B,+QACAQ,EAAWF,CAAC,EACZ,sKACAC,EACA,WACCE,EACK,yGACFA,EACA,UACE,IACN,MAER,CACA,IAAK,OACD,MAAO,QAAUD,GAAYzB,EAAIJ,EAAE,OAAS,KAAOI,EAAI,EAAE,EAAI,SACjE,IAAK,SAAU,CACX,IAAIe,EACAnB,EAAE,SAAW,QAAUA,EAAE,SAAW,KAAO,OAAOA,EAAE,MAAM,EAAI,GAClE,MACI,mEACA6B,EAAWV,CAAC,EACZ,QAER,CACA,IAAK,OAAQ,CACT,IAAIA,GACCZ,GACID,GAAKD,EAAIL,EAAE,OAAS,KAAOK,EAAIL,EAAE,YAAc,KAC1CM,EACAN,EAAE,QAAU,KAChBO,EACA,KACV,GAAI,CAACY,EAAG,MAAO,cACf,GAAI,CACA,IAAIC,EAAI,IAAI,KAAKD,CAAC,EAClB,GAAI,MAAMC,EAAE,QAAQ,CAAC,EAAG,MAAO,QAAUS,EAAW,OAAOV,CAAC,CAAC,EAAI,SACjE,IAAIE,EAAID,EAAE,mBAAmB,QAAS,CAClC,MAAO,QACP,IAAK,UACL,KAAM,SACV,CAAC,EACD,MAAO,QAAUS,EAAWR,CAAC,EAAI,QACrC,MAAQ,CACJ,MAAO,QAAUQ,EAAW,OAAOV,CAAC,CAAC,EAAI,QAC7C,CACJ,CACA,IAAK,gBAAiB,CAClB,IAAIA,EAAIU,GACHpB,GAAKD,EAAIR,EAAE,SAAW,KAAO,OAASQ,EAAE,OAAS,KAAOC,EAAI,EACjE,EACIW,EAAI,KACR,GAAInB,GAAK,MAAM,QAAQA,EAAE,OAAO,EAAG,CAC/B,IAAI6B,EAAI7B,EAAE,QAAQ,KACb8B,GACIA,EAAE,IAAM/B,EAAE,QAAUA,EAAE,OAAO,IAAM+B,EAAE,KAAO/B,EAAE,OAAO,IACrD+B,EAAE,MACC/B,EAAE,QACFA,EAAE,OAAO,MACT+B,EAAE,OAAS/B,EAAE,OAAO,IAChC,EACA8B,IACKV,GAAKT,GAAKD,EAAIoB,EAAE,QAAU,KAAOpB,EAAIoB,EAAE,KAAO,KAAOnB,EAAI,KAClE,CACA,IAAIU,EAAIK,EAAeN,CAAC,GAAK,KACzBE,EAAI,CAAC,EAAED,GAAK,gCAAgC,KAAKA,CAAC,GAClDI,EAAIJ,GAAK,UACTM,EAAKL,GAAKU,EAASX,EAAG,GAAI,GAAM,mBAChCO,EAAIP,GAAK,UAEb,MACI,oJAEAQ,EAAWJ,CAAC,EACZ,8BACAI,EAAWD,CAAC,EACZ,eACAC,EAAWF,CAAC,EACZ,qNAEAR,EACA,sBAIR,CACA,IAAK,SACD,MACI,SACCnB,EAAE,QAAU,CAAC,GACT,IAAKoB,GAAW,CACb,IAAIC,EAAIQ,EAAWT,EAAE,MAAQ,EAAE,EAC3BE,EACKpB,IACKA,EAAE,SACAA,EAAE,QAAQ,YACVA,EAAE,QAAQ,WAAW,eACpBA,EAAE,YAAcA,EAAE,WAAW,gBACrCF,EAAE,KACCA,EAAE,IAAI,aACNA,EAAE,IAAI,YAAY,YAClBA,EAAE,IAAI,YAAY,WAAW,eACjC,KACJyB,EAAIL,EAAE,OAASA,EAAE,QAAU,KAC/B,GAAInB,GAAKA,EAAE,aAAeqB,GAAKrB,EAAE,YAAYqB,CAAC,EAAG,CAC7C,IAAIW,EAAIhC,EAAE,YAAYqB,CAAC,EAAE,KACpBY,GAAWA,GAAKA,EAAE,OAASd,EAAE,IAClC,EACAa,IAAMR,EAAIQ,EAAE,OAASA,EAAE,QAAUR,EACrC,CACA,IAAIE,EAAID,EAAeD,CAAC,GAAK,KACzBG,EAAI,CAAC,EAAED,GAAK,gCAAgC,KAAKA,CAAC,GAClDG,EAAIH,GAAK,UACTI,EAAKH,GAAKI,EAASL,EAAG,GAAI,GAAM,mBAChCJ,EAAII,GAAK,UACb,MACI,2GACAE,EAAWC,CAAC,EACZ,eACAD,EAAWE,CAAC,EACZ,UACAF,EAAWN,CAAC,EACZ,+FACAF,EACA,SAER,CAAC,EACA,KAAK,EAAE,EACZ,SAER,IAAK,aAAc,CACf,IAAIF,EAAIU,GACHhB,GAAKD,EAAIZ,EAAE,aAAe,KAAO,OAASY,EAAE,gBACzC,KACEC,EACA,EACV,EACA,MACI,YACAgB,IACMf,EAAId,EAAE,aAAe,KAAO,OAASc,EAAE,QACvCC,EAAIf,EAAE,aAAe,KAAO,OAASe,EAAE,WACzC,EACJ,EACA,0eACAI,EACA,aAER,CACA,IAAK,eAAgB,CACjB,IAAMgB,EAAMnC,EAAE,cAAgB,CAAC,EAC/B,OAAQ,UAAY,CAChB,IAAImC,EAAMnC,EAAE,cAAgB,CAAC,EAC7B,GAAI,CAACmC,GAAOA,EAAI,SAAW,EAAG,MAAO,GAGrC,QAFIC,EACA,uEACKlB,EAAI,EAAGA,EAAIiB,EAAI,OAAQjB,IAAK,CACjC,IAAIS,EAAIQ,EAAIjB,CAAC,EACTmB,EAAMR,EAAW,OAAQF,GAAKA,EAAE,QAAW,EAAE,CAAC,EAC9CW,EAAYT,EAAYF,GAAKA,EAAE,OAAU,EAAE,EAC3CY,EAAMV,EAAYF,GAAKA,EAAE,KAAQ,EAAE,EACnCa,EACCb,IAAMA,EAAE,aAAeA,EAAE,OAASA,EAAE,QAAUA,EAAE,QACjD,KACAc,EAAYf,EAAec,CAAQ,GAAK,KACxCE,EAAS,CAAC,EACVD,GAAa,gCAAgC,KAAKA,CAAS,GAE3DE,EAASF,GAAa,UACtBG,EAAMF,GAAUV,EAASS,EAAW,GAAI,GAAM,mBAC9CI,EAAKC,EAAiBL,CAAS,GAAK,UACxCL,GACI,YACAG,EACA,uGAEAD,EACA,gHACAT,EAAWc,CAAM,EACjB,eACAd,EAAWe,CAAE,EACb,UACAf,EAAWgB,CAAE,EACb,yMAEAhB,EAAWY,GAAa,MAAM,EAC9B,gKAEAJ,EACA,oBACR,CACA,OAAAD,GAAO,SACAA,CACX,EAAG,CACP,CACA,IAAK,QACD,OAAQpC,EAAE,QAAU,CAAC,GAChB,IACImB,GACG,YACAU,EAAWV,EAAE,KAAO,EAAE,EACtB,gDACAU,EAAW,OAAOV,EAAE,QAAU,EAAE,CAAC,EACjC,IACAU,EAAWV,EAAE,OAAS,EAAE,EACxB,MACR,EACC,KAAK,OAAO,EACrB,IAAK,YAAa,CACd,IAAIA,EAAInB,EAAE,WAAa,CAAC,EACxB,GAAImB,EAAE,SAAW,EAAG,MAAO,cAC3B,IAAIE,EAAIF,EACH,MAAM,EAAG,CAAC,EACV,IAAI,CAACS,EAAQE,IAAW,CACrB,IAAIC,EAAIF,EAAWD,EAAE,WAAaA,EAAE,QAAU,EAAE,EAC5CL,EAAIO,IAAM,EAAI,MAAQA,IAAM,EAAI,OAAS,QACzC,EAAI,KAAK,IAAI,EAAG,EAAIA,CAAC,EACzB,GAAIC,EACA,MACI,gBACAF,EAAWD,EAAE,OAASA,EAAE,MAAQ,EAAE,EAClC,gKACAG,EACA,kEACAR,EACA,oDACA,EACA,YAER,IAAIU,EAAIJ,GACHD,EAAE,MAAQA,EAAE,OAAS,IACjB,MAAM,GAAG,EACT,IAAKM,GAAWA,EAAE,CAAC,GAAK,EAAE,EAC1B,KAAK,EAAE,EACP,YAAY,EACZ,MAAM,EAAG,CAAC,CACnB,EACA,MACI,gBACAL,EAAWD,EAAE,OAASA,EAAE,MAAQ,EAAE,EAClC,0NACAL,EACA,oDACA,EACA,KACAU,EACA,SAER,CAAC,EACA,KAAK,EAAE,EACRX,EAAIH,EAAE,IAAKS,GAAWA,EAAE,OAASA,EAAE,MAAQ,EAAE,EAC7CH,EAAI,GACR,OACIH,EAAE,SAAW,EACNG,EAAIH,EAAE,CAAC,EACRA,EAAE,SAAW,EACRG,EAAIH,EAAE,CAAC,EAAI,QAAUA,EAAE,CAAC,EACxBG,EAAIH,EAAE,MAAM,EAAG,EAAE,EAAE,KAAK,IAAI,EAAI,QAAUA,EAAE,MAAM,EAAE,EAAE,CAAC,EAClE,uGACC,2GACGD,EACA,WACJ,kFACAQ,EAAWJ,CAAC,EACZ,eAER,CACA,IAAK,sBACD,MACI,QACAI,GACK7B,EAAE,WAAa,CAAC,GACZ,IAAKmB,GAAWA,EAAE,OAASA,EAAE,MAAQA,EAAE,MAAQ,EAAE,EACjD,KAAK,IAAI,CAClB,EACA,SAER,IAAK,YAAa,CACd,IAAIA,EAAIU,GAAYb,EAAIhB,EAAE,QAAU,KAAOgB,EAAI,EAAE,EAC7CK,EAAIK,EAAe,MAAM,GAAK,KAC9BJ,EAAI,CAAC,EAAED,GAAK,gCAAgC,KAAKA,CAAC,GAClDI,EAAIJ,GAAK,UACTM,EAAKL,GAAKU,EAASX,EAAG,GAAI,GAAM,mBAChCO,EAAIP,GAAK,UACb,MACI,qEACAQ,EAAWJ,CAAC,EACZ,8BACAI,EAAWD,CAAC,EACZ,eACAC,EAAWF,CAAC,EACZ,+FACAR,EACA,QAER,CACA,IAAK,eAAgB,CACjB,IAAIA,EACCnB,IACIA,EAAE,QACCA,EAAE,aACFA,EAAE,OACFA,EAAE,QACFA,EAAE,MACFA,EAAE,QACTA,GACGA,EAAE,MACDA,EAAE,IAAI,QAAUA,EAAE,IAAI,aAAeA,EAAE,IAAI,OAChD,KACAoB,EACKD,IACIA,EAAE,QAAUA,EAAE,IAAOA,EAAE,KAAOA,EAAE,IAAI,UACpCA,EAAE,QAAWA,EAAE,KAAOA,EAAE,IAAI,SACjC,GACJE,EACKF,IACIA,EAAE,OAASA,EAAE,MAASA,EAAE,KAAOA,EAAE,IAAI,SACrCA,EAAE,OAASA,EAAE,MAASA,EAAE,KAAOA,EAAE,IAAI,QAC1C,GACJG,EACKH,IACIA,EAAE,KAAOA,EAAE,UAAaA,EAAE,KAAOA,EAAE,IAAI,OACvCA,EAAE,KAAOA,EAAE,UAAaA,EAAE,KAAOA,EAAE,IAAI,MAC5C,GACJM,EAAII,EAAW,OAAOR,GAAK,EAAE,CAAC,EAC9BM,EAAIP,EAAIS,EAAW,OAAOT,CAAC,CAAC,EAAI,GAChCQ,EAAIC,EAAW,OAAOP,GAAK,EAAE,CAAC,EAC9BQ,EAAI,KACR,GAAI,CACA,IAAIiB,EAAY,MAAM,QAAQ5C,CAAQ,EAChCA,EACAA,GAAY,CAAC,EACnB,GACI,MAAM,QAAQ4C,CAAS,GACvBA,EAAU,OAAS,IAClB3B,GAAKD,GACR,CACE,IAAI6B,EACC7B,GACGA,EAAE,aACDA,EAAE,WAAW,eAAiBA,EAAE,WAAW,OAC/CA,GACGA,EAAE,SACFA,EAAE,QAAQ,YACVA,EAAE,QAAQ,WAAW,eACzB,KACA8B,EAAI,CAAC,EACT7B,GAAK6B,EAAE,KAAK,OAAO7B,CAAC,CAAC,EACjBD,IACCA,EAAE,IAAOA,EAAE,KAAOA,EAAE,IAAI,KACzB8B,EAAE,KAAK,OAAO9B,EAAE,IAAOA,EAAE,KAAOA,EAAE,IAAI,EAAG,CAAC,EAC1CA,IACCA,EAAE,KAAQA,EAAE,KAAOA,EAAE,IAAI,MAC1B8B,EAAE,KAAK,OAAO9B,EAAE,KAAQA,EAAE,KAAOA,EAAE,IAAI,GAAI,CAAC,EAC5CA,IAAMA,EAAE,OAASA,EAAE,OAAS8B,EAAE,KAAK,OAAO9B,EAAE,OAASA,EAAE,IAAI,CAAC,EAChE,IAAI+B,EAAIH,EAAU,KAAMI,GAAM,CAC1B,IAAIC,EACCD,IAAMA,EAAE,SAAYA,EAAE,KAAOA,EAAE,IAAI,cAAkB,KAC1D,GAAI,CAACC,EAAG,MAAO,GACf,IAAIC,EAAI,CAAC,EACT,GACKD,EAAE,QAAUC,EAAE,KAAK,OAAOD,EAAE,MAAM,CAAC,EAChCA,EAAE,IAAMC,EAAE,KAAK,OAAOD,EAAE,EAAE,CAAC,EAC3BA,EAAE,KAAOC,EAAE,KAAK,OAAOD,EAAE,GAAG,CAAC,EAC7BA,EAAE,OAASC,EAAE,KAAK,OAAOD,EAAE,KAAK,CAAC,EACjCA,EAAE,MAAQC,EAAE,KAAK,OAAOD,EAAE,IAAI,CAAC,EAC/BA,EAAE,KAAOA,EAAE,IAAI,QAAUC,EAAE,KAAK,OAAOD,EAAE,IAAI,MAAM,CAAC,EACpDA,EAAE,KAAOA,EAAE,IAAI,IAAMC,EAAE,KAAK,OAAOD,EAAE,IAAI,EAAE,CAAC,EAC5CA,EAAE,KAAOA,EAAE,IAAI,KAAOC,EAAE,KAAK,OAAOD,EAAE,IAAI,GAAG,CAAC,EAC9CJ,EACN,CACE,IAAIM,EACCF,EAAE,aACEA,EAAE,WAAW,eAAiBA,EAAE,WAAW,OAChD,KACJ,GAAIE,GAAK,OAAOA,CAAC,IAAM,OAAON,CAAC,EAAG,MAAO,EAC7C,CACA,QAASM,EAAI,EAAGA,EAAIL,EAAE,OAAQK,IAC1B,QAASC,EAAI,EAAGA,EAAIF,EAAE,OAAQE,IAC1B,GAAIN,EAAEK,CAAC,GAAKD,EAAEE,CAAC,GAAK,OAAON,EAAEK,CAAC,CAAC,IAAM,OAAOD,EAAEE,CAAC,CAAC,EAC5C,MAAO,GACnB,MAAO,EACX,CAAC,EACD,GAAIL,GAAK,MAAM,QAAQA,EAAE,WAAW,EAAG,CACnC,IAAIC,EAAID,EAAE,YAAY,KACjBE,GACGA,GACAA,EAAE,OAAS,kBACTA,EAAE,KACAA,EAAE,IAAI,OACN,OAAOA,EAAE,IAAI,MAAM,MAAQ,EAAE,EAAE,YAAY,IAC3C,UACCA,EAAE,WACC,OAAOA,EAAE,WAAa,EAAE,EAAE,YAAY,IACtC,UACHA,EAAE,OACCA,EAAE,MAAM,MACR,OAAOA,EAAE,MAAM,MAAQ,EAAE,EAAE,YAAY,IACvC,SAChB,EACAD,IACKrB,EACIqB,EAAE,SACEA,EAAE,OAAO,OAASA,EAAE,OAAO,IAAMA,EAAE,OAAO,OAC9CA,EAAE,KAAOA,EAAE,IAAI,OAChB,KACZ,CACJ,CACJ,MAAQ,CAAE,CACVrB,IACKA,EACIX,IACKA,EAAE,SACCA,EAAE,OAAO,OAASA,EAAE,OAAO,IAAMA,EAAE,OAAO,OAC3CA,EAAE,OACFA,EAAE,SACV,MACR,IAAIY,EAAIL,EAAeI,CAAC,GAAK,KACzB,EAAI,CAAC,EAAEC,GAAK,gCAAgC,KAAKA,CAAC,GAClDP,EAAIO,GAAK,UACTE,EAAK,GAAKD,EAASD,EAAG,GAAI,GAAM,mBAChCG,EAAIY,EAAiBf,CAAC,GAAK,UAC3ByB,EACI,6JAEA3B,EAAWL,CAAC,EACZ,8BACAK,EAAWK,CAAC,EACZ,eACAL,EAAWI,CAAC,EACZ,oMAEAJ,EAAWE,GAAK,MAAM,EACtB,sKAEAN,EACA,WACCE,EACK,+FACFA,EACA,UACE,IACN,gBACR,OAAOC,EACD,uBACFA,EACA,qDACA4B,EACA,UACEA,CACV,CACA,IAAK,YACD,MACI,QACA3B,GACKX,GAAKD,EAAIjB,EAAE,YAAc,KAAO,OAASiB,EAAE,QAAU,KAChDC,EACA,EACV,EACA,SAER,IAAK,sBACD,GAAI,CAEA,GAAI,CAAClB,GAAKA,EAAE,OAAS,MAAQ,OAAOA,EAAE,KAAK,GAAK,EAAG,MAAO,GAC1D,IAAMyD,EAAa,KAAK,IAAI,EAAG,KAAK,MAAM,OAAOzD,EAAE,KAAK,GAAK,CAAC,CAAC,EACzD0D,EAAY,KAAK,IAAI,EAAG,KAAK,MAAM,OAAO1D,EAAE,MAAQ,CAAC,CAAC,CAAC,EAC7D,GAAIyD,IAAe,EAAG,MAAO,GAE7B,IAAIE,EAAM,KAIV,GAHI3D,EAAE,UAAY,QAAUA,EAAE,UAAY,KACtC2D,EAAM,OAAO3D,EAAE,OAAO,EACrB2D,EAAM,KAAK,MAAOD,EAAYD,EAAc,GAAG,EAChDE,GAAO,MAAQ,CAAC,SAASA,CAAG,EAAG,MAAO,GAC1CA,EAAM,KAAK,IAAI,EAAG,KAAK,IAAI,IAAKA,CAAG,CAAC,EAGpC,IAAIC,EAAO,CAAC,EACZ,QAASC,EAAK,EAAGA,EAAKJ,EAAYI,IAC1BA,EAAKH,EACLE,EAAK,KACD,+FACJ,EAEAA,EAAK,KACD,4HACJ,EAGR,MACI,gIAEAA,EAAK,KAAK,EAAE,EACZ,kIAEA/B,EAAW,OAAO8B,CAAG,EAAI,GAAG,EAC5B,cAGR,MAAQ,CACJ,MAAO,EACX,CACJ,IAAK,UACD,MAAO,GACX,QACI,MACI,QACA9B,EACI7B,GAAKA,EAAE,KAAOA,EAAE,IAAI,WACd,OAAOA,EAAE,IAAI,UAAU,EACvB,KAAK,UAAUA,CAAC,EAAE,MAAM,EAAG,GAAG,CACxC,EACA,QAEZ,CACJ,MAAQ,CACJ,MAAO,EACX,CACJ,CC9iBO,IAAM8D,EAAN,KAAuB,CAM1B,YAAYC,EAAYC,EAAsB,CAH9C,KAAQ,YAAkC,KAC1C,KAAQ,gBAAsC,KAG1C,KAAK,MAAQD,EACb,KAAK,QAAUC,CACnB,CAKO,KAAKC,EAAkC,CAE1C,KAAK,KAAK,EAGV,KAAK,gBAAkB,SAAS,cAAc,KAAK,EACnD,KAAK,gBAAgB,MAAM,SAAW,QACtC,KAAK,gBAAgB,MAAM,IAAM,IACjC,KAAK,gBAAgB,MAAM,KAAO,IAClC,KAAK,gBAAgB,MAAM,MAAQ,IACnC,KAAK,gBAAgB,MAAM,OAAS,IACpC,KAAK,gBAAgB,MAAM,OAAS,MACpC,KAAK,gBAAgB,iBAAiB,QAAS,IAAM,KAAK,KAAK,CAAC,EAChE,SAAS,KAAK,YAAY,KAAK,eAAe,EAG9C,KAAK,YAAc,SAAS,cAAc,KAAK,EAC/C,KAAK,YAAY,UAAY,qBAC7B,KAAK,YAAY,MAAM,SAAW,WAClC,KAAK,YAAY,MAAM,WAAa,gCACpC,KAAK,YAAY,MAAM,OAAS,sCAChC,KAAK,YAAY,MAAM,aAAe,MACtC,KAAK,YAAY,MAAM,UAAY,gCACnC,KAAK,YAAY,MAAM,SAAW,QAClC,KAAK,YAAY,MAAM,QAAU,QACjC,KAAK,YAAY,MAAM,OAAS,OAChC,KAAK,YAAY,MAAM,SAAW,OAGlC,IAAMC,EAAOD,EAAc,sBAAsB,EACjD,KAAK,YAAY,MAAM,IAAM,GAAGC,EAAK,OAAS,CAAC,KAC/C,KAAK,YAAY,MAAM,KAAO,GAAGA,EAAK,IAAI,KAG1C,KAAK,eAAe,EAEpB,SAAS,KAAK,YAAY,KAAK,WAAW,CAC9C,CAKO,MAAa,CACZ,KAAK,cACL,KAAK,YAAY,OAAO,EACxB,KAAK,YAAc,MAEnB,KAAK,kBACL,KAAK,gBAAgB,OAAO,EAC5B,KAAK,gBAAkB,KAE/B,CAKQ,gBAAuB,CACtB,KAAK,cAGV,KAAK,YAAY,gBAAiB,KAAM,CAAE,SAAU,EAAK,CAAC,EAC1D,KAAK,aAAa,EAGlB,KAAK,YAAY,wBAAoB,IAAM,CACvC,KAAK,QAAQ,SAAS,KAAK,EAC3B,KAAK,KAAK,CACd,EAAG,CAAE,KAAM,QAAI,CAAC,EAEhB,KAAK,YAAY,yBAAqB,IAAM,CACxC,KAAK,QAAQ,SAAS,MAAM,EAC5B,KAAK,KAAK,CACd,EAAG,CAAE,KAAM,QAAI,CAAC,EAEhB,KAAK,aAAa,EAGd,KAAK,QAAQ,UACb,KAAK,YAAY,kBAAmB,IAAM,CACtC,KAAK,QAAQ,UAAU,EACvB,KAAK,KAAK,CACd,CAAC,EAID,KAAK,QAAQ,UACb,KAAK,YAAY,kBAAmB,IAAM,CACtC,KAAK,QAAQ,UAAU,EACvB,KAAK,KAAK,CACd,CAAC,EAID,KAAK,QAAQ,WACb,KAAK,YAAY,sBAAuB,IAAM,CAC1C,KAAK,QAAQ,WAAW,EACxB,KAAK,KAAK,CACd,CAAC,GAID,KAAK,QAAQ,UAAY,KAAK,QAAQ,UAAY,KAAK,QAAQ,YAC/D,KAAK,aAAa,EAGtB,KAAK,YAAY,aAAc,IAAM,CACjC,KAAK,QAAQ,SAAS,EACtB,KAAK,KAAK,CACd,CAAC,EAED,KAAK,aAAa,EAElB,KAAK,YAAY,mBAAe,IAAM,CAClC,KAAK,QAAQ,SAAS,MAAM,EAC5B,KAAK,KAAK,CACd,EAAG,CAAE,KAAM,QAAI,CAAC,EAEhB,KAAK,YAAY,oBAAgB,IAAM,CACnC,KAAK,QAAQ,SAAS,OAAO,EAC7B,KAAK,KAAK,CACd,EAAG,CAAE,KAAM,QAAI,CAAC,EACpB,CAKQ,YACJC,EACAC,EACAJ,EACI,CACJ,GAAI,CAAC,KAAK,YAAa,OAEvB,IAAMK,EAAO,SAAS,cAAc,KAAK,EACzCA,EAAK,UAAY,YACjBA,EAAK,YAAcF,EAEfH,GAAS,UACTK,EAAK,MAAM,QAAU,WACrBA,EAAK,MAAM,WAAa,MACxBA,EAAK,MAAM,MAAQ,sCACnBA,EAAK,MAAM,SAAW,OACtBA,EAAK,MAAM,cAAgB,YAC3BA,EAAK,MAAM,OAAS,YAEpBA,EAAK,MAAM,QAAU,WACrBA,EAAK,MAAM,OAAS,UACpBA,EAAK,MAAM,MAAQ,gCAEfD,IACAC,EAAK,iBAAiB,aAAc,IAAM,CACtCA,EAAK,MAAM,WAAa,yCACxBA,EAAK,MAAM,MAAQ,wCACvB,CAAC,EAEDA,EAAK,iBAAiB,aAAc,IAAM,CACtCA,EAAK,MAAM,WAAa,cACxBA,EAAK,MAAM,MAAQ,+BACvB,CAAC,EAEDA,EAAK,iBAAiB,QAASD,CAAO,IAI9C,KAAK,YAAY,YAAYC,CAAI,CACrC,CAKQ,cAAqB,CACzB,GAAI,CAAC,KAAK,YAAa,OAEvB,IAAMC,EAAY,SAAS,cAAc,KAAK,EAC9CA,EAAU,MAAM,OAAS,MACzBA,EAAU,MAAM,WAAa,yCAC7BA,EAAU,MAAM,OAAS,QAEzB,KAAK,YAAY,YAAYA,CAAS,CAC1C,CACJ,EC9MO,IAAMC,EAAN,KAAiB,CAOpB,YAAYC,EAAwBC,EAAYC,EAAc,CAH9D,KAAQ,aAAmC,KAIvC,KAAK,UAAYF,EACjB,KAAK,MAAQC,EACb,KAAK,MAAQC,CACjB,CAKO,QAAe,CAClB,KAAK,MAAM,EAGX,KAAK,aAAe,SAAS,cAAc,KAAK,EAChD,KAAK,aAAa,UAAY,cAC9B,KAAK,aAAa,MAAM,SAAW,WACnC,KAAK,aAAa,MAAM,MAAQ,OAChC,KAAK,aAAa,MAAM,MAAQ,QAChC,KAAK,aAAa,MAAM,YAAc,OACtC,KAAK,aAAa,MAAM,WAAa,mCACrC,KAAK,aAAa,MAAM,OAAS,yCACjC,KAAK,aAAa,MAAM,aAAe,MACvC,KAAK,aAAa,MAAM,QAAU,OAClC,KAAK,aAAa,MAAM,cAAgB,SACxC,KAAK,aAAa,MAAM,SAAW,SACnC,KAAK,aAAa,MAAM,UAAY,QAGpC,IAAMC,EAAS,SAAS,cAAc,KAAK,EAC3CA,EAAO,MAAM,QAAU,OACvBA,EAAO,MAAM,aAAe,yCAC5BA,EAAO,MAAM,QAAU,OACvBA,EAAO,MAAM,eAAiB,gBAC9BA,EAAO,MAAM,WAAa,SAE1B,IAAMC,EAAQ,SAAS,cAAc,KAAK,EAC1CA,EAAM,YAAc,YAAY,KAAK,MAAM,IAAI,GAC/CA,EAAM,MAAM,WAAa,MACzBD,EAAO,YAAYC,CAAK,EAExB,IAAMC,EAAW,SAAS,cAAc,QAAQ,EAChDA,EAAS,YAAc,OACvBA,EAAS,MAAM,WAAa,cAC5BA,EAAS,MAAM,OAAS,OACxBA,EAAS,MAAM,SAAW,OAC1BA,EAAS,MAAM,OAAS,UACxBA,EAAS,MAAM,MAAQ,2BACvBA,EAAS,iBAAiB,QAAS,IAAM,KAAK,MAAM,CAAC,EACrDF,EAAO,YAAYE,CAAQ,EAE3B,KAAK,aAAa,YAAYF,CAAM,EAGpC,IAAMG,EAAU,SAAS,cAAc,KAAK,EAC5CA,EAAQ,MAAM,KAAO,IACrBA,EAAQ,MAAM,SAAW,OACzBA,EAAQ,MAAM,QAAU,MAExB,KAAK,aAAaA,CAAO,EAEzB,KAAK,aAAa,YAAYA,CAAO,EACrC,KAAK,UAAU,YAAY,KAAK,YAAY,CAChD,CAKQ,aAAaN,EAA8B,CAE/C,IAAMO,EAAc,KAAK,eAAe,EAExC,GAAIA,EAAY,OAAS,EAAG,CACxB,IAAMC,EAAQ,SAAS,cAAc,KAAK,EAC1CA,EAAM,YAAc,YACpBA,EAAM,MAAM,QAAU,MACtBA,EAAM,MAAM,MAAQ,sCACpBR,EAAU,YAAYQ,CAAK,EAC3B,MACJ,CAGe,MAAM,KAAKD,EAAY,QAAQ,CAAC,EAC1C,KAAK,CAACE,EAAGC,IAAMA,EAAE,CAAC,EAAID,EAAE,CAAC,CAAC,EAGxB,QAAQ,CAAC,CAACE,EAAOC,CAAK,IAAM,CAC/B,IAAMC,EAAO,SAAS,cAAc,KAAK,EACzCA,EAAK,UAAY,mBACjBA,EAAK,MAAM,QAAU,WACrBA,EAAK,MAAM,OAAS,UACpBA,EAAK,MAAM,aAAe,MAC1BA,EAAK,MAAM,aAAe,MAC1BA,EAAK,MAAM,QAAU,OACrBA,EAAK,MAAM,eAAiB,gBAC5BA,EAAK,MAAM,WAAa,SAExB,IAAMC,EAAQ,SAAS,cAAc,MAAM,EAC3CA,EAAM,YAAc,KAAK,YAAYH,CAAK,EAC1CG,EAAM,MAAM,KAAO,IAEnB,IAAMC,EAAQ,SAAS,cAAc,MAAM,EAC3CA,EAAM,YAAc,OAAOH,CAAK,EAChCG,EAAM,MAAM,WAAa,iCACzBA,EAAM,MAAM,MAAQ,iCACpBA,EAAM,MAAM,QAAU,UACtBA,EAAM,MAAM,aAAe,OAC3BA,EAAM,MAAM,SAAW,OAEvBF,EAAK,YAAYC,CAAK,EACtBD,EAAK,YAAYE,CAAK,EAGtBF,EAAK,iBAAiB,aAAc,IAAM,CACtCA,EAAK,MAAM,WAAa,oCAC5B,CAAC,EAEDA,EAAK,iBAAiB,aAAc,IAAM,CACtCA,EAAK,MAAM,WAAa,aAC5B,CAAC,EAGDA,EAAK,iBAAiB,QAAS,IAAM,CAC7B,KAAK,uBACL,KAAK,sBAAsBF,CAAK,CAExC,CAAC,EAEDX,EAAU,YAAYa,CAAI,CAC9B,CAAC,CACL,CAKQ,gBAAsC,CAC1C,IAAMG,EAAS,IAAI,IAEnB,YAAK,MAAM,QAAQH,GAAQ,CACvB,IAAMI,EAAaJ,EAAK,aAAa,KAAMK,GACvCA,EAAG,UAAY,KAAK,MAAM,IAAMA,EAAG,YAAc,KAAK,MAAM,IAChE,EAEA,GAAID,EAAY,CACZ,IAAMN,EAAQ,KAAK,aAAaM,CAAU,EACpCE,EAAM,OAAOR,GAAS,SAAS,EACrCK,EAAO,IAAIG,GAAMH,EAAO,IAAIG,CAAG,GAAK,GAAK,CAAC,CAC9C,MACIH,EAAO,IAAI,WAAYA,EAAO,IAAI,SAAS,GAAK,GAAK,CAAC,CAE9D,CAAC,EAEMA,CACX,CAKQ,aAAaC,EAAsB,CAGvC,QAFkB,KAAK,MAAM,UAAY,IAAI,YAAY,EAEvC,CACd,IAAK,OACL,IAAK,QACD,OAAOA,EAAW,MAAQA,EAAW,MACzC,IAAK,SACD,OAAOA,EAAW,OACtB,IAAK,OACD,OAAOA,EAAW,KACtB,IAAK,gBACD,OAAOA,EAAW,QAAQ,MAAQA,EAAW,KACjD,IAAK,YACD,OAAOA,EAAW,OAASA,EAAW,WAAW,MACrD,QACI,OAAOA,EAAW,MAAQA,EAAW,OAAS,IACtD,CACJ,CAKQ,YAAYN,EAAoB,CACpC,OAAIA,GAAU,KACH,UAEJ,OAAOA,CAAK,CACvB,CAKO,cAAcS,EAAsC,CACvD,KAAK,sBAAwBA,CACjC,CAKO,OAAc,CACb,KAAK,eACL,KAAK,aAAa,OAAO,EACzB,KAAK,aAAe,KAE5B,CACJ,ECvMO,IAAMC,EAAN,KAAmB,CAUtB,YAAYC,EAAwBC,EAAeC,EAAcC,EAAwB,CAAC,EAAG,CAH7F,KAAQ,WAAsC,KAC9C,KAAQ,iBAAsC,KAG1C,KAAK,UAAYH,EACjB,KAAK,UAAYC,EACjB,KAAK,QAAUE,EACf,KAAK,MAAQD,EAGb,IAAME,EAAoB,KAAK,iBAAiB,EAC1CC,EAAoBF,EAAQ,cAAgB,CAAC,EACnD,KAAK,eAAiB,IAAI,IAAI,CAAC,GAAGC,EAAmB,GAAGC,CAAiB,CAAC,EAG1E,KAAK,OAAS,KAAK,UAAU,OAAOC,GAAK,CAAC,KAAK,eAAe,IAAIA,EAAE,EAAE,CAAC,EAGvE,KAAK,gBAAgB,CACzB,CAEO,QAAS,CACZ,KAAK,UAAU,UAAY,GAE3B,IAAMC,EAAiB,SAAS,cAAc,KAAK,EACnDA,EAAe,MAAM,UAAY,OACjCA,EAAe,MAAM,UAAY,OACjCA,EAAe,MAAM,MAAQ,OAC7BA,EAAe,MAAM,QAAU,QAC/BA,EAAe,MAAM,OAAS,OAE9B,IAAMC,EAAQ,SAAS,cAAc,OAAO,EAC5CA,EAAM,MAAM,eAAiB,WAC7BA,EAAM,MAAM,cAAgB,IAC5BA,EAAM,MAAM,YAAc,QAC1BA,EAAM,MAAM,MAAQ,cAEpB,KAAK,eAAeA,CAAK,EACzB,KAAK,aAAaA,CAAK,EACvB,KAAK,WAAWA,CAAK,EAErBD,EAAe,YAAYC,CAAK,EAChC,KAAK,UAAU,YAAYD,CAAc,EAKzC,KAAK,cAAcC,CAAK,CAC5B,CAEQ,eAAeA,EAAyB,CAC5C,IAAMC,EAAW,SAAS,cAAc,UAAU,EAE5CC,EAAW,SAAS,cAAc,KAAK,EAC7CA,EAAS,MAAM,MAAQ,OACvBD,EAAS,YAAYC,CAAQ,EAE7B,QAAWC,KAAS,KAAK,OAAQ,CAC7B,IAAMC,EAAM,SAAS,cAAc,KAAK,EACxCA,EAAI,MAAM,MAAQ,QAClBH,EAAS,YAAYG,CAAG,CAC5B,CAGA,IAAMC,EAAc,SAAS,cAAc,KAAK,EAChDA,EAAY,MAAM,MAAQ,OAC1BJ,EAAS,YAAYI,CAAW,EAEhCL,EAAM,YAAYC,CAAQ,CAC9B,CAEQ,aAAaD,EAAyB,CAC1C,IAAMM,EAAQ,SAAS,cAAc,OAAO,EAC5CA,EAAM,MAAM,WAAa,kCACzBA,EAAM,MAAM,SAAW,SACvBA,EAAM,MAAM,IAAM,IAClBA,EAAM,MAAM,OAAS,KAErB,IAAMC,EAAK,SAAS,cAAc,IAAI,EAGhCC,EAAU,SAAS,cAAc,IAAI,EAC3CA,EAAQ,YAAc,IACtB,KAAK,gBAAgBA,CAAO,EAC5BD,EAAG,YAAYC,CAAO,EAGtB,QAAWL,KAAS,KAAK,OAAQ,CAC7B,IAAMM,EAAK,SAAS,cAAc,IAAI,EAGhCC,EAAgB,SAAS,cAAc,KAAK,EAClDA,EAAc,MAAM,QAAU,OAC9BA,EAAc,MAAM,WAAa,SACjCA,EAAc,MAAM,eAAiB,gBACrCA,EAAc,MAAM,MAAQ,OAC5BA,EAAc,MAAM,IAAM,MAG1B,IAAMC,EAAW,SAAS,cAAc,MAAM,EAC1CC,EAAaT,EAAM,MAAQA,EAAM,IAAM,GAG3C,GAAI,KAAK,QAAQ,YAAY,UAAYA,EAAM,GAAI,CAC/C,IAAMU,EAAY,KAAK,QAAQ,YAAY,YAAc,MAAQ,UAAO,UACxED,GAAcC,CAClB,CAEAF,EAAS,YAAcC,EACvBD,EAAS,MAAM,KAAO,IACtBA,EAAS,MAAM,SAAW,SAC1BA,EAAS,MAAM,aAAe,WAC9BA,EAAS,MAAM,WAAa,SAG5B,IAAMG,EAAYX,EAAM,MAAM,YAAY,IAAM,KAAK,QAAQ,mBAAmB,YAAY,EAGtFY,EAAW,GAGXC,EAAiB,SAAS,cAAc,MAAM,EAMpD,GALAA,EAAe,MAAM,QAAU,OAC/BA,EAAe,MAAM,WAAa,SAClCA,EAAe,MAAM,IAAM,MAGvBF,GAAaC,EAAU,CACvB,IAAME,EAAa,SAAS,cAAc,MAAM,EAChDA,EAAW,YAAc,SACzBA,EAAW,MAAM,SAAW,OAC5BA,EAAW,MAAM,MAAQ,2BACzBA,EAAW,MAAM,QAAU,MAC3BA,EAAW,MAAQH,EAAY,wBAA0B,uBACzDE,EAAe,YAAYC,CAAU,CACzC,CAGA,IAAMC,EAAU,SAAS,cAAc,QAAQ,EAC/CA,EAAQ,YAAc,SACtBA,EAAQ,MAAM,WAAa,cAC3BA,EAAQ,MAAM,OAAS,OACvBA,EAAQ,MAAM,OAAS,UACvBA,EAAQ,MAAM,SAAW,OACzBA,EAAQ,MAAM,QAAU,UACxBA,EAAQ,MAAM,MAAQ,2BACtBA,EAAQ,MAAM,QAAU,MACxBA,EAAQ,MAAM,aAAe,MAC7BA,EAAQ,MAAQ,GAAGf,EAAM,IAAI,WAG7Be,EAAQ,iBAAiB,aAAc,IAAM,CACzCA,EAAQ,MAAM,QAAU,IACxBA,EAAQ,MAAM,WAAa,uCAC/B,CAAC,EAEDA,EAAQ,iBAAiB,aAAc,IAAM,CACzCA,EAAQ,MAAM,QAAU,MACxBA,EAAQ,MAAM,WAAa,aAC/B,CAAC,EAGDA,EAAQ,iBAAiB,QAAUC,GAAM,CACrCA,EAAE,gBAAgB,EAClB,KAAK,eAAeA,EAAGhB,EAAOM,CAAE,CACpC,CAAC,EAEDC,EAAc,YAAYC,CAAQ,GAE9BG,GAAaC,IACbL,EAAc,YAAYM,CAAc,EAE5CN,EAAc,YAAYQ,CAAO,EACjCT,EAAG,YAAYC,CAAa,EAG5BD,EAAG,iBAAiB,aAAc,IAAM,CACpCA,EAAG,MAAM,WAAa,oCAC1B,CAAC,EAEDA,EAAG,iBAAiB,aAAc,IAAM,CACpCA,EAAG,MAAM,WAAa,iCAC1B,CAAC,EAED,KAAK,gBAAgBA,CAAE,EACvBF,EAAG,YAAYE,CAAE,CACrB,CAGA,IAAMW,EAAa,SAAS,cAAc,IAAI,EACxCC,EAAc,SAAS,cAAc,QAAQ,EACnDA,EAAY,YAAc,IAC1BA,EAAY,MAAM,WAAa,cAC/BA,EAAY,MAAM,OAAS,OAC3BA,EAAY,MAAM,OAAS,UAC3BA,EAAY,MAAM,SAAW,OAC7BA,EAAY,MAAM,WAAa,OAC/BA,EAAY,MAAM,MAAQ,2BAC1BA,EAAY,MAAM,MAAQ,OAC1BA,EAAY,MAAM,OAAS,OAC3BA,EAAY,MAAQ,qBAEpBA,EAAY,iBAAiB,QAAS,IAAM,KAAK,qBAAqBA,CAAW,CAAC,EAElFD,EAAW,YAAYC,CAAW,EAClC,KAAK,gBAAgBD,CAAU,EAC/BA,EAAW,MAAM,UAAY,SAC7BA,EAAW,MAAM,MAAQ,OACzBb,EAAG,YAAYa,CAAU,EAEzBd,EAAM,YAAYC,CAAE,EACpBP,EAAM,YAAYM,CAAK,CAC3B,CAEQ,gBAAgBG,EAA0B,CAC9CA,EAAG,MAAM,QAAU,MACnBA,EAAG,MAAM,UAAY,OACrBA,EAAG,MAAM,WAAa,SACtBA,EAAG,MAAM,SAAW,SACpBA,EAAG,MAAM,aAAe,WACxBA,EAAG,MAAM,YAAc,6CACvBA,EAAG,MAAM,aAAe,6CACxBA,EAAG,MAAM,SAAW,SACpBA,EAAG,MAAM,IAAM,IACfA,EAAG,MAAM,OAAS,KAClBA,EAAG,MAAM,WAAa,kCACtBA,EAAG,MAAM,OAAS,OAClBA,EAAG,MAAM,UAAY,YACzB,CAEQ,WAAWT,EAAyB,CACxC,IAAMsB,EAAQ,SAAS,cAAc,OAAO,EAGtCC,EAAgB,KAAK,iBAAiB,EAExCA,EACA,KAAK,kBAAkBD,EAAOC,CAAa,EAE3C,KAAK,eAAeD,EAAO,KAAK,KAAK,EAGzCtB,EAAM,YAAYsB,CAAK,CAC3B,CAEQ,kBAAmB,CAGvB,OAAI,KAAK,QAAQ,kBACN,KAAK,OAAO,KAAKxB,GACnBA,EAAE,MAAQA,EAAE,KAAK,YAAY,IAAM,KAAK,QAAQ,mBAAmB,YAAY,GAC/EA,EAAE,IAAMA,EAAE,KAAO,KAAK,QAAQ,iBACnC,EAEG,IACX,CAEQ,eAAewB,EAAgC5B,EAAc,CACjEA,EAAM,QAAQ,CAAC8B,EAAMC,IAAU,CAC3B,IAAMlB,EAAK,KAAK,UAAUiB,EAAMC,CAAK,EACrCH,EAAM,YAAYf,CAAE,CACxB,CAAC,CACL,CAEQ,kBAAkBe,EAAgCC,EAAoB,CAE1E,IAAMG,EAAS,KAAK,WAAW,KAAK,MAAOH,CAAa,EAExD,QAAWI,KAASD,EAAQ,CAExB,IAAME,EAAW,SAAS,cAAc,IAAI,EACtCC,EAAW,SAAS,cAAc,IAAI,EAC5CA,EAAS,QAAU,KAAK,OAAO,OAAS,EACxCA,EAAS,MAAM,QAAU,MACzBA,EAAS,MAAM,WAAa,kCAC5BA,EAAS,MAAM,WAAa,MAC5BA,EAAS,MAAM,UAAY,6CAC3BA,EAAS,MAAM,aAAe,6CAC9BA,EAAS,MAAM,SAAW,SAC1BA,EAAS,MAAM,IAAM,OACrBA,EAAS,MAAM,OAAS,IACxBA,EAAS,MAAM,UAAY,4BAG3B,IAAMnB,EAAgB,SAAS,cAAc,KAAK,EAClDA,EAAc,MAAM,QAAU,OAC9BA,EAAc,MAAM,WAAa,SACjCA,EAAc,MAAM,IAAM,MAG1B,IAAMoB,EAAY,SAAS,cAAc,eAAe,EACxDA,EAAU,aAAa,aAAc,MAAM,EAC3CA,EAAU,YAAc,IACxBA,EAAU,MAAM,MAAQ,OACxBA,EAAU,MAAM,OAAS,OACzBA,EAAU,MAAM,OAAS,UAGzB,IAAMC,EAAW,SAAS,cAAc,KAAK,EAC7CA,EAAS,MAAM,MAAQ,OACvBA,EAAS,MAAM,OAAS,OACxBA,EAAS,MAAM,aAAe,MAC9BA,EAAS,MAAM,gBAAkBC,EAAeL,EAAM,OAAO,KAAK,GAAK,OAEvE,IAAMhB,EAAW,SAAS,cAAc,MAAM,EAC9CA,EAAS,YAAcgB,EAAM,OAAO,MAAQA,EAAM,OAAO,OAAS,aAElE,IAAMM,EAAa,SAAS,cAAc,cAAc,EACxDA,EAAW,YAAc,OAAON,EAAM,MAAM,MAAM,EAElDjB,EAAc,YAAYoB,CAAS,EACnCpB,EAAc,YAAYqB,CAAQ,EAClCrB,EAAc,YAAYC,CAAQ,EAClCD,EAAc,YAAYuB,CAAU,EAEpCJ,EAAS,YAAYnB,CAAa,EAClCkB,EAAS,YAAYC,CAAQ,EAC7BP,EAAM,YAAYM,CAAQ,EAG1B,IAAMM,EAAmC,CAAC,EAC1CP,EAAM,MAAM,QAASQ,GAAmB,CACpC,IAAM5B,EAAK,KAAK,UAAU4B,EAAU,KAAMA,EAAU,KAAK,EACzD5B,EAAG,UAAU,IAAI,aAAeoB,EAAM,OAAO,EAAE,EAC/CL,EAAM,YAAYf,CAAE,EACpB2B,EAAU,KAAK3B,CAAE,CACrB,CAAC,EAGDuB,EAAU,iBAAiB,QAAS,IAAM,CACtC,IAAMM,EAAcN,EAAU,cAAgB,IAC9CA,EAAU,YAAcM,EAAc,IAAM,IAC5CF,EAAU,QAAQG,GAAO,CACrBA,EAAI,MAAM,QAAUD,EAAc,YAAc,MACpD,CAAC,CACL,CAAC,CACL,CACJ,CAEQ,WAAW1C,EAAcS,EAAY,CAEzC,IAAIR,EAAiB,CAAC,EAChB2C,GAASnC,EAAM,UAAY,IAAI,YAAY,EAC7CmC,IAAU,gBACV3C,EAAUQ,EAAM,SAAW,CAAC,EACrBmC,IAAU,cACjB3C,EAAWQ,EAAM,eAAiBA,EAAM,cAAc,YAAe,CAAC,GAG1E,IAAMuB,EAAgB/B,EAAQ,IAAK4C,IAAc,CAAE,OAAQA,EAAK,MAAO,CAAC,CAAE,EAAE,EACtEC,EAAoB,CAAC,EAE3B,OAAA9C,EAAM,QAAQ,CAAC8B,EAAMC,IAAU,CAC3B,IAAMgB,EAAKjB,EAAK,YAAY,KAAM,GAAW,EAAE,UAAYrB,EAAM,IAAM,EAAE,YAAcA,EAAM,IAAI,EAC7FuC,EAAS,GAEb,GAAID,EAAI,CAEJ,IAAIE,EAAyB,KACzBC,EAA2B,KAU/B,GARIN,IAAU,iBACVK,EAAUF,EAAG,UAAaA,EAAG,QAAUA,EAAG,OAAO,GACjDG,EAAYH,EAAG,MAASA,EAAG,QAAUA,EAAG,OAAO,MACxCH,IAAU,cACjBK,EAAUF,EAAG,aAAgBA,EAAG,WAAaA,EAAG,UAAU,IAAOA,EAAG,GACpEG,EAAYH,EAAG,OAAUA,EAAG,WAAaA,EAAG,UAAU,OAGtDE,GAAWC,EAAW,CACtB,IAAMjB,EAAQD,EAAO,KAAMmB,GACtBF,GAAWE,EAAE,OAAO,KAAOF,GAC3BC,IAAcC,EAAE,OAAO,OAASD,GAAaC,EAAE,OAAO,QAAUD,EACrE,EACIjB,IACAA,EAAM,MAAM,KAAK,CAAE,KAAAH,EAAM,MAAAC,CAAM,CAAC,EAChCiB,EAAS,GAEjB,CACJ,CAEKA,GACDF,EAAW,KAAK,CAAE,KAAAhB,EAAM,MAAAC,CAAM,CAAC,CAEvC,CAAC,EAEGe,EAAW,OAAS,GACpBd,EAAO,KAAK,CAAE,OAAQ,CAAE,KAAM,aAAc,MAAO,aAAc,MAAO,MAAO,EAAG,MAAOc,CAAW,CAAC,EAGlGd,EAAO,OAAQmB,GAAWA,EAAE,MAAM,OAAS,CAAC,CACvD,CAEQ,UAAUrB,EAAWC,EAAoC,CAC7D,IAAMlB,EAAK,SAAS,cAAc,IAAI,EACtCA,EAAG,aAAa,kBAAmBiB,EAAK,EAAE,EAG1C,IAAMsB,EAAU,SAAS,cAAc,IAAI,EAC3CA,EAAQ,YAAc,OAAOrB,EAAQ,CAAC,EACtC,KAAK,UAAUqB,CAAO,EACtBvC,EAAG,YAAYuC,CAAO,EAGtB,QAAW3C,KAAS,KAAK,OAAQ,CAC7B,IAAM4C,EAAK,SAAS,cAAc,IAAI,EACtC,KAAK,UAAUA,CAAE,EAEjB,IAAMN,EAAKjB,EAAK,YAAY,KAAMwB,GAAWA,EAAE,UAAY7C,EAAM,IAAM6C,EAAE,YAAc7C,EAAM,IAAI,EAC7FsC,IACAM,EAAG,UAAYE,EAAWR,EAAItC,EAAOqB,EAAM,KAAK,KAAK,GAEzDjB,EAAG,YAAYwC,CAAE,CACrB,CAEA,OAAOxC,CACX,CAEQ,UAAUwC,EAA0B,CACxCA,EAAG,MAAM,QAAU,MACnBA,EAAG,MAAM,YAAc,6CACvBA,EAAG,MAAM,aAAe,6CACxBA,EAAG,MAAM,WAAa,SACtBA,EAAG,MAAM,SAAW,SACpBA,EAAG,MAAM,aAAe,UAC5B,CAEQ,eAAeG,EAAmB/C,EAAYgD,EAA4B,CAC9ED,EAAM,gBAAgB,EAGlB,KAAK,YACL,KAAK,WAAW,KAAK,EAIzB,IAAME,GAAYjD,EAAM,UAAY,IAAI,YAAY,EAC9CkD,EAAW,CAAC,gBAAiB,WAAW,EAAE,SAASD,CAAQ,EAC3DE,GAAYnD,EAAM,MAAM,YAAY,GAAK,MAAQ,QAGvD,KAAK,WAAa,IAAIoD,EAAiBpD,EAAO,CAC1C,SAAAkD,EACA,SAAAC,EACA,UAAW,GACX,OAASE,GAAc,KAAK,WAAWrD,EAAOqD,CAAS,EACvD,QAAS,IAAM,KAAK,YAAYrD,CAAK,EACrC,QAAS,IAAM,KAAK,YAAYA,CAAK,EACrC,OAAQ,IAAM,KAAK,UAAUA,EAAM,EAAE,EACrC,OAASqD,GAAc,KAAK,WAAWrD,EAAOqD,CAAS,CAC3D,CAAC,EAED,KAAK,WAAW,KAAKL,CAAa,CACtC,CAEQ,qBAAqBM,EAA4B,CAEjD,KAAK,YACL,KAAK,WAAW,KAAK,EAIzB,IAAMC,EAAe,KAAK,UAAU,OAAO5D,GAAK,KAAK,eAAe,IAAIA,EAAE,EAAE,CAAC,EAE7E,GAAI4D,EAAa,SAAW,EAAG,CAE3B,IAAMC,EAAU,SAAS,cAAc,KAAK,EAC5CA,EAAQ,YAAc,mBACtBA,EAAQ,MAAM,SAAW,WACzBA,EAAQ,MAAM,WAAa,gCAC3BA,EAAQ,MAAM,OAAS,sCACvBA,EAAQ,MAAM,aAAe,MAC7BA,EAAQ,MAAM,QAAU,OACxBA,EAAQ,MAAM,SAAW,OACzBA,EAAQ,MAAM,MAAQ,sCACtBA,EAAQ,MAAM,OAAS,OAEvB,IAAMC,EAAOH,EAAc,sBAAsB,EACjDE,EAAQ,MAAM,IAAM,GAAGC,EAAK,OAAS,CAAC,KACtCD,EAAQ,MAAM,KAAO,GAAGC,EAAK,IAAI,KAEjC,SAAS,KAAK,YAAYD,CAAO,EAEjC,WAAW,IAAMA,EAAQ,OAAO,EAAG,GAAI,EACvC,MACJ,CAGA,IAAME,EAAO,SAAS,cAAc,KAAK,EACzCA,EAAK,MAAM,SAAW,WACtBA,EAAK,MAAM,WAAa,gCACxBA,EAAK,MAAM,OAAS,sCACpBA,EAAK,MAAM,aAAe,MAC1BA,EAAK,MAAM,QAAU,QACrBA,EAAK,MAAM,SAAW,QACtBA,EAAK,MAAM,OAAS,OACpBA,EAAK,MAAM,SAAW,OAEtB,IAAMD,EAAOH,EAAc,sBAAsB,EACjDI,EAAK,MAAM,IAAM,GAAGD,EAAK,OAAS,CAAC,KACnCC,EAAK,MAAM,KAAO,GAAGD,EAAK,IAAI,KAG9B,IAAME,EAAS,SAAS,cAAc,KAAK,EAC3CA,EAAO,YAAc,aACrBA,EAAO,MAAM,QAAU,WACvBA,EAAO,MAAM,WAAa,MAC1BA,EAAO,MAAM,MAAQ,sCACrBA,EAAO,MAAM,SAAW,OACxBA,EAAO,MAAM,cAAgB,YAC7BD,EAAK,YAAYC,CAAM,EAEvB,IAAMC,EAAY,SAAS,cAAc,KAAK,EAC9CA,EAAU,MAAM,OAAS,MACzBA,EAAU,MAAM,WAAa,yCAC7BA,EAAU,MAAM,OAAS,QACzBF,EAAK,YAAYE,CAAS,EAG1BL,EAAa,QAAQvD,GAAS,CAC1B,IAAMqB,EAAO,SAAS,cAAc,KAAK,EACzCA,EAAK,YAAcrB,EAAM,MAAQA,EAAM,GACvCqB,EAAK,MAAM,QAAU,WACrBA,EAAK,MAAM,OAAS,UACpBA,EAAK,MAAM,MAAQ,gCAEnBA,EAAK,iBAAiB,aAAc,IAAM,CACtCA,EAAK,MAAM,WAAa,yCACxBA,EAAK,MAAM,MAAQ,wCACvB,CAAC,EAEDA,EAAK,iBAAiB,aAAc,IAAM,CACtCA,EAAK,MAAM,WAAa,cACxBA,EAAK,MAAM,MAAQ,+BACvB,CAAC,EAEDA,EAAK,iBAAiB,QAAS,IAAM,CACjC,KAAK,UAAUrB,EAAM,EAAE,EACvB0D,EAAK,OAAO,EACZG,EAAS,OAAO,CACpB,CAAC,EAEDH,EAAK,YAAYrC,CAAI,CACzB,CAAC,EAGD,IAAMwC,EAAW,SAAS,cAAc,KAAK,EAC7CA,EAAS,MAAM,SAAW,QAC1BA,EAAS,MAAM,IAAM,IACrBA,EAAS,MAAM,KAAO,IACtBA,EAAS,MAAM,MAAQ,IACvBA,EAAS,MAAM,OAAS,IACxBA,EAAS,MAAM,OAAS,MACxBA,EAAS,iBAAiB,QAAS,IAAM,CACrCH,EAAK,OAAO,EACZG,EAAS,OAAO,CACpB,CAAC,EAED,SAAS,KAAK,YAAYA,CAAQ,EAClC,SAAS,KAAK,YAAYH,CAAI,CAClC,CAEQ,WAAW1D,EAAYqD,EAA2B,CACtD,IAAMS,EAAyB,CAC3B,QAAS9D,EAAM,GACf,UAAAqD,CACJ,EAGA,KAAK,eAAeS,CAAU,EAG1B,KAAK,QAAQ,cACb,KAAK,QAAQ,aAAaA,CAAU,CAE5C,CAEQ,YAAY9D,EAAY,CACxB,KAAK,QAAQ,eAAiBA,EAAM,MACpC,KAAK,QAAQ,cAAcA,EAAM,IAAI,CAE7C,CAEQ,YAAYA,EAAY,CAExB,KAAK,mBACL,KAAK,iBAAiB,MAAM,EAC5B,KAAK,iBAAmB,MAI5B,KAAK,iBAAmB,IAAI+D,EAAW,KAAK,UAAW/D,EAAO,KAAK,KAAK,EACxE,KAAK,iBAAiB,OAAO,EAG7B,IAAMH,EAAQ,KAAK,UAAU,cAAc,OAAO,EAClD,GAAIA,EAAO,CACP,IAAMmE,EAAU,KAAK,UAAU,cAAc,cAAc,EACvDA,GACA,KAAK,UAAU,aAAaA,EAASnE,CAAK,CAElD,CAEA,KAAK,iBAAiB,cAAeoE,GAAU,CAG3C,QAAQ,IAAI,aAAajE,EAAM,IAAI,IAAKiE,CAAK,CACjD,CAAC,EAGG,KAAK,QAAQ,eACb,KAAK,QAAQ,cAAcjE,CAAK,CAExC,CAEO,UAAUkE,EAAiB,CAC9B,KAAK,eAAe,IAAIA,CAAO,EAC/B,KAAK,iBAAiB,EACtB,KAAK,OAAS,KAAK,UAAU,OAAOvE,GAAK,CAAC,KAAK,eAAe,IAAIA,EAAE,EAAE,CAAC,EACvE,KAAK,OAAO,CAChB,CAEO,UAAUuE,EAAiB,CAC9B,KAAK,eAAe,OAAOA,CAAO,EAClC,KAAK,iBAAiB,EACtB,KAAK,OAAS,KAAK,UAAU,OAAOvE,GAAK,CAAC,KAAK,eAAe,IAAIA,EAAE,EAAE,CAAC,EACvE,KAAK,OAAO,CAChB,CAEQ,WAAWK,EAAYqD,EAA6B,CACxD,IAAMc,EAAe,KAAK,OAAO,UAAUxE,GAAKA,EAAE,KAAOK,EAAM,EAAE,EAE7DqD,IAAc,QAAUc,EAAe,EAEvC,CAAC,KAAK,OAAOA,CAAY,EAAG,KAAK,OAAOA,EAAe,CAAC,CAAC,EACrD,CAAC,KAAK,OAAOA,EAAe,CAAC,EAAG,KAAK,OAAOA,CAAY,CAAC,EACtDd,IAAc,SAAWc,EAAe,KAAK,OAAO,OAAS,IAEpE,CAAC,KAAK,OAAOA,CAAY,EAAG,KAAK,OAAOA,EAAe,CAAC,CAAC,EACrD,CAAC,KAAK,OAAOA,EAAe,CAAC,EAAG,KAAK,OAAOA,CAAY,CAAC,GAGjE,KAAK,eAAe,EACpB,KAAK,OAAO,CAChB,CAGQ,cAAcC,EAAwB,CAC1C,OAAO,KAAK,QAAQ,QAAU,oBAAoB,KAAK,QAAQ,OAAO,IAAIA,CAAM,GAAK,EACzF,CAEQ,kBAA6B,CACjC,IAAMC,EAAM,KAAK,cAAc,cAAc,EAC7C,GAAI,CAACA,EAAK,MAAO,CAAC,EAElB,GAAI,CACA,IAAMC,EAAS,aAAa,QAAQD,CAAG,EACvC,OAAOC,EAAS,KAAK,MAAMA,CAAM,EAAI,CAAC,CAC1C,MAAQ,CACJ,MAAO,CAAC,CACZ,CACJ,CAEQ,kBAAmB,CACvB,IAAMD,EAAM,KAAK,cAAc,cAAc,EACxCA,GAEL,aAAa,QAAQA,EAAK,KAAK,UAAU,MAAM,KAAK,KAAK,cAAc,CAAC,CAAC,CAC7E,CAEQ,eAAeE,EAAoB,CACvC,IAAMF,EAAM,KAAK,cAAc,YAAY,EACtCA,GAEL,aAAa,QAAQA,EAAK,KAAK,UAAUE,CAAM,CAAC,CACpD,CAEQ,gBAAiB,CACrB,IAAMF,EAAM,KAAK,cAAc,YAAY,EAC3C,GAAI,CAACA,EAAK,OAEV,IAAMG,EAAQ,KAAK,OAAO,IAAI7E,GAAKA,EAAE,EAAE,EACvC,aAAa,QAAQ0E,EAAK,KAAK,UAAUG,CAAK,CAAC,CACnD,CAEQ,iBAAkB,CACtB,IAAMH,EAAM,KAAK,cAAc,YAAY,EAC3C,GAAKA,EAEL,GAAI,CACA,IAAMC,EAAS,aAAa,QAAQD,CAAG,EACvC,GAAI,CAACC,EAAQ,OAEb,IAAME,EAAkB,KAAK,MAAMF,CAAM,EACnCG,EAAuB,CAAC,EAG9B,QAAWP,KAAWM,EAAO,CACzB,IAAMxE,EAAQ,KAAK,OAAO,KAAKL,GAAKA,EAAE,KAAOuE,CAAO,EAChDlE,GACAyE,EAAc,KAAKzE,CAAK,CAEhC,CAGA,QAAWA,KAAS,KAAK,OAChByE,EAAc,KAAK9E,GAAKA,EAAE,KAAOK,EAAM,EAAE,GAC1CyE,EAAc,KAAKzE,CAAK,EAIhC,KAAK,OAASyE,CAClB,MAAQ,CAER,CACJ,CAEQ,cAAc5E,EAAyB,CAC3BA,EAAM,iBAAiB,IAAI,EAEnC,QAAQ,CAACS,EAAIgB,IAAU,CAE3B,GAAIA,IAAU,EAAG,OAGjB,IAAMoD,EAAU,SAAS,cAAc,KAAK,EAC5CA,EAAQ,UAAY,iBACpBA,EAAQ,MAAM,SAAW,WACzBA,EAAQ,MAAM,IAAM,IACpBA,EAAQ,MAAM,MAAQ,IACtBA,EAAQ,MAAM,MAAQ,MACtBA,EAAQ,MAAM,OAAS,OACvBA,EAAQ,MAAM,OAAS,aACvBA,EAAQ,MAAM,WAAa,OAC3BA,EAAQ,MAAM,OAAS,MAGvBA,EAAQ,iBAAiB,aAAc,IAAM,CACzCA,EAAQ,MAAM,WAAa,2BAC/B,CAAC,EAEDA,EAAQ,iBAAiB,aAAc,IAAM,CACzCA,EAAQ,MAAM,WAAa,aAC/B,CAAC,EAGD,IAAIC,EAAS,EACTC,EAAa,EAEjBF,EAAQ,iBAAiB,YAAc1D,GAAkB,CACrDA,EAAE,eAAe,EACjBA,EAAE,gBAAgB,EAElB2D,EAAS3D,EAAE,MACX4D,EAAatE,EAAG,YAEhB,IAAMuE,EAAe7D,GAAkB,CACnC,IAAM8D,EAAW,KAAK,IAAI,GAAIF,GAAc5D,EAAE,MAAQ2D,EAAO,EAC7DrE,EAAG,MAAM,MAAQ,GAAGwE,CAAQ,KAC5BxE,EAAG,MAAM,SAAW,GAAGwE,CAAQ,KAC/BxE,EAAG,MAAM,SAAW,GAAGwE,CAAQ,IACnC,EAEMC,EAAY,IAAM,CACpB,SAAS,oBAAoB,YAAaF,CAAW,EACrD,SAAS,oBAAoB,UAAWE,CAAS,EAGjD,IAAMC,EAAa1D,EAAQ,EACvB0D,GAAc,GAAKA,EAAa,KAAK,OAAO,QAC5C,KAAK,gBAAgB,KAAK,OAAOA,CAAU,EAAE,GAAI1E,EAAG,WAAW,CAEvE,EAEA,SAAS,iBAAiB,YAAauE,CAAW,EAClD,SAAS,iBAAiB,UAAWE,CAAS,CAClD,CAAC,EAGAzE,EAAmB,MAAM,SAAW,WACrCA,EAAG,YAAYoE,CAAO,CAC1B,CAAC,EAGD,KAAK,oBAAoB7E,CAAK,CAClC,CAEQ,gBAAgBqE,EAAiBe,EAAe,CACpD,IAAMZ,EAAM,KAAK,cAAc,cAAc,EAC7C,GAAKA,EAEL,GAAI,CACA,IAAMC,EAAS,aAAa,QAAQD,CAAG,EACjCa,EAASZ,EAAS,KAAK,MAAMA,CAAM,EAAI,CAAC,EAC9CY,EAAOhB,CAAO,EAAIe,EAClB,aAAa,QAAQZ,EAAK,KAAK,UAAUa,CAAM,CAAC,CACpD,MAAQ,CAAE,CACd,CAEQ,oBAAoBrF,EAAyB,CACjD,IAAMwE,EAAM,KAAK,cAAc,cAAc,EAC7C,GAAKA,EAEL,GAAI,CACA,IAAMC,EAAS,aAAa,QAAQD,CAAG,EACvC,GAAI,CAACC,EAAQ,OAEb,IAAMY,EAAS,KAAK,MAAMZ,CAAM,EAC1Ba,EAAUtF,EAAM,iBAAiB,IAAI,EAE3C,KAAK,OAAO,QAAQ,CAACG,EAAOsB,IAAU,CAClC,IAAM2D,EAAQC,EAAOlF,EAAM,EAAE,EAC7B,GAAIiF,EAAO,CACP,IAAM3E,EAAK6E,EAAQ7D,EAAQ,CAAC,EACxBhB,IACAA,EAAG,MAAM,MAAQ,GAAG2E,CAAK,KACzB3E,EAAG,MAAM,SAAW,GAAG2E,CAAK,KAC5B3E,EAAG,MAAM,SAAW,GAAG2E,CAAK,KAEpC,CACJ,CAAC,CACL,MAAQ,CAAE,CACd,CACJ,EChzBO,SAASG,EAAgBC,EAAwBC,EAAmB,CACvED,EAAU,UACN,sBACAC,EACA,sDACR,CAKO,SAASC,EAAcF,EAAwBC,EAAmBE,EAAe,CACpFH,EAAU,UACN,sBACAC,EACA,4DACAE,EACA,QACR,CAKO,SAASC,EAAqBC,EAAwC,CACzE,IAAMC,EAAM,SAAS,cAAc,QAAQ,EAC3C,OAAAA,EAAI,KAAO,SACXA,EAAI,YAAc,YAClBA,EAAI,MAAM,WAAa,MACvBA,EAAI,MAAM,OAAS,8CACnBA,EAAI,iBAAiB,QAAS,IAAM,CAChCD,EAAQ,EACRC,EAAI,SAAW,GACfA,EAAI,YAAc,YACtB,CAAC,EACMA,CACX,CAMO,SAASC,GACZP,EACAQ,EACAC,EAKG,CACH,GACI,OAAO,iBACP,OAAO,OAAO,gBAAgB,QAAW,WAEzC,GAAI,CACA,OAAO,OAAO,gBAAgB,OAAO,CACjC,OAAQT,EACR,OAAQS,EAAQ,QAAUD,EAC1B,UAAW,OACX,QAASA,EACT,KAAMC,EAAQ,MAAQ,GACtB,WAAYA,EAAQ,UACxB,CAAC,CACL,MAAY,CACR,OAAO,IACX,CAEJ,OAAO,IACX,CCnFO,SAASC,GAAkBC,EAAsC,CACpE,GAAI,CAACA,GAAgB,CAACA,EAAa,OAASA,EAAa,MAAM,SAAW,EACtE,OAAO,KAGX,IAAMC,EAAUD,EAAa,MAAM,CAAC,EACpC,GAAI,CAACC,GAAW,CAACA,EAAQ,MACrB,OAAO,KAGX,IAAMC,EAAqB,CACvB,QAASD,EAAQ,MAAM,IAAMA,EAAQ,MAAM,KAC3C,UAAWA,EAAQ,WAAa,KACpC,EAGA,GAAID,EAAa,MAAM,OAAS,EAAG,CAC/B,IAAMG,EAAYH,EAAa,MAAM,CAAC,EAClCG,GAAaA,EAAU,QACvBD,EAAO,UAAY,CACf,QAASC,EAAU,MAAM,IAAMA,EAAU,MAAM,KAC/C,UAAWA,EAAU,WAAa,KACtC,EAER,CAEA,OAAOD,CACX,CAKO,SAASE,GAAUC,EAAcC,EAAuBC,EAA+B,CAC1F,GAAI,CAACA,GAAcF,EAAM,SAAW,EAChC,OAAOA,EAGX,IAAMG,EAAQF,EAAO,KAAKG,GAAKA,EAAE,KAAOF,EAAW,SAAWE,EAAE,OAASF,EAAW,OAAO,EAC3F,GAAI,CAACC,EACD,OAAOH,EAIX,IAAMK,EAAS,CAAC,GAAGL,CAAK,EAExB,OAAAK,EAAO,KAAK,CAACC,EAAGC,IAAM,CAElB,IAAMC,EAAgBC,GAAmBH,EAAGC,EAAGJ,EAAOD,EAAW,SAAS,EAG1E,GAAIM,IAAkB,GAAKN,EAAW,UAAW,CAC7C,IAAMQ,EAAiBT,EAAO,KAAKG,GAC/BA,EAAE,KAAOF,EAAW,UAAW,SAAWE,EAAE,OAASF,EAAW,UAAW,OAC/E,EACA,GAAIQ,EACA,OAAOD,GAAmBH,EAAGC,EAAGG,EAAgBR,EAAW,UAAU,SAAS,CAEtF,CAEA,OAAOM,CACX,CAAC,EAEMH,CACX,CAKO,SAASI,GAAmBH,EAAQC,EAAQJ,EAAoBQ,EAAmC,CAEtG,IAAMC,EAASC,GAAcP,EAAGH,CAAK,EAC/BW,EAASD,GAAcN,EAAGJ,CAAK,EAGrC,GAAIS,IAAW,MAAQE,IAAW,KAAM,MAAO,GAC/C,GAAIF,IAAW,KAAM,OAAOD,IAAc,MAAQ,EAAI,GACtD,GAAIG,IAAW,KAAM,OAAOH,IAAc,MAAQ,GAAK,EAEvD,IAAII,EAAS,EAGb,QAFkBZ,EAAM,UAAY,IAAI,YAAY,EAElC,CACd,IAAK,OACL,IAAK,QACDY,EAASC,EAAYJ,EAAQE,CAAM,EACnC,MAEJ,IAAK,SACDC,EAASE,GAAcL,EAAQE,CAAM,EACrC,MAEJ,IAAK,OACDC,EAASG,GAAYN,EAAQE,CAAM,EACnC,MAEJ,IAAK,gBACDC,EAASI,GAAoBP,EAAQE,EAAQX,CAAK,EAClD,MAEJ,IAAK,YACDY,EAASK,GAAiBR,EAAQE,CAAM,EACxC,MAEJ,IAAK,SACDC,EAASM,GAAcT,EAAQE,CAAM,EACrC,MAEJ,QAEIC,EAAS,OAAOH,CAAM,EAAE,cAAc,OAAOE,CAAM,CAAC,CAC5D,CAEA,OAAOH,IAAc,MAAQI,EAAS,CAACA,CAC3C,CAKA,SAASF,GAAcS,EAAWnB,EAAyB,CACvD,IAAMoB,EAAaD,EAAK,aAAa,KAAME,GACvCA,EAAG,UAAYrB,EAAM,IAAMqB,EAAG,YAAcrB,EAAM,IACtD,EAEA,GAAI,CAACoB,EAAY,OAAO,KAIxB,QAFkBpB,EAAM,UAAY,IAAI,YAAY,EAElC,CACd,IAAK,OACL,IAAK,QACD,OAAOoB,EAAW,MAAQA,EAAW,OAAS,KAElD,IAAK,SACD,OAAOA,EAAW,SAAW,OAAYA,EAAW,OAAS,KAEjE,IAAK,OACD,OAAOA,EAAW,MAAQA,EAAW,WAAaA,EAAW,OAAS,KAE1E,IAAK,gBACD,OAAOA,EAAW,QAAUA,EAEhC,IAAK,YACD,OAAOA,EAEX,IAAK,SACD,OAAOA,EAAW,QAAU,CAAC,EAEjC,QACI,OAAOA,CACf,CACJ,CAKA,SAASP,EAAYV,EAAQC,EAAgB,CACzC,IAAMkB,EAAO,OAAOnB,GAAK,EAAE,EAAE,YAAY,EACnCoB,EAAO,OAAOnB,GAAK,EAAE,EAAE,YAAY,EACzC,OAAOkB,EAAK,cAAcC,CAAI,CAClC,CAKA,SAAST,GAAcX,EAAQC,EAAgB,CAC3C,IAAMoB,EAAO,OAAOrB,GAAM,SAAWA,EAAI,WAAWA,CAAC,EAC/CsB,EAAO,OAAOrB,GAAM,SAAWA,EAAI,WAAWA,CAAC,EAErD,OAAI,MAAMoB,CAAI,GAAK,MAAMC,CAAI,EAAU,EACnC,MAAMD,CAAI,EAAU,EACpB,MAAMC,CAAI,EAAU,GAEjBD,EAAOC,CAClB,CAKA,SAASV,GAAYZ,EAAQC,EAAgB,CACzC,IAAMsB,EAAQ,IAAI,KAAKvB,CAAC,EAClBwB,EAAQ,IAAI,KAAKvB,CAAC,EAExB,OAAI,MAAMsB,EAAM,QAAQ,CAAC,GAAK,MAAMC,EAAM,QAAQ,CAAC,EAAU,EACzD,MAAMD,EAAM,QAAQ,CAAC,EAAU,EAC/B,MAAMC,EAAM,QAAQ,CAAC,EAAU,GAE5BD,EAAM,QAAQ,EAAIC,EAAM,QAAQ,CAC3C,CAKA,SAASX,GAAoBb,EAAQC,EAAQJ,EAA4B,CACrE,IAAM4B,EAAUzB,EAAE,QAAUA,EACtB0B,EAAUzB,EAAE,QAAUA,EAE5B,GAAI,CAACwB,GAAW,CAACC,EACb,OAAOhB,EAAYe,GAAS,MAAQ,GAAIC,GAAS,MAAQ,EAAE,EAI/D,GAAI7B,EAAM,SAAW,MAAM,QAAQA,EAAM,OAAO,EAAG,CAC/C,IAAM8B,EAAS9B,EAAM,QAAQ,UAAW+B,GACpCA,EAAI,KAAOH,EAAQ,IAAMG,EAAI,OAASH,EAAQ,IAClD,EACMI,EAAShC,EAAM,QAAQ,UAAW+B,GACpCA,EAAI,KAAOF,EAAQ,IAAME,EAAI,OAASF,EAAQ,IAClD,EAEA,GAAIC,IAAW,IAAME,IAAW,GAC5B,OAAOF,EAASE,CAExB,CAGA,OAAOnB,EAAYe,EAAQ,KAAMC,EAAQ,IAAI,CACjD,CAKA,SAASZ,GAAiBd,EAAQC,EAAgB,CAC9C,IAAMsB,EAAQvB,EAAE,WAAaA,EAAE,WAAW,UACpCwB,EAAQvB,EAAE,WAAaA,EAAE,WAAW,UAE1C,MAAI,CAACsB,GAAS,CAACC,EAEJd,EAAYV,EAAE,OAASA,EAAE,WAAW,MAAOC,EAAE,OAASA,EAAE,WAAW,KAAK,EAG5EW,GAAYW,EAAOC,CAAK,CACnC,CAKA,SAAST,GAAcf,EAAQC,EAAgB,CAC3C,IAAM6B,EAAU,MAAM,QAAQ9B,CAAC,EAAIA,EAAI,CAAC,EAClC+B,EAAU,MAAM,QAAQ9B,CAAC,EAAIA,EAAI,CAAC,EAExC,OAAI6B,EAAQ,SAAW,GAAKC,EAAQ,SAAW,EAAU,EACrDD,EAAQ,SAAW,EAAU,EAC7BC,EAAQ,SAAW,EAAU,GAE1BrB,EAAYoB,EAAQ,CAAC,EAAE,KAAMC,EAAQ,CAAC,EAAE,IAAI,CACvD,CC7PA,OAAO,iBAAmB,SAAUC,EAAWC,EAAwBC,EAAc,CACnF,IAAMC,EAAYH,IAASA,EAAK,MAAQA,EAAK,IAAQA,EAAK,MAAQA,EAAK,GAAM,aAC7E,GAAI,CACFI,EAAgBH,EAAWE,CAAQ,CACrC,MAAY,CAAE,CAEd,IAAIE,EAAa,GAEjB,SAASC,EAAOC,EAAc,CAC5B,IAAMC,EAAWD,GAAW,CAAC,EACvBE,EAASD,EAAS,QAAU,CAAC,EAC7BE,EAAWF,EAAS,OAAS,CAAC,EAC9BG,EAAQD,EAAS,MAAM,EAAGL,CAAU,EAG1CJ,EAAU,UAAY,GACtBA,EAAU,MAAM,OAAS,IACzBA,EAAU,MAAM,QAAU,IAC1BA,EAAU,MAAM,OAAS,OACzBA,EAAU,MAAM,QAAU,OAC1BA,EAAU,MAAM,cAAgB,SAChCA,EAAU,MAAM,SAAW,SAG3B,IAAMW,EAAkB,SAAS,cAAc,KAAK,EACpDA,EAAgB,MAAM,KAAO,WAC7BA,EAAgB,MAAM,WAAa,kCACnCA,EAAgB,MAAM,OAAS,KAC/BA,EAAgB,MAAM,SAAW,WACjCA,EAAgB,MAAM,QAAU,OAChCA,EAAgB,MAAM,eAAiB,gBACvCA,EAAgB,MAAM,WAAa,SACnCA,EAAgB,MAAM,MAAQ,OAG9B,IAAMC,EAAgB,SAAS,cAAc,KAAK,EAClDA,EAAc,MAAM,KAAO,WAC3BA,EAAc,MAAM,YAAc,MAClCD,EAAgB,YAAYC,CAAa,EAGzC,IAAIC,EAASC,GAAcF,EAAeX,EAAS,CACjD,OAAQA,EAAU,OAAOA,CAAO,EAAE,MAAM,GAAG,EAAE,IAAI,EAAI,GACrD,KAAMG,EACN,WAAY,IAAM,CAChBA,GAAc,GACdW,EAAc,CAChB,CACF,CAAC,EAGD,GAAKF,EAyBC,OAAOA,EAAO,cAAiB,YACjCA,EAAO,aACLJ,EAAS,OAASL,EAClBK,EAAS,QAAUL,EAAa,YAAc,YAChD,EAGE,OAAOS,EAAO,eAAkB,YAClCA,EAAO,cAAcJ,EAAU,CAAE,OAAAD,CAAO,CAAC,MAjChC,CACX,IAAMQ,EAAQ,SAAS,cAAc,KAAK,EAC1CA,EAAM,UAAY,QAClBA,EAAM,YAAcd,EACpBc,EAAM,MAAM,QAAU,MACtBL,EAAgB,YAAYK,CAAK,EAEjC,IAAMC,EAAW,SAAS,cAAc,KAAK,EAG7C,GAFAA,EAAS,MAAM,QAAU,MAErBR,EAAS,OAASL,EAAY,CAChC,IAAMc,EAAWC,EAAqB,IAAM,CAC1Cf,GAAc,GACdW,EAAc,CAChB,CAAC,EACDE,EAAS,YAAYC,CAAQ,CAC/B,KAAO,CACL,IAAME,EAAO,SAAS,cAAc,MAAM,EAC1CA,EAAK,YAAc,aACnBA,EAAK,MAAM,MAAQ,sCACnBH,EAAS,YAAYG,CAAI,CAC3B,CACAT,EAAgB,YAAYM,CAAQ,CACtC,CAcAjB,EAAU,YAAYW,CAAe,EAGrC,IAAMU,EAAiB,SAAS,cAAc,KAAK,EACnDA,EAAe,MAAM,KAAO,WAC5BA,EAAe,MAAM,SAAW,SAChCA,EAAe,MAAM,SAAW,WAChCrB,EAAU,YAAYqB,CAAc,EAGpC,IAAMC,EAAoBC,GAAqBhB,CAAQ,EAGnDiB,EAAaC,GAAkBlB,EAAS,SAAS,YAAY,EAGjE,GAAIN,EACF,GAAI,CACF,IAAMyB,EAAS,aAAa,QAAQ,oBAAoBzB,CAAO,aAAa,EACxEyB,IAAQF,EAAa,KAAK,MAAME,CAAM,EAC5C,MAAQ,CAAE,CAIZ,IAAIC,EAAejB,EACfc,IACFG,EAAeC,GAAUlB,EAAOF,EAAQgB,CAAU,GAItC,IAAIK,EAAaR,EAAgBb,EAAQmB,EAAc,CACnE,kBAAmBL,GAAqB,OACxC,WAAAE,EACA,QAAAvB,EACA,aAAc,IAAMc,EAAc,EAClC,cAAgBe,GAAsB,CAChC7B,GACF,aAAa,QAAQ,oBAAoBA,CAAO,iBAAkB6B,CAAS,EAE7Ef,EAAc,CAChB,CACF,CAAC,EACK,OAAO,EAGTF,GAAU,OAAOA,EAAO,gBAAmB,YAC7CA,EAAO,eAAgBkB,GAA4B,CAEpCV,EAAe,iBAAiB,qBAAqB,EAC7D,QAASW,GAAa,CACzB,IAAMC,EAAKD,EAAI,aAAa,iBAAiB,EACzCC,GAAMF,EAAW,IAAIE,CAAE,EACzBD,EAAI,MAAM,QAAU,YAEpBA,EAAI,MAAM,QAAU,MAExB,CAAC,CACH,CAAC,CAEL,CAEA,SAASE,EAAUC,EAAkB,CACnC,IAAMC,EAAMD,GAAMA,EAAG,KAAOA,EAAG,KAAOA,EACtC,GAAI,CACF,GAAIC,GAAOA,EAAI,UAAY,SAAU,CACnC,GAAIA,EAAI,SAAWnC,GAAW,OAAOmC,EAAI,OAAO,IAAM,OAAOnC,CAAO,EAAG,OAEnEmC,EAAI,MACNC,EAAcrC,EAAWE,EAAU,OAAOkC,EAAI,KAAK,CAAC,EAEpD/B,EAAO+B,EAAI,OAAO,CAEtB,CACF,MAAY,CAAE,CAChB,CAEA,SAASrB,GAAgB,CACvB,GAAI,CACE,OAAO,WAAa,OAAO,OAAO,UAAU,aAAgB,YAC9D,OAAO,UAAU,YAAY,CAC3B,QAAS,gBACT,MAAOX,EACP,QAASH,CACX,CAAC,CAEL,MAAY,CAAE,CAChB,CAEA,OAAO,iBAAiB,UAAWiC,CAAS,EAC5CnB,EAAc,CAChB,EAEA,SAASQ,GAAqBhB,EAA8B,CAC1D,GAAI,CACF,GAAIA,GAAYA,EAAS,QAAS,CAChC,IAAM+B,EAAM/B,EAAS,QAAQ,uBAAyBA,EAAS,QAAQ,sBAAsB,MACvFgC,EAAKhC,EAAS,QAAQ,eAAiBA,EAAS,QAAQ,cAAc,MAE5E,GAAI+B,GAAOA,EAAI,OAAS,EAAG,OAAOA,EAAI,CAAC,EAAE,MAAQ,KACjD,GAAIC,GAAMA,EAAG,OAAS,EAAG,OAAOA,EAAG,CAAC,EAAE,MAAQ,IAChD,CACF,MAAY,CAAE,CACd,OAAO,IACT",
  "names": ["escapeHtml", "s", "normalizeColor", "color", "n", "b", "u", "addAlpha", "alpha", "S", "v", "C", "getContrastColor", "renderCell", "e", "n", "s", "allItems", "u", "b", "S", "v", "C", "E", "W", "D", "H", "T", "_", "j", "U", "c", "i", "t", "o", "l", "r", "w", "x", "a", "normalizeColor", "p", "g", "escapeHtml", "f", "h", "addAlpha", "k", "L", "prs", "out", "num", "titleText", "url", "rawColor", "normColor", "hasHex", "border", "bg", "fg", "getContrastColor", "itemsList", "B", "O", "$", "A", "d", "M", "V", "X", "q", "totalCount", "doneCount", "pct", "segs", "si", "ColumnHeaderMenu", "field", "options", "anchorElement", "rect", "label", "onClick", "item", "separator", "SlicePanel", "container", "field", "items", "header", "title", "closeBtn", "content", "valueCounts", "empty", "a", "b", "value", "count", "item", "label", "badge", "counts", "fieldValue", "fv", "key", "callback", "ProjectTable", "container", "fields", "items", "options", "hiddenFromStorage", "hiddenFromOptions", "f", "tableContainer", "table", "colgroup", "colIndex", "field", "col", "colAddField", "thead", "tr", "thIndex", "th", "headerContent", "nameSpan", "headerText", "indicator", "isGrouped", "isSliced", "iconsContainer", "filterIcon", "menuBtn", "e", "thAddField", "addFieldBtn", "tbody", "groupingField", "item", "index", "groups", "group", "trHeader", "tdHeader", "toggleBtn", "colorDot", "normalizeColor", "countBadge", "groupRows", "groupItem", "isCollapsed", "row", "dType", "opt", "unassigned", "fv", "placed", "matchId", "matchName", "g", "tdIndex", "td", "v", "renderCell", "event", "headerElement", "dataType", "canGroup", "canSlice", "ColumnHeaderMenu", "direction", "anchorElement", "hiddenFields", "message", "rect", "menu", "header", "separator", "backdrop", "sortConfig", "SlicePanel", "sliceEl", "value", "fieldId", "currentIndex", "suffix", "key", "stored", "config", "order", "orderedFields", "resizer", "startX", "startWidth", "onMouseMove", "newWidth", "onMouseUp", "fieldIndex", "width", "widths", "headers", "setLoadingState", "container", "titleText", "setErrorState", "error", "createLoadMoreButton", "onClick", "btn", "initFilterBar", "viewKey", "options", "parseSortByFields", "sortByFields", "primary", "config", "secondary", "sortItems", "items", "fields", "sortConfig", "field", "f", "sorted", "a", "b", "primaryResult", "compareFieldValues", "secondaryField", "direction", "aValue", "getFieldValue", "bValue", "result", "compareText", "compareNumber", "compareDate", "compareSingleSelect", "compareIteration", "compareLabels", "item", "fieldValue", "fv", "aStr", "bStr", "aNum", "bNum", "aDate", "bDate", "aOption", "bOption", "aIndex", "opt", "bIndex", "aLabels", "bLabels", "view", "container", "viewKey", "viewName", "setLoadingState", "itemsLimit", "render", "payload", "snapshot", "fields", "allItems", "items", "headerContainer", "filterWrapper", "barApi", "initFilterBar", "requestFields", "title", "controls", "loadMore", "createLoadMoreButton", "span", "tableContainer", "groupingFieldName", "getGroupingFieldName", "sortConfig", "parseSortByFields", "stored", "displayItems", "sortItems", "ProjectTable", "fieldName", "matchedIds", "row", "id", "onMessage", "ev", "msg", "setErrorState", "vgb", "gb"]
}
